{"version":3,"file":"utils.js","names":["React","debounce","deepEqual","useEventListener","eventName","handler","element","passive","capture","arguments","length","undefined","savedHandler","useRef","current","useEffect","addEventListener","el","eventListener","event","_savedHandler$current","call","removeEventListener","whenDefined","obj","result","PI","Math","degreesToRadians","degrees","getSquareBB","posX","posY","squareSideLength","x1","y1","x2","y2","getSquareXPosFromAlign","alignment","containerX","containerWidth","horizontalPadding","squareWidth","floor","getSquareWidth","maxSize","containerHeight","verticalPadding","min","pointIsWithinBB","x","y","bb","EditPencil","props","_props$fgColor","fg","fgColor","createElement","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","vectorEffect","Checkmark","_props$fgColor2","useDebouncedMemo","factory","deps","time","state","setState","useState","mountedRef","debouncedSetState","useLayoutEffect","rtlRange","ltrRange","rtl","RegExp","direction","value","test","scrollbarWidthCache","getScrollBarWidth","document","inner","style","width","height","outer","id","position","top","left","visibility","overflow","append","body","w1","offsetWidth","w2","clientWidth","remove","empty","Symbol","useStateWithReactiveInput","inputState","inputStateRef","forceRender","setStateOuter","useCallback","nv","s","pv","onEmpty","makeAccessibilityStringForArray","arr","index","count","str","slice","join","useDeepMemo","ref"],"sources":["../../../src/common/utils.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}