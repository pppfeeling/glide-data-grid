{"version":3,"file":"use-ghost-input.js","names":["React","GridCellKind","isReadWriteCell","onGhostCompositionEnd","_finalValue","useGhostInput","args","state","onKeyDown","onFinishEditing","onKeyUpIn","onCellActivated","setIsFocused","gridSelection","overlayRef","ghostInputRef","ghostInputVisibleRef","gridRef","rowMarkerOffset","getMangledCellContent","reselect","onGhostInput","value","composing","current","undefined","length","trim","col","row","cell","kind","Custom","cellData","data","cellKind","allowOverlay","readonly","_gridRef$current","bounds","getBounds","activation","inputType","key","onGhostCompositionStart","_overlayRef$current","currentOverlayCell","_ghostInputRef$curren","_ghostInputRef$curren2","clear","setVisible","setGhostInputVisible","setOverlay","_gridRef$current2","_ghostInputRef$curren3","onGhostKeyDown","event","_gridSelection$curren","_gridRef$current3","nativeEvent","isComposing","cellContent","content","preventDefault","stopPropagation","shiftKey","isPrintable","ctrlKey","metaKey","altKey","Boolean","isEditingKey","isCursorKey","cancelled","gridArgs","cancel","keyCode","rawEvent","location","onGhostKeyUp","_gridSelection$curren2","_gridRef$current4","onGhostFocus","onGhostBlur"],"sources":["../../../src/data-editor/use-ghost-input.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}