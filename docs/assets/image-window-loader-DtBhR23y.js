const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./number-overlay-editor-QoLfD9CZ.js","./iframe-CB3jNLId.js","./preload-helper-C1FmrZbK.js","./marked.esm-By-yLKzP.js","./marked-FY3qVesh.css","./index-B84JjiES.js","./number-overlay-editor-DjcVbkae.css"])))=>i.map(i=>d[i]);
var Vs=Object.defineProperty;var Js=(e,t,n)=>t in e?Vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ee=(e,t,n)=>Js(e,typeof t!="symbol"?t+"":t,n);import{g as an,c as mn,r as b,R as Yn}from"./iframe-CB3jNLId.js";import{s as It,m as Zs}from"./marked.esm-By-yLKzP.js";import{r as Qs}from"./index-B84JjiES.js";import{_ as el}from"./preload-helper-C1FmrZbK.js";var tl=Object.prototype,nl=tl.hasOwnProperty;function rl(e,t){return e!=null&&nl.call(e,t)}var il=rl,ol=Array.isArray,Mt=ol;const Dw=an(Mt);var al=typeof mn=="object"&&mn&&mn.Object===Object&&mn,Ta=al,sl=Ta,ll=typeof self=="object"&&self&&self.Object===Object&&self,cl=sl||ll||Function("return this")(),Pt=cl,ul=Pt,dl=ul.Symbol,xr=dl,bo=xr,Aa=Object.prototype,fl=Aa.hasOwnProperty,hl=Aa.toString,Dn=bo?bo.toStringTag:void 0;function pl(e){var t=fl.call(e,Dn),n=e[Dn];try{e[Dn]=void 0;var i=!0}catch{}var r=hl.call(e);return i&&(t?e[Dn]=n:delete e[Dn]),r}var gl=pl,vl=Object.prototype,ml=vl.toString;function yl(e){return ml.call(e)}var bl=yl,wo=xr,wl=gl,Sl=bl,Cl="[object Null]",_l="[object Undefined]",So=wo?wo.toStringTag:void 0;function El(e){return e==null?e===void 0?_l:Cl:So&&So in Object(e)?wl(e):Sl(e)}var qn=El;function Il(e){return e!=null&&typeof e=="object"}var Kn=Il,Ml=qn,Pl=Kn,kl="[object Symbol]";function xl(e){return typeof e=="symbol"||Pl(e)&&Ml(e)==kl}var Tr=xl,Tl=Mt,Al=Tr,Rl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ol=/^\w*$/;function $l(e,t){if(Tl(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Al(e)?!0:Ol.test(e)||!Rl.test(e)||t!=null&&e in Object(t)}var Ri=$l;function Dl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var sn=Dl,Fl=qn,Hl=sn,Ll="[object AsyncFunction]",Bl="[object Function]",Wl="[object GeneratorFunction]",zl="[object Proxy]";function Nl(e){if(!Hl(e))return!1;var t=Fl(e);return t==Bl||t==Wl||t==Ll||t==zl}var Ra=Nl,Xl=Pt,jl=Xl["__core-js_shared__"],Ul=jl,Vr=Ul,Co=function(){var e=/[^.]+$/.exec(Vr&&Vr.keys&&Vr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Yl(e){return!!Co&&Co in e}var Gl=Yl,ql=Function.prototype,Kl=ql.toString;function Vl(e){if(e!=null){try{return Kl.call(e)}catch{}try{return e+""}catch{}}return""}var Oa=Vl,Jl=Ra,Zl=Gl,Ql=sn,ec=Oa,tc=/[\\^$.*+?()[\]{}|]/g,nc=/^\[object .+?Constructor\]$/,rc=Function.prototype,ic=Object.prototype,oc=rc.toString,ac=ic.hasOwnProperty,sc=RegExp("^"+oc.call(ac).replace(tc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lc(e){if(!Ql(e)||Zl(e))return!1;var t=Jl(e)?sc:nc;return t.test(ec(e))}var cc=lc;function uc(e,t){return e==null?void 0:e[t]}var dc=uc,fc=cc,hc=dc;function pc(e,t){var n=hc(e,t);return fc(n)?n:void 0}var ln=pc,gc=ln,vc=gc(Object,"create"),Ar=vc,_o=Ar;function mc(){this.__data__=_o?_o(null):{},this.size=0}var yc=mc;function bc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var wc=bc,Sc=Ar,Cc="__lodash_hash_undefined__",_c=Object.prototype,Ec=_c.hasOwnProperty;function Ic(e){var t=this.__data__;if(Sc){var n=t[e];return n===Cc?void 0:n}return Ec.call(t,e)?t[e]:void 0}var Mc=Ic,Pc=Ar,kc=Object.prototype,xc=kc.hasOwnProperty;function Tc(e){var t=this.__data__;return Pc?t[e]!==void 0:xc.call(t,e)}var Ac=Tc,Rc=Ar,Oc="__lodash_hash_undefined__";function $c(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rc&&t===void 0?Oc:t,this}var Dc=$c,Fc=yc,Hc=wc,Lc=Mc,Bc=Ac,Wc=Dc;function Cn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Cn.prototype.clear=Fc;Cn.prototype.delete=Hc;Cn.prototype.get=Lc;Cn.prototype.has=Bc;Cn.prototype.set=Wc;var zc=Cn;function Nc(){this.__data__=[],this.size=0}var Xc=Nc;function jc(e,t){return e===t||e!==e&&t!==t}var Oi=jc,Uc=Oi;function Yc(e,t){for(var n=e.length;n--;)if(Uc(e[n][0],t))return n;return-1}var Rr=Yc,Gc=Rr,qc=Array.prototype,Kc=qc.splice;function Vc(e){var t=this.__data__,n=Gc(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Kc.call(t,n,1),--this.size,!0}var Jc=Vc,Zc=Rr;function Qc(e){var t=this.__data__,n=Zc(t,e);return n<0?void 0:t[n][1]}var eu=Qc,tu=Rr;function nu(e){return tu(this.__data__,e)>-1}var ru=nu,iu=Rr;function ou(e,t){var n=this.__data__,i=iu(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var au=ou,su=Xc,lu=Jc,cu=eu,uu=ru,du=au;function _n(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}_n.prototype.clear=su;_n.prototype.delete=lu;_n.prototype.get=cu;_n.prototype.has=uu;_n.prototype.set=du;var Or=_n,fu=ln,hu=Pt,pu=fu(hu,"Map"),$i=pu,Eo=zc,gu=Or,vu=$i;function mu(){this.size=0,this.__data__={hash:new Eo,map:new(vu||gu),string:new Eo}}var yu=mu;function bu(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var wu=bu,Su=wu;function Cu(e,t){var n=e.__data__;return Su(t)?n[typeof t=="string"?"string":"hash"]:n.map}var $r=Cu,_u=$r;function Eu(e){var t=_u(this,e).delete(e);return this.size-=t?1:0,t}var Iu=Eu,Mu=$r;function Pu(e){return Mu(this,e).get(e)}var ku=Pu,xu=$r;function Tu(e){return xu(this,e).has(e)}var Au=Tu,Ru=$r;function Ou(e,t){var n=Ru(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var $u=Ou,Du=yu,Fu=Iu,Hu=ku,Lu=Au,Bu=$u;function En(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}En.prototype.clear=Du;En.prototype.delete=Fu;En.prototype.get=Hu;En.prototype.has=Lu;En.prototype.set=Bu;var Di=En,$a=Di,Wu="Expected a function";function Fi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Wu);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Fi.Cache||$a),n}Fi.Cache=$a;var zu=Fi,Nu=zu,Xu=500;function ju(e){var t=Nu(e,function(i){return n.size===Xu&&n.clear(),i}),n=t.cache;return t}var Uu=ju,Yu=Uu,Gu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qu=/\\(\\)?/g,Ku=Yu(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Gu,function(n,i,r,o){t.push(r?o.replace(qu,"$1"):i||n)}),t}),Vu=Ku;function Ju(e,t){for(var n=-1,i=e==null?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var Zu=Ju,Io=xr,Qu=Zu,ed=Mt,td=Tr,Mo=Io?Io.prototype:void 0,Po=Mo?Mo.toString:void 0;function Da(e){if(typeof e=="string")return e;if(ed(e))return Qu(e,Da)+"";if(td(e))return Po?Po.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var nd=Da,rd=nd;function id(e){return e==null?"":rd(e)}var od=id,ad=Mt,sd=Ri,ld=Vu,cd=od;function ud(e,t){return ad(e)?e:sd(e,t)?[e]:ld(cd(e))}var Fa=ud,dd=qn,fd=Kn,hd="[object Arguments]";function pd(e){return fd(e)&&dd(e)==hd}var gd=pd,ko=gd,vd=Kn,Ha=Object.prototype,md=Ha.hasOwnProperty,yd=Ha.propertyIsEnumerable,bd=ko(function(){return arguments}())?ko:function(e){return vd(e)&&md.call(e,"callee")&&!yd.call(e,"callee")},La=bd,wd=9007199254740991,Sd=/^(?:0|[1-9]\d*)$/;function Cd(e,t){var n=typeof e;return t=t??wd,!!t&&(n=="number"||n!="symbol"&&Sd.test(e))&&e>-1&&e%1==0&&e<t}var Hi=Cd,_d=9007199254740991;function Ed(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_d}var Li=Ed,Id=Tr;function Md(e){if(typeof e=="string"||Id(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Dr=Md,Pd=Fa,kd=La,xd=Mt,Td=Hi,Ad=Li,Rd=Dr;function Od(e,t,n){t=Pd(t,e);for(var i=-1,r=t.length,o=!1;++i<r;){var a=Rd(t[i]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++i!=r?o:(r=e==null?0:e.length,!!r&&Ad(r)&&Td(a,r)&&(xd(e)||kd(e)))}var Ba=Od,$d=il,Dd=Ba;function Fd(e,t){return e!=null&&Dd(e,t,$d)}var Hd=Fd;const Ld=an(Hd);function Wa(e="This should not happen"){throw new Error(e)}function Rt(e,t="Assertion failed"){if(!e)return Wa(t)}function Bi(e,t){return Wa(t??"Hell froze over")}function Fw(e,t){try{return e()}catch{return t}}const xo=Object.prototype.hasOwnProperty;function wn(e,t){let n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&wn(e[i],t[i]););return i===-1}if(!n||typeof e=="object"){i=0;for(n in e)if(xo.call(e,n)&&++i&&!xo.call(t,n)||!(n in t)||!wn(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}const br=null,Wi=void 0;var ve=(e=>(e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom",e))(ve||{}),Bd=(e=>(e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay",e.HeaderArrowDown="headerArrowDown",e.HeaderArrowUp="headerArrowUp",e))(Bd||{}),pi=(e=>(e.Triangle="triangle",e.Dots="dots",e))(pi||{});function Hw(e){return"width"in e&&typeof e.width=="number"}async function Lw(e){return typeof e=="object"?e:await e()}function vr(e){return!(e.kind==="loading"||e.kind==="bubble"||e.kind==="row-id"||e.kind==="protected"||e.kind==="drilldown")}function Bw(e){return!(e.kind==="loading"||e.kind==="bubble"||e.kind==="row-id"||e.kind==="protected"||e.kind==="drilldown"||e.kind==="boolean"||e.kind==="image"||e.kind==="custom")}function zi(e){return e.kind==="marker"||e.kind==="new-row"||e.kind==="row-status"}function Wd(e){if(!vr(e)||e.kind==="image")return!1;switch(e.kind){case"text":case"number":case"markdown":case"uri":case"custom":case"boolean":return e.readonly!==!0;default:Bi(e,"A cell was passed with an invalid kind")}}function zd(e){return Ld(e,"editor")}function Ni(e){return!(e.readonly??!1)}var zt=(e=>(e.NewRow="new-row",e.Marker="marker",e.RowStatus="row-status",e.RowId="row-id",e))(zt||{});const wr={shape:"square",size:4,offsetX:-2,offsetY:-2,outline:0};function Jr(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(i,r){return i[0]-r[0]}),n.push([...t[0]]);for(const i of t.slice(1)){const r=n[n.length-1];r[1]<i[0]?n.push([...i]):r[1]<i[1]&&(r[1]=i[1])}return n}let To;const et=class et{constructor(t){this.items=t}offset(t){if(t===0)return this;const n=this.items.map(i=>[i[0]+t,i[1]+t]);return new et(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,i=Jr([...this.items,n]);return new et(i)}remove(t){const n=[...this.items],i=typeof t=="number"?t:t[0],r=typeof t=="number"?t+1:t[1];for(const[o,a]of n.entries()){const[s,l]=a;if(s<=r&&i<=l){const c=[];s<i&&c.push([s,i]),r<l&&c.push([r,l]),n.splice(o,1,...c)}}return new et(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[i,r]=this.items[n];if(t>=i&&t<r)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const i=t.items[n],r=this.items[n];if(i[0]!==r[0]||i[1]!==r[1])return!1}return!0}toArray(){const t=[];for(const[n,i]of this.items)for(let r=n;r<i;r++)t.push(r);return t}get length(){let t=0;for(const[n,i]of this.items)t+=i-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let i=t;i<n;i++)yield i}};ee(et,"create",t=>new et(Jr(t))),ee(et,"empty",()=>To??(To=new et([]))),ee(et,"fromSingleSelection",t=>et.empty().add(t)),ee(et,"fromArray",t=>{if(t.length===0)return et.empty();const n=t.map(r=>[r,r+1]),i=Jr(n);return new et(i)});let gi=et;function Nd(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var Xd=Nd,jd=/\s/;function Ud(e){for(var t=e.length;t--&&jd.test(e.charAt(t)););return t}var Yd=Ud,Gd=Yd,qd=/^\s+/;function Kd(e){return e&&e.slice(0,Gd(e)+1).replace(qd,"")}var Vd=Kd,Jd=Vd,Ao=sn,Zd=Tr,Ro=NaN,Qd=/^[-+]0x[0-9a-f]+$/i,ef=/^0b[01]+$/i,tf=/^0o[0-7]+$/i,nf=parseInt;function rf(e){if(typeof e=="number")return e;if(Zd(e))return Ro;if(Ao(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ao(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jd(e);var n=ef.test(e);return n||tf.test(e)?nf(e.slice(2),n?2:8):Qd.test(e)?Ro:+e}var Xi=rf,of=Xd,Zr=Xi;function af(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=Zr(n),n=n===n?n:0),t!==void 0&&(t=Zr(t),t=t===t?t:0),of(Zr(e),t,n)}var sf=af;const Sr=an(sf);var lf="__lodash_hash_undefined__";function cf(e){return this.__data__.set(e,lf),this}var uf=cf;function df(e){return this.__data__.has(e)}var ff=df,hf=Di,pf=uf,gf=ff;function Cr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new hf;++t<n;)this.add(e[t])}Cr.prototype.add=Cr.prototype.push=pf;Cr.prototype.has=gf;var vf=Cr;function mf(e,t){return e.has(t)}var yf=mf,bf=ln,wf=Pt,Sf=bf(wf,"Set"),Cf=Sf;function _f(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var Ef=_f;function If(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var Mf=If,Pf=Math.ceil,kf=Math.max;function xf(e,t,n,i){for(var r=-1,o=kf(Pf((t-e)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=e,e+=n;return a}var Tf=xf,Af=Ra,Rf=Li;function Of(e){return e!=null&&Rf(e.length)&&!Af(e)}var ji=Of,$f=Oi,Df=ji,Ff=Hi,Hf=sn;function Lf(e,t,n){if(!Hf(n))return!1;var i=typeof t;return(i=="number"?Df(n)&&Ff(t,n.length):i=="string"&&t in n)?$f(n[t],e):!1}var Bf=Lf,Wf=Xi,Oo=1/0,zf=17976931348623157e292;function Nf(e){if(!e)return e===0?e:0;if(e=Wf(e),e===Oo||e===-Oo){var t=e<0?-1:1;return t*zf}return e===e?e:0}var Xf=Nf,jf=Tf,Uf=Bf,Qr=Xf;function Yf(e){return function(t,n,i){return i&&typeof i!="number"&&Uf(t,n,i)&&(n=i=void 0),t=Qr(t),n===void 0?(n=t,t=0):n=Qr(n),i=i===void 0?t<n?1:-1:Qr(i),jf(t,n,i,e)}}var Gf=Yf,qf=Gf,Kf=qf(),Vf=Kf;const Jf=an(Vf);var Zf=Pt,Qf=function(){return Zf.Date.now()},eh=Qf,th=sn,ei=eh,$o=Xi,nh="Expected a function",rh=Math.max,ih=Math.min;function oh(e,t,n){var i,r,o,a,s,l,c=0,u=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(nh);t=$o(t)||0,th(n)&&(u=!!n.leading,h="maxWait"in n,o=h?rh($o(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function f(I){var A=i,E=r;return i=r=void 0,c=I,a=e.apply(E,A),a}function d(I){return c=I,s=setTimeout(y,t),u?f(I):a}function v(I){var A=I-l,E=I-c,M=t-A;return h?ih(M,o-E):M}function m(I){var A=I-l,E=I-c;return l===void 0||A>=t||A<0||h&&E>=o}function y(){var I=ei();if(m(I))return g(I);s=setTimeout(y,v(I))}function g(I){return s=void 0,p&&i?f(I):(i=r=void 0,a)}function w(){s!==void 0&&clearTimeout(s),c=0,i=l=r=s=void 0}function C(){return s===void 0?a:g(ei())}function S(){var I=ei(),A=m(I);if(i=arguments,r=this,l=I,A){if(s===void 0)return d(l);if(h)return clearTimeout(s),s=setTimeout(y,t),f(l)}return s===void 0&&(s=setTimeout(y,t)),a}return S.cancel=w,S.flush=C,S}var za=oh;const ah=an(za);function St(e,t,n,i,r=!1){const o=b.useRef();o.current=t,b.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const a=n,s=l=>{var c;(c=o.current)==null||c.call(a,l)};return a.addEventListener(e,s,{passive:i,capture:r}),()=>{a.removeEventListener(e,s,{capture:r})}},[e,n,i,r])}function Ww(e,t){return e===void 0?void 0:t}const sh=Math.PI;function Do(e){return e*sh/180}const Na=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),Xa=(e,t,n,i,r)=>{switch(e){case"left":return Math.floor(t)+i+r/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-i-r/2}},ja=(e,t,n)=>Math.min(e,t-n*2),Ua=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,Ui=e=>{const t=e.fgColor??"currentColor";return b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),b.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},lh=e=>{const t=e.fgColor??"currentColor";return b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function ch(e,t,n){const[i,r]=b.useState(e),o=b.useRef(!0);b.useEffect(()=>()=>{o.current=!1},[]);const a=b.useRef(ah(s=>{o.current&&r(s)},n));return b.useLayoutEffect(()=>{o.current&&a.current(()=>e())},t),i}const uh="֑-߿יִ-﷽ﹰ-ﻼ",dh="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",fh=new RegExp("^[^"+dh+"]*["+uh+"]");function Yi(e){return fh.test(e)?"rtl":"not-rtl"}let ur;function Fo(){if(typeof document>"u")return 0;if(ur!==void 0)return ur;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),ur=n-i,ur}const Jt=Symbol();function zw(e){const t=b.useRef([Jt,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,i]=b.useState(e),[,r]=b.useState(),o=b.useCallback(s=>{const l=t.current[0];l!==Jt&&(s=typeof s=="function"?s(l):s,s===l)||(l!==Jt&&r({}),i(c=>typeof s=="function"?s(l===Jt?c:l):s),t.current[0]=Jt)},[]),a=b.useCallback(()=>{t.current[0]=Jt,r({})},[]);return[t.current[0]===Jt?n:t.current[0],o,a]}function Ya(e){if(e.length===0)return"";let t=0,n=0;for(const i of e){if(n+=i.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function Nw(e){const t=b.useRef(e);return wn(e,t.current)||(t.current=e),t.current}var vn=new Map,yn=new Map,vi=new Map;function hh(){vn.clear(),vi.clear(),yn.clear()}function ph(e,t,n,i,r){var o,a,s;let l=0,c={};for(let h of e)l+=(o=n.get(h))!=null?o:r,c[h]=((a=c[h])!=null?a:0)+1;let u=t-l;for(let h of Object.keys(c)){let p=c[h],f=(s=n.get(h))!=null?s:r,d=f*p/l,v=u*d*i/p,m=f+v;n.set(h,m)}}function gh(e,t){var n;let i=new Map,r=0;for(let c of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let u=e.measureText(c).width;i.set(c,u),r+=u}let o=r/i.size,a=3,s=(t/o+a)/(a+1),l=i.keys();for(let c of l)i.set(c,((n=i.get(c))!=null?n:o)*s);return i}function Nn(e,t,n,i){var r,o;let a=yn.get(n);if(i&&a!==void 0&&a.count>2e4){let c=vi.get(n);if(c===void 0&&(c=gh(e,a.size),vi.set(n,c)),a.count>5e5){let h=0;for(let p of t)h+=(r=c.get(p))!=null?r:a.size;return h*1.01}let u=e.measureText(t);return ph(t,u.width,c,Math.max(.05,1-a.count/2e5),a.size),yn.set(n,{count:a.count+t.length,size:a.size}),u.width}let s=e.measureText(t),l=s.width/t.length;if(((o=a==null?void 0:a.count)!=null?o:0)>2e4)return s.width;if(a===void 0)yn.set(n,{count:t.length,size:l});else{let c=l-a.size,u=t.length/(a.count+t.length),h=a.size+c*u;yn.set(n,{count:a.count+t.length,size:h})}return s.width}function vh(e,t,n,i,r,o,a,s){if(t.length<=1)return t.length;if(r<n)return-1;let l=Math.floor(n/r*o),c=Nn(e,t.slice(0,Math.max(0,l)),i,a);if(c!==n)if(c<n){for(;c<n;)l++,c=Nn(e,t.slice(0,Math.max(0,l)),i,a);l--}else for(;c>n;){let u=t.lastIndexOf(" ",l-1);u>0?l=u:l--,c=Nn(e,t.slice(0,Math.max(0,l)),i,a)}if(t[l]!==" "){let u=0;u=t.lastIndexOf(" ",l),u>0&&(l=u)}return l}function mh(e,t,n,i,r,o){let a=`${t}_${n}_${i}px`,s=vn.get(a);if(s!==void 0)return s;if(i<=0)return[];let l=[],c=t.split(`
`),u=yn.get(n),h=u===void 0?t.length:i/u.size*1.5,p=r&&u!==void 0&&u.count>2e4;for(let f of c){let d=Nn(e,f.slice(0,Math.max(0,h)),n,p),v=Math.min(f.length,h);if(d<=i)l.push(f);else{for(;d>i;){let m=vh(e,f,i,n,d,v,p),y=f.slice(0,Math.max(0,m));f=f.slice(y.length),l.push(y),d=Nn(e,f.slice(0,Math.max(0,h)),n,p),v=Math.min(f.length,h)}d>0&&l.push(f)}}return l=l.map((f,d)=>d===0?f.trimEnd():f.trim()),vn.set(a,l),vn.size>500&&vn.delete(vn.keys().next().value),l}function yh(e,t){return Yn.useMemo(()=>e.map((n,i)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:i,sticky:i<t,indicatorIcon:n.indicatorIcon,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked,headerRowMarkerTheme:n.headerRowMarkerTheme,headerRowMarkerAlwaysVisible:n.headerRowMarkerAlwaysVisible,headerRowMarkerDisabled:n.headerRowMarkerDisabled,rowGroupBorder:n.rowGroupBorder,required:n.required})),[e,t])}function Xw(e,t){const[n,i]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(i))return!0;if(e.current!==void 0){if(mr(e.current.cell,t))return!0;const r=[e.current.range,...e.current.rangeStack];for(const o of r)if(n>=o.x&&n<o.x+o.width&&i>=o.y&&i<o.y+o.height)return!0}return!1}function rn(e,t){return e===void 0?"":typeof e=="string"?e:t!==void 0&&t>=0&&t<e.length?e[t]:e.length>0?e[e.length-1]:""}function mi(e,t,n){if(e!==void 0)return typeof e=="string"?t===n-1?e:void 0:t<e.length?e[t]:void 0}function bh(e,t){const n=rn(e),i=rn(t);return n===i}function yi(e,t,n,i){for(let r=0;r<=n;r++){const o=mi(e,r,i)??"",a=mi(t,r,i)??"";if(o!==a)return!1}return!0}function wh(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function Sh(e,t){const[n,i]=e;return n>=t.x&&n<t.x+t.width&&i>=t.y&&i<t.y+t.height}function mr(e,t){return(e==null?void 0:e[0])===(t==null?void 0:t[0])&&(e==null?void 0:e[1])===(t==null?void 0:t[1])}function Ga(e){return[e.x+e.width-1,e.y+e.height-1]}function Ho(e,t,n){const i=n.x,r=n.x+n.width-1,o=n.y,a=n.y+n.height-1,[s,l]=e;if(l<o||l>a)return!1;if(t.span===void 0)return s>=i&&s<=r;const[c,u]=t.span;return c>=i&&c<=r||u>=i&&c<=r||c<i&&u>r}function Ch(e,t,n,i){let r=0;if(n.current===void 0)return r;const o=n.current.range;(i||o.height*o.width>1)&&Ho(e,t,o)&&r++;for(const a of n.current.rangeStack)Ho(e,t,a)&&r++;return r}function qa(e,t){let n=e;if(t!==void 0){let i=[...e];const r=n[t.src];t.src>t.dest?(i.splice(t.src,1),i.splice(t.dest,0,r)):(i.splice(t.dest+1,0,r),i.splice(t.src,1)),i=i.map((o,a)=>({...o,sticky:e[a].sticky})),n=i}return n}function Sn(e,t){let n=0;const i=qa(e,t);for(let r=0;r<i.length;r++){const o=i[r];if(o.sticky)n+=o.width;else break}return n}function In(e,t,n){if(typeof n=="number")return t*n;{let i=0;for(let r=e-t;r<e;r++)i+=n(r);return i}}function bi(e,t,n,i,r){const o=qa(e,i),a=[];for(const c of o)if(c.sticky)a.push(c);else break;if(a.length>0)for(const c of a)n-=c.width;let s=t,l=r??0;for(;l<=n&&s<o.length;)l+=o[s].width,s++;for(let c=t;c<s;c++){const u=o[c];u.sticky||a.push(u)}return a}function _h(e,t,n){let i=0;for(const r of t){const o=r.sticky?i:i+(n??0);if(e<=o+r.width)return r.sourceIndex;i+=r.width}return-1}function Eh(e,t,n,i,r,o,a,s,l,c,u,h){const p=u??(n?1:0),f=h??(n?[r]:[]),d=f.reduce((w,C)=>w+C,0),v=i+d;if(n&&p>0){let w=0;for(let C=0;C<p;C++)if(w+=f[C]??0,e<=w)return-(C+2)}if(e<=v)return-1;let m=t;for(let w=0;w<c;w++){const C=o-1-w,S=typeof a=="number"?a:a(C);if(m-=S,e>=m)return C}const y=o-c,g=e-(l??0);if(typeof a=="number"){const w=Math.floor((g-v)/a)+s;return w>=y?void 0:w}else{let w=v;for(let C=s;C<y;C++){const S=a(C);if(g<=w+S)return C;w+=S}return}}let yr=0,Xn={};const Ih=typeof window>"u";async function Mh(){var e;Ih||((e=document==null?void 0:document.fonts)==null?void 0:e.ready)===void 0||(await document.fonts.ready,yr=0,Xn={},hh())}Mh();function Ka(e,t,n,i){return`${e}_${i??(t==null?void 0:t.font)}_${n}`}function cn(e,t,n,i="middle"){const r=Ka(e,t,i,n);let o=Xn[r];return o===void 0&&(o=t.measureText(e),Xn[r]=o,yr++),yr>1e4&&(Xn={},yr=0),o}function Va(e,t){const n=Ka(e,void 0,"middle",t);return Xn[n]}function ct(e,t){return typeof t!="string"&&(t=t.baseFontFull),Ph(e,t)}function Lo(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const i=e.measureText(n);return e.restore(),i}const Bo=[];function Ph(e,t){for(const o of Bo)if(o.key===t)return o.val;const n=Lo(e,"alphabetic"),r=-(Lo(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return Bo.push({key:t,val:r}),r}function kh(e,t,n,i,r,o){const{ctx:a,rect:s,theme:l}=e;let c=Number.MAX_SAFE_INTEGER;const u=500;if(t!==void 0&&(c=n-t,c<u)){const h=1-c/u;a.globalAlpha=h,a.fillStyle=l.bgSearchResult,a.fillRect(s.x+1,s.y+1,s.width-(r?2:1),s.height-(o?2:1)),a.globalAlpha=1,i!==void 0&&(i.fillStyle=l.bgSearchResult)}return c<u}function Fr(e,t,n){const{ctx:i,theme:r}=e,o=t??{},a=n??r.textDark;return a!==o.fillStyle&&(i.fillStyle=a,o.fillStyle=a),o}function Ja(e,t,n,i,r,o,a,s,l){l==="right"?e.fillText(t,n+r-(s.cellHorizontalPadding+.5),i+o/2+a):l==="center"?e.fillText(t,n+r/2,i+o/2+a):e.fillText(t,n+s.cellHorizontalPadding+.5,i+o/2+a)}function Za(e,t){const n=cn("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function xh(e,t){e=String(e),e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function Th(e,t,n,i,r,o,a,s,l,c){const u=s.baseFontFull,h=mh(e,t,u,r-s.cellHorizontalPadding*2,c??!1),p=Za(e,u),f=s.lineHeight*p,d=p+f*(h.length-1),v=d+s.cellVerticalPadding>o;v&&(e.save(),e.rect(n,i,r,o),e.clip());const m=i+o/2-d/2;let y=Math.max(i+s.cellVerticalPadding,m);for(const g of h)if(Ja(e,g,n,y,r,p,a,s,l),y+=f,y>i+o)break;v&&e.restore()}function Wt(e,t,n,i,r){const{ctx:o,rect:a,theme:s}=e,{x:l,y:c,width:u,height:h}=a;i=i??!1,i||(t=xh(t,u));const p=ct(o,s),f=Yi(t)==="rtl";if(n===void 0&&f&&(n="right"),f&&(o.direction="rtl"),t.length>0){let d=!1;n==="right"?(o.textAlign="right",d=!0):n!==void 0&&n!=="left"&&(o.textAlign=n,d=!0),i?Th(o,t,l,c,u,h,p,s,n,r):Ja(o,t,l,c,u,h,p,s,n),d&&(o.textAlign="start"),f&&(o.direction="inherit")}}function Et(e,t,n,i,r,o){typeof o=="number"&&(o={tl:o,tr:o,br:o,bl:o}),o={tl:Math.max(0,Math.min(o.tl,r/2,i/2)),tr:Math.max(0,Math.min(o.tr,r/2,i/2)),bl:Math.max(0,Math.min(o.bl,r/2,i/2)),br:Math.max(0,Math.min(o.br,r/2,i/2))},e.moveTo(t+o.tl,n),e.arcTo(t+i,n,t+i,n+o.tr,o.tr),e.arcTo(t+i,n+r,t+i-o.br,n+r,o.br),e.arcTo(t,n+r,t,n+r-o.bl,o.bl),e.arcTo(t,n,t+o.tl,n,o.tl)}function Ah(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function Rh(e,t,n){const i=function(s,l){const c=l.x-s.x,u=l.y-s.y,h=Math.sqrt(c*c+u*u),p=c/h,f=u/h;return{x:c,y:l.y-s.y,len:h,nx:p,ny:f,ang:Math.atan2(f,p)}};let r;const o=t.length;let a=t[o-1];for(let s=0;s<o;s++){let l=t[s%o];const c=t[(s+1)%o],u=i(l,a),h=i(l,c),p=u.nx*h.ny-u.ny*h.nx,f=u.nx*h.nx-u.ny*-h.ny;let d=Math.asin(p<-1?-1:p>1?1:p),v=1,m=!1;f<0?d<0?d=Math.PI+d:(d=Math.PI-d,v=-1,m=!0):d>0&&(v=-1,m=!0),r=l.radius!==void 0?l.radius:n;const y=d/2;let g=Math.abs(Math.cos(y)*r/Math.sin(y)),w;g>Math.min(u.len/2,h.len/2)?(g=Math.min(u.len/2,h.len/2),w=Math.abs(g*Math.sin(y)/Math.cos(y))):w=r;let C=l.x+h.nx*g,S=l.y+h.ny*g;C+=-h.ny*w*v,S+=h.nx*w*v,e.arc(C,S,w,u.ang+Math.PI/2*v,h.ang-Math.PI/2*v,m),a=l,l=c}e.closePath()}function wi(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m){const y={x:0,y:o+c,width:0,height:0},g=v??(r>0?1:0),w=-(g+1);if(e>=f.length||t>=u||t<w||e<0)return y;const C=m??(r>0?[r]:[]),S=C.reduce((A,E)=>A+E,0),I=o-S;if(e>=h){const A=a>e?-1:1,E=Sn(f);y.x+=E+l;for(let M=a;M!==e;M+=A)y.x+=f[A===1?M:M-1].width*A}else for(let A=0;A<e;A++)y.x+=f[A].width;if(y.width=f[e].width+1,t===-1)y.y=S,y.height=I;else if(t<=-2){const A=-(t+2);let E=0;for(let T=0;T<A;T++)E+=C[T]??0;y.y=E,y.height=C[A]??r;let M=e;const $=f[e].group,P=f[e].sticky;for(;M>0&&yi(f[M-1].group,$,A,g)&&f[M-1].sticky===P;){const T=f[M-1];y.x-=T.width,y.width+=T.width,M--}let k=e;for(;k+1<f.length&&yi(f[k+1].group,$,A,g)&&f[k+1].sticky===P;){const T=f[k+1];y.width+=T.width,k++}if(!P){const T=Sn(f),x=y.x-T;x<0&&(y.x-=x,y.width+=x),y.x+y.width>n&&(y.width=n-y.x)}}else if(t>=u-p){let A=u-t;for(y.y=i;A>0;){const E=t+A-1;y.height=typeof d=="number"?d:d(E),y.y-=y.height,A--}y.height+=1}else{const A=s>t?-1:1;if(typeof d=="number"){const E=t-s;y.y+=E*d}else for(let E=s;E!==t;E+=A)y.y+=d(E)*A;y.height=(typeof d=="number"?d:d(t))+1}return y}const Gi=1<<21;function mt(e,t){return(t+2)*Gi+e}function Qa(e){return e%Gi}function qi(e){return Math.floor(e/Gi)-2}function Ki(e){const t=Qa(e),n=qi(e);return[t,n]}class es{constructor(){ee(this,"visibleWindow",{x:0,y:0,width:0,height:0});ee(this,"freezeCols",0);ee(this,"freezeRows",[]);ee(this,"isInWindow",t=>{const n=Qa(t),i=qi(t),r=this.visibleWindow,o=n>=r.x&&n<=r.x+r.width||n<this.freezeCols,a=i>=r.y&&i<=r.y+r.height||this.freezeRows.includes(i);return o&&a})}setWindow(t,n,i){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&wn(this.freezeRows,i)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=i,this.clearOutOfWindow())}}class Oh extends es{constructor(){super(...arguments);ee(this,"cache",new Map);ee(this,"setValue",(n,i)=>{this.cache.set(mt(n[0],n[1]),i)});ee(this,"getValue",n=>this.cache.get(mt(n[0],n[1])));ee(this,"clearOutOfWindow",()=>{for(const[n]of this.cache.entries())this.isInWindow(n)||this.cache.delete(n)})}}class bn{constructor(t=[]){ee(this,"cells");this.cells=new Set(t.map(n=>mt(n[0],n[1])))}add(t){this.cells.add(mt(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(mt(t[0],t[1]))}remove(t){this.cells.delete(mt(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(qi(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let i=t.x;i<t.x+t.width;i++)if(this.cells.has(mt(i,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield Ki(t)}}function $h(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class Dh{constructor(t,n){ee(this,"spriteMap",new Map);ee(this,"headerIcons");ee(this,"inFlight",0);this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,i,r,o,a,s,l=1){const[c,u]=$h(n,s),h=a*Math.ceil(window.devicePixelRatio),p=`${c}_${u}_${h}_${t}`;let f=this.spriteMap.get(p);if(f===void 0){const d=this.headerIcons[t];if(d===void 0)return;f=document.createElement("canvas");const v=f.getContext("2d");if(v===null)return;const m=new Image;m.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(d({fgColor:u,bgColor:c}))}`,this.spriteMap.set(p,f);const y=m.decode();if(y===void 0)return;this.inFlight++,y.then(()=>{v.drawImage(m,0,0,h,h)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else l<1&&(i.globalAlpha=l),i.drawImage(f,0,0,h,h,r,o,a,a),l<1&&(i.globalAlpha=1)}}const ti={};let Lt=null;function Fh(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function Si(e){const t=e.toLowerCase().trim();if(ti[t]!==void 0)return ti[t];Lt=Lt||Fh(),Lt.style.color="#000",Lt.style.color=t;const n=getComputedStyle(Lt).color;Lt.style.color="#fff",Lt.style.color=t;const i=getComputedStyle(Lt).color;if(i!==n)return[0,0,0,1];let r=i.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return r.length<4&&r.push(1),r=r.map(o=>Number.isNaN(o)?0:o),ti[t]=r,r}function Mn(e,t){const[n,i,r]=Si(e);return`rgba(${n}, ${i}, ${r}, ${t})`}const Wo=new Map;function zo(e,t){const n=`${e}-${t}`,i=Wo.get(n);if(i!==void 0)return i;const r=st(e,t);return Wo.set(n,r),r}function st(e,t){if(t===void 0)return e;const[n,i,r,o]=Si(e);if(o===1)return e;const[a,s,l,c]=Si(t),u=o+c*(1-o),h=(o*n+c*a*(1-o))/u,p=(o*i+c*s*(1-o))/u,f=(o*r+c*l*(1-o))/u;return`rgba(${h}, ${p}, ${f}, ${u})`}function ts(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y);return t}function Hr(e,t,n,i,r,o,a,s,l){s=s??t;let c=t,u=e;const h=i-o;let p=!1;for(;c<n&&u<h;){const f=r(u);if(c+f>s&&l(c,u,f,!1,a&&u===i-1)===!0){p=!0;break}c+=f,u++}if(!p){c=n;for(let f=0;f<o;f++){u=i-1-f;const d=r(u);c-=d,l(c,u,d,!0,a&&u===i-1)}}}function Nt(e,t,n,i,r,o){let a=0,s=0;const l=r+i;for(const c of e){const u=c.sticky?s:a+n;if(o(c,u,l,c.sticky?0:s,t)===!0)break;a+=c.width,s+=c.sticky?c.width:0}}function Hh(e,t,n,i,r){let o=0,a=0;for(let s=0;s<e.length;s++){const l=e[s];let c=s+1,u=l.width;for(l.sticky&&(a+=u);c<e.length&&bh(e[c].group,l.group)&&e[c].sticky===e[s].sticky;){const v=e[c];u+=v.width,c++,s++,v.sticky&&(a+=v.width)}const h=l.sticky?0:n,p=o+h,f=l.sticky?0:Math.max(0,a-p),d=Math.min(u-f,t-(p+f));r([l.sourceIndex,e[c-1].sourceIndex],rn(l.group),p+f,0,d,i),o+=u}}function Lh(e,t,n,i,r,o){if(r===0)return;const a=[];let s=0;for(let u=0;u<r;u++)a.push(s),s+=i[u]??0;const l=[];let c=0;for(const u of e)l.push(c),c+=u.width;for(let u=0;u<r;u++){const h=a[u],p=i[u]??0;let f=0,d=0;for(;d<e.length;){const v=e[d],m=mi(v.group,u,r);if(m===void 0){v.sticky&&(f+=v.width),d++;continue}const y=l[d];let g=d+1,w=v.width;for(v.sticky&&(f+=v.width);g<e.length;){const E=e[g],M=yi(E.group,v.group,u,r),$=E.sticky===v.sticky;if(!M||!$)break;w+=E.width,E.sticky&&(f+=E.width),g++}const C=v.sticky?0:n,S=y+C,I=v.sticky?0:Math.max(0,f-S),A=Math.min(w-I,t-(S+I));A>0&&o([v.sourceIndex,e[g-1].sourceIndex],m,S+I,h,A,p,u),d=g}}}function ns(e,t,n,i,r,o,a){var p;const[s,l]=e;let c,u;const h=((p=a.find(f=>!f.sticky))==null?void 0:p.sourceIndex)??0;if(l>h){const f=Math.max(s,h);let d=t,v=i;for(let m=o.sourceIndex-1;m>=f;m--)d-=a[m].width,v+=a[m].width;for(let m=o.sourceIndex+1;m<=l;m++)v+=a[m].width;u={x:d,y:n,width:v,height:r}}if(h>s){const f=Math.min(l,h-1);let d=t,v=i;for(let m=o.sourceIndex-1;m>=s;m--)d-=a[m].width,v+=a[m].width;for(let m=o.sourceIndex+1;m<=f;m++)v+=a[m].width;c={x:d,y:n,width:v,height:r}}return[c,u]}function Bh(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-bg-group-header":e.bgGroupHeader??e.bgHeader,"--gdg-bg-group-header-hovered":e.bgGroupHeaderHovered??e.bgHeaderHovered,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bubble-height":`${e.bubbleHeight}px`,"--gdg-bubble-padding":`${e.bubblePadding}px`,"--gdg-bubble-margin":`${e.bubbleMargin}px`,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,"--gdg-checkbox-max-size":`${e.checkboxMaxSize}px`,...e.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":e.resizeIndicatorColor},...e.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":e.headerBottomBorderColor},...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}}const rs={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bubbleHeight:20,bubblePadding:6,bubbleMargin:4,bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4,checkboxMaxSize:18};function jw(){return rs}const is=Yn.createContext(rs);function Uw(){return Yn.useContext(is)}function on(e,...t){const n={...e};for(const i of t)if(i!==void 0)for(const r in i)i.hasOwnProperty(r)&&(r==="bgCell"?n[r]=st(i[r],n[r]):n[r]=i[r]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}function Yw(e,t,n,i){if(i==="any")return Wh(e,{x:t,y:n,width:1,height:1});if(i==="vertical"&&(t=e.x),i==="horizontal"&&(n=e.y),Sh([t,n],e))return;const r=t-e.x,o=e.x+e.width-t,a=n-e.y+1,s=e.y+e.height-n,l=Math.min(i==="vertical"?Number.MAX_SAFE_INTEGER:r,i==="vertical"?Number.MAX_SAFE_INTEGER:o,i==="horizontal"?Number.MAX_SAFE_INTEGER:a,i==="horizontal"?Number.MAX_SAFE_INTEGER:s);return l===s?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:l===a?{x:e.x,y:n,width:e.width,height:e.y-n}:l===o?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function Gn(e,t,n,i,r,o,a,s){return e<=r+a&&r<=e+n&&t<=o+s&&o<=t+i}function nn(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function Wh(e,t){const n=Math.min(e.x,t.x),i=Math.min(e.y,t.y),r=Math.max(e.x+e.width,t.x+t.width)-n,o=Math.max(e.y+e.height,t.y+t.height)-i;return{x:n,y:i,width:r,height:o}}function zh(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function Nh(e,t,n,i){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const r=-4,o=-4,a=t+4,s=n+4,l=r-e.x,c=e.x+e.width-a,u=o-e.y,h=e.y+e.height-s,p=l>0?e.x+Math.floor(l/i)*i:e.x,f=c>0?e.x+e.width-Math.floor(c/i)*i:e.x+e.width,d=u>0?e.y+Math.floor(u/i)*i:e.y,v=h>0?e.y+e.height-Math.floor(h/i)*i:e.y+e.height;return{x:p,y:d,width:f-p,height:v-d}}function Xh(e,t,n,i,r){const[o,a,s,l]=t,[c,u,h,p]=r,{x:f,y:d,width:v,height:m}=e,y=[];if(v<=0||m<=0)return y;const g=f+v,w=d+m,C=f<o,S=d<a,I=f+v>s,A=d+m>l,E=f>=o&&f<s||g>o&&g<=s||f<o&&g>s,M=d>=a&&d<l||w>a&&w<=l||d<a&&w>l;if(E&&M){const P=Math.max(f,o),k=Math.max(d,a),T=Math.min(g,s),x=Math.min(w,l);y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:c,y:u,width:h-c+1,height:p-u+1}})}if(C&&S){const P=f,k=d,T=Math.min(g,o),x=Math.min(w,a);y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:0,y:0,width:c+1,height:u+1}})}if(S&&E){const P=Math.max(f,o),k=d,T=Math.min(g,s),x=Math.min(w,a);y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:c,y:0,width:h-c+1,height:u+1}})}if(S&&I){const P=Math.max(f,s),k=d,T=g,x=Math.min(w,a);y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:h,y:0,width:n-h+1,height:u+1}})}if(C&&M){const P=f,k=Math.max(d,a),T=Math.min(g,o),x=Math.min(w,l);y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:0,y:u,width:c+1,height:p-u+1}})}if(I&&M){const P=Math.max(f,s),k=Math.max(d,a),T=g,x=Math.min(w,l);y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:h,y:u,width:n-h+1,height:p-u+1}})}if(C&&A){const P=f,k=Math.max(d,l),T=Math.min(g,o),x=w;y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:0,y:p,width:c+1,height:i-p+1}})}if(A&&E){const P=Math.max(f,o),k=Math.max(d,l),T=Math.min(g,s),x=w;y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:c,y:p,width:h-c+1,height:i-p+1}})}if(I&&A){const P=Math.max(f,s),k=Math.max(d,l),T=g,x=w;y.push({rect:{x:P,y:k,width:T-P,height:x-k},clip:{x:h,y:p,width:n-h+1,height:i-p+1}})}return y}const jh={kind:ve.Loading,allowOverlay:!1};function No(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m,y,g,w,C,S,I,A,E,M,$,P,k,T,x,F,H,ne,J){let K=(w==null?void 0:w.size)??Number.MAX_SAFE_INTEGER;const Z=performance.now();let me=T.baseFontFull;e.font=me;const ae={ctx:e},le=[0,0],Me=m>0?In(l,m,c):0;let j,ye;const we=new bn,B=new Set,fe=ts(g);if(Nt(t,s,o,a,r,(G,de,Ae,Y,ce)=>{const Ge=Math.max(0,Y-de),Je=de+Ge,be=r+1,$t=G.width-Ge,kt=i-r-1;if(g.length>0){let se=!1;for(let Se=0;Se<g.length;Se++){const Ee=g[Se];if(Gn(Je,be,$t,kt,Ee.x,Ee.y,Ee.width,Ee.height)){se=!0;break}}if(!se)return}const tt=()=>{e.save(),e.beginPath(),e.rect(Je,be,$t,kt),e.clip()},he=C.columns.hasIndex(G.sourceIndex),nt=h(rn(G.group)).overrideTheme,ze=G.themeOverride===void 0&&nt===void 0?T:on(T,nt,G.themeOverride),Ke=ze.baseFontFull;Ke!==me&&(me=Ke,e.font=Ke),tt();let Re;return Hr(ce,Ae,i,l,c,m,y,fe,(se,Se,Ee,ut,O)=>{var ht,xt,Yt;if(Se<0)return;if(le[0]=G.sourceIndex,le[1]=Se,we.has(le)){K--;return}if(w!==void 0&&!w.has(le))return;if(g.length>0){let q=!1;for(let De=0;De<g.length;De++){const ue=g[De];if(Gn(de,se,G.width,Ee,ue.x,ue.y,ue.width,ue.height)){q=!0;break}}if(!q)return}const Fe=C.rows.hasIndex(Se),Pe=f.hasIndex(Se),W=Se<l?u(le):jh;let He=de,Oe=G.width,oe=se,ie=Ee,Ne=!1,dt=!1;if(W.rowspan!==void 0){const[q,De]=W.rowspan,ue=`${G.sourceIndex}|${q}`;if(B.has(ue)){K--;return}else{let Qe=se;for(let Le=q;Le<Se;Le++)Qe-=c(Le);let at=0;for(let Le=q;Le<De;Le++)at+=c(Le);if(Qe<be+kt&&Qe+at>be){oe=Qe,ie=at,B.add(ue);for(let Le=q;Le<De;Le++)Le!==Se&&we.add([G.sourceIndex,Le]);Ne=!0}else{B.add(ue);for(let Le=q;Le<De;Le++)we.add([G.sourceIndex,Le]);K--;return}}}if(W.span!==void 0){const[q,De]=W.span,ue=`${Se},${q},${De},${G.sticky}`;if(ye===void 0&&(ye=new Set),ye.has(ue)){K--;return}else{const Qe=ns(W.span,de,se,G.width,Ee,G,n),at=G.sticky?Qe[0]:Qe[1];!G.sticky&&Qe[0]!==void 0&&(dt=!0),at!==void 0&&(He=at.x,Oe=at.width,ye.add(ue),Ne=!0)}}if(Ne){e.restore(),Re=void 0,e.save(),e.beginPath();const q=Math.max(0,Y-He);e.rect(He+q,oe,Oe-q,ie),j===void 0&&(j=[]),j.push({x:He+q,y:oe,width:Oe-q,height:ie}),e.clip()}const rt=p==null?void 0:p(Se),yt=O&&((ht=G.trailingRowOptions)==null?void 0:ht.themeOverride)!==void 0?(xt=G.trailingRowOptions)==null?void 0:xt.themeOverride:void 0,qe=W.themeOverride===void 0&&rt===void 0&&yt===void 0?ze:on(ze,rt,yt,W.themeOverride);e.beginPath();const bt=wh(le,W,C);let it=Ch(le,W,C,v);const Xt=W.span!==void 0&&C.columns.some(q=>W.span!==void 0&&q>=W.span[0]&&q<=W.span[1]);bt&&!d&&v?it=0:bt&&v&&(it=Math.max(it,1)),Xt&&it++,bt||(Fe&&it++,he&&!O&&it++);const jt=W.kind===ve.Protected?qe.bgCellMedium:qe.bgCell;let $e;if((ut||jt!==T.bgCell)&&($e=st(jt,$e)),it>0||Pe){Pe&&($e=st(qe.bgHeader,$e));for(let q=0;q<it;q++)$e=st(qe.accentLight,$e)}else if(S!==void 0){for(const q of S)if(q[0]===G.sourceIndex&&q[1]===Se){$e=st(qe.bgSearchResult,$e);break}}if(I!==void 0)for(let q=0;q<I.length;q++){const De=I[q],ue=De.range;De.style!=="solid-outline"&&ue.x<=G.sourceIndex&&G.sourceIndex<ue.x+ue.width&&ue.y<=Se&&Se<ue.y+ue.height&&($e=st(De.color,$e))}let Ut=!1;if(w!==void 0){const q=se+1,ue=(ut?q+Ee-1:Math.min(q+Ee-1,i-Me))-q;(ue!==Ee-1||He+1<=Y)&&(Ut=!0,e.save(),e.beginPath(),e.rect(He+1,q,Oe-1,ue),e.clip()),$e=$e===void 0?qe.bgCell:st($e,qe.bgCell)}const Ce=G.sourceIndex===n.length-1,ot=Se===l-1;$e!==void 0&&(e.fillStyle=$e,Re!==void 0&&(Re.fillStyle=$e),w!==void 0?e.fillRect(He+1,oe+1,Oe-(Ce?2:1),ie-(ot?2:1)):e.fillRect(He,oe,Oe,ie)),W.style==="faded"&&(e.globalAlpha=.6);let ft;for(let q=0;q<M.length;q++){const De=M[q];if(De.item[0]===G.sourceIndex&&De.item[1]===Se){ft=De;break}}if(Oe>J&&!dt){const q=qe.baseFontFull;q!==me&&(e.font=q,me=q);let De=0;if(W.rowspan!==void 0){const ue=W.rowSpanPosition??"top";if(ue==="top")De=Ee/2-ie/2;else if(ue==="bottom"){const[Qe,at]=W.rowspan,Le=c(at-1);De=ie/2-Le/2}}Re=os(e,W,G.sourceIndex,Se,Ce,ot,He,oe,Oe,ie,it>0,qe,$e??qe.bgCell,A,E,(ft==null?void 0:ft.hoverAmount)??0,$,k,Z,P,Re,x,F,H,ne,De)}return Ut&&e.restore(),W.style==="faded"&&(e.globalAlpha=1),K--,Ne&&(e.restore(),(Yt=Re==null?void 0:Re.deprep)==null||Yt.call(Re,ae),Re=void 0,tt(),me=Ke,e.font=Ke),K<=0}),e.restore(),K<=0}),j!==void 0)return j}const Fn=[0,0],Hn={x:0,y:0,width:0,height:0},ni=[void 0,()=>{}];let Ci=!1;function Uh(){Ci=!0}function os(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m,y,g,w,C,S,I,A,E,M){var H,ne;let $,P;m!==void 0&&m[0][0]===n&&m[0][1]===i&&($=m[1][0],P=m[1][1]);let k;Fn[0]=n,Fn[1]=i,Hn.x=a,Hn.y=s,Hn.width=l,Hn.height=c,ni[0]=I.getValue(Fn),ni[1]=J=>I.setValue(Fn,J),Ci=!1;const T={ctx:e,theme:h,col:n,row:i,cell:t,rect:Hn,highlighted:u,cellFillColor:p,hoverAmount:v,frameTime:g,hoverX:$,drawState:ni,hoverY:P,imageLoader:f,spriteManager:d,hyperWrapping:y,overrideCursor:$!==void 0?E:void 0,requestAnimationFrame:Uh},x=kh(T,t.lastUpdated,g,C,r,o),F=A(t);if(F!==void 0){(C==null?void 0:C.renderer)!==F&&((H=C==null?void 0:C.deprep)==null||H.call(C,T),C=void 0);const J=(ne=F.drawPrep)==null?void 0:ne.call(F,T,C);e.save(),e.translate(0,M),w!==void 0&&!zi(T.cell)?w(T,()=>F.draw(T,t)):F.draw(T,t),e.restore(),k=J===void 0?void 0:{deprep:J==null?void 0:J.deprep,fillStyle:J==null?void 0:J.fillStyle,font:J==null?void 0:J.font,renderer:F}}return(x||Ci)&&(S==null||S(Fn)),k}function _r(e,t,n,i,r,o,a,s,l=-20,c=-20,u=void 0,h="center",p="square",f=!1){const d=Math.floor(r+a/2),v=p==="circle"?1e4:t.roundingRadius??4;let m=ja(u??t.checkboxMaxSize,a,t.cellVerticalPadding),y=m/2;const g=Xa(h,i,o,t.cellHorizontalPadding,m),w=Na(g,d,m),C=Ua(i+l,r+c,w);switch(n){case!0:{e.beginPath(),Et(e,g-m/2,d-m/2,m,m,v),p==="circle"&&(y*=.8,m*=.8),e.fillStyle=f?t.bgCellMedium:s?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(g-y+m/4.23,d-y+m/1.97),e.lineTo(g-y+m/2.42,d-y+m/1.44),e.lineTo(g-y+m/1.29,d-y+m/3.25),e.strokeStyle=f?t.textLight:t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case br:case!1:{e.beginPath(),Et(e,g-m/2+.5,d-m/2+.5,m-1,m-1,v),e.lineWidth=1,e.strokeStyle=f?t.textLight:C?t.textDark:t.textMedium,e.stroke();break}case Wi:{e.beginPath(),Et(e,g-m/2,d-m/2,m,m,v),e.fillStyle=f?t.bgCellMedium:C?t.textMedium:t.textLight,e.fill(),p==="circle"&&(y*=.8,m*=.8),e.beginPath(),e.moveTo(g-m/3,d),e.lineTo(g+m/3,d),e.strokeStyle=f?t.textLight:t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:Bi()}}function Yh(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m,y,g,w,C,S){var F,H,ne,J;const I=C??(i?1:0),A=S??(i?[l]:[]),E=A.reduce((K,Z)=>K+Z,0),M=s+E;if(M<=0)return;e.fillStyle=p.bgHeader,y!==void 0&&i&&(C??1)>1?e.fillRect(0,E,o,s):e.fillRect(0,0,o,M);const $=(F=r==null?void 0:r[0])==null?void 0:F[0],P=(H=r==null?void 0:r[0])==null?void 0:H[1],k=(ne=r==null?void 0:r[1])==null?void 0:ne[0],T=(J=r==null?void 0:r[1])==null?void 0:J[1],x=p.headerFontFull;e.font=x,Nt(t,0,a,0,M,(K,Z,me,ae)=>{var ce;if(y!==void 0&&!y.has([K.sourceIndex,-1]))return;const le=Math.max(0,ae-Z);e.save(),e.beginPath(),e.rect(Z+le,E,K.width-le,s),e.clip();const Me=m(rn(K.group)).overrideTheme,j=K.themeOverride===void 0&&Me===void 0?p:on(p,Me,K.themeOverride);j.bgHeader!==p.bgHeader&&(e.fillStyle=j.bgHeader,e.fill()),j!==p&&(e.font=j.headerFontFull);const ye=h.columns.hasIndex(K.sourceIndex),we=c!==void 0||u||K.headerRowMarkerDisabled===!0,B=!we&&P===-1&&$===K.sourceIndex,fe=we?0:((ce=d.find(Ge=>Ge.item[0]===K.sourceIndex&&Ge.item[1]===-1))==null?void 0:ce.hoverAmount)??0,G=(h==null?void 0:h.current)!==void 0&&h.current.cell[0]===K.sourceIndex,de=ye?j.accentColor:G?j.bgHeaderHasFocus:j.bgHeader,Ae=i?E:0,Y=K.sourceIndex===0?0:1;ye?(e.fillStyle=de,e.fillRect(Z+Y,Ae,K.width-Y,s)):(G||fe>0)&&(e.beginPath(),e.rect(Z+Y,Ae,K.width-Y,s),G&&(e.fillStyle=j.bgHeaderHasFocus,e.fill()),fe>0&&(e.globalAlpha=fe,e.fillStyle=j.bgHeaderHovered,e.fill(),e.globalAlpha=1)),ss(e,Z,Ae,K.width,s,K,ye,j,B,B?k:void 0,B?T:void 0,G,fe,f,g,w),e.restore()}),i&&(I>1?qh(e,t,o,a,A,I,r,p,f,d,v,m,y):Gh(e,t,o,a,l,r,p,f,d,v,m,y)),i&&(C??1)>1&&(e.beginPath(),e.moveTo(0,E+.5),e.lineTo(o,E+.5),e.strokeStyle=p.borderColor,e.lineWidth=1,e.stroke())}function Gh(e,t,n,i,r,o,a,s,l,c,u,h){const[p,f]=(o==null?void 0:o[0])??[];let d=0;Hh(t,n,i,r,(v,m,y,g,w,C)=>{if(h!==void 0&&!h.hasItemInRectangle({x:v[0],y:-2,width:v[1]-v[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(y,g,w,C),e.clip();const S=u(m),I=(S==null?void 0:S.overrideTheme)===void 0?a:on(a,S.overrideTheme),A=f===-2&&p!==void 0&&p>=v[0]&&p<=v[1],E=A?I.bgGroupHeaderHovered??I.bgHeaderHovered:I.bgGroupHeader??I.bgHeader;if(E!==a.bgHeader&&(e.fillStyle=E,e.fill()),e.fillStyle=I.textGroupHeader??I.textHeader,S!==void 0){const M=S.name,P=e.measureText(M).width,k=S.icon!==void 0?26:0,T=k+P,x=y+(w-T)/2;if(S.icon!==void 0&&s.drawSprite(S.icon,"normal",e,x,(r-20)/2,20,I),e.fillText(M,x+k,r/2+ct(e,a.headerFontFull)),S.actions!==void 0&&A){const F=Vi({x:y,y:g,width:w,height:C},S.actions);e.beginPath();const H=F[0].x-10,ne=y+w-H;e.rect(H,0,ne,r);const J=e.createLinearGradient(H,0,H+ne,0),K=Mn(E,0);J.addColorStop(0,K),J.addColorStop(10/ne,E),J.addColorStop(1,E),e.fillStyle=J,e.fill(),e.globalAlpha=.6;const[Z,me]=(o==null?void 0:o[1])??[-1,-1];for(let ae=0;ae<S.actions.length;ae++){const le=S.actions[ae],Me=F[ae],j=nn(Me,Z+y,me);j&&(e.globalAlpha=1),s.drawSprite(le.icon,"normal",e,Me.x+Me.width/2-10,Me.y+Me.height/2-10,20,I),j&&(e.globalAlpha=.6)}e.globalAlpha=1}}y!==0&&c(v[0])&&(e.beginPath(),e.moveTo(y+.5,0),e.lineTo(y+.5,r),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()),e.restore(),d=y+w}),e.beginPath(),e.moveTo(d+.5,0),e.lineTo(d+.5,r),e.moveTo(0,r+.5),e.lineTo(n,r+.5),e.strokeStyle=a.borderColor,e.lineWidth=1,e.stroke()}function qh(e,t,n,i,r,o,a,s,l,c,u,h,p){const[f,d]=(a==null?void 0:a[0])??[];e.font=s.headerFontFull;const v=r.reduce((y,g)=>y+g,0);p===void 0&&(e.fillStyle=s.bgHeader,e.fillRect(0,0,n,v));let m=0;if(Lh(t,n,i,r,o,(y,g,w,C,S,I,A)=>{const E=-(A+2);if(p!==void 0&&!p.hasItemInRectangle({x:y[0],y:E,width:y[1]-y[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(w,C,S,I),e.clip();const M=h(g),$=(M==null?void 0:M.overrideTheme)===void 0?s:on(s,M.overrideTheme),P=d===E&&f!==void 0&&f>=y[0]&&f<=y[1],k=P?$.bgGroupHeaderHovered??$.bgHeaderHovered:$.bgGroupHeader??$.bgHeader;e.fillStyle=k,e.fillRect(w,C,S,I),e.fillStyle=$.textGroupHeader??$.textHeader;const T=(M==null?void 0:M.name)??g,F=e.measureText(T).width,H=(M==null?void 0:M.icon)!==void 0?26:0,ne=H+F,J=w+(S-ne)/2;if((M==null?void 0:M.icon)!==void 0&&l.drawSprite(M.icon,"normal",e,J,C+(I-20)/2,20,$),e.fillText(T,J+H,C+I/2+ct(e,s.headerFontFull)),M!==void 0&&M.actions!==void 0&&P){const K=Vi({x:w,y:C,width:S,height:I},M.actions);e.beginPath();const Z=K[0].x-10,me=w+S-Z;e.rect(Z,C,me,I);const ae=e.createLinearGradient(Z,0,Z+me,0),le=Mn(k,0);ae.addColorStop(0,le),ae.addColorStop(10/me,k),ae.addColorStop(1,k),e.fillStyle=ae,e.fill(),e.globalAlpha=.6;const[Me,j]=(a==null?void 0:a[1])??[-1,-1];for(let ye=0;ye<M.actions.length;ye++){const we=M.actions[ye],B=K[ye],fe=nn(B,Me+w,j);fe&&(e.globalAlpha=1),l.drawSprite(we.icon,"normal",e,B.x+B.width/2-10,B.y+B.height/2-10,20,$),fe&&(e.globalAlpha=.6)}e.globalAlpha=1}e.strokeStyle=s.borderColor,e.lineWidth=1,w!==0&&u(y[0])&&(e.beginPath(),e.moveTo(w+.5,C),e.lineTo(w+.5,C+I),e.stroke()),(A<o-1||p===void 0)&&(e.beginPath(),e.moveTo(w,C+I+.5),e.lineTo(w+S,C+I+.5),e.stroke()),e.restore(),m=Math.max(m,w+S)}),p===void 0){e.beginPath(),e.moveTo(m+.5,0),e.lineTo(m+.5,v);let y=0;for(let g=0;g<o-1;g++)y+=r[g],e.moveTo(0,y+.5),e.lineTo(n,y+.5);e.strokeStyle=s.borderColor,e.lineWidth=1,e.stroke()}}const dr=30;function Kh(e,t,n,i,r){return{x:e+n-dr,y:Math.max(t,t+i/2-dr/2),width:dr,height:Math.min(dr,i)}}function Vi(e,t){const n=[];let i=e.x+e.width-26*t.length;const r=e.y+e.height/2-13,o=26,a=26;for(let s=0;s<t.length;s++)n.push({x:i,y:r,width:a,height:o}),i+=26;return n}function Ln(e,t,n){return!n||e===void 0||(e.x=t-(e.x-t)-e.width),e}function as(e,t,n,i,r,o,a,s){var C;const l=a.cellHorizontalPadding,c=a.headerIconSize,u=Kh(n,i,r,o),h=e===void 0?((C=Va(t.title,a.headerFontFull))==null?void 0:C.width)??0:cn(t.title,e,a.headerFontFull).width,p=t.icon!==void 0?Math.ceil(c*1.3):0,f=p+h,d=n+Math.max(l,(r-f)/2),v=t.icon===void 0?void 0:{x:d,y:i+(o-c)/2,width:c,height:c},m=v===void 0||t.overlayIcon===void 0?void 0:{x:v.x+9,y:v.y+6,width:18,height:18},y={x:d+p,y:i,width:h,height:o};let g;t.indicatorIcon!==void 0&&(g={x:y.x+h+l,y:i+(o-c)/2,width:c,height:c});const w=n+r/2;return{menuBounds:Ln(u,w,s),iconBounds:Ln(v,w,s),iconOverlayBounds:Ln(m,w,s),textBounds:Ln(y,w,s),indicatorIconBounds:Ln(g,w,s)}}function Xo(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v){if(o.rowMarker!==void 0&&o.headerRowMarkerDisabled!==!0){const g=o.rowMarkerChecked;g!==!0&&o.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=h);const w=o.headerRowMarkerTheme!==void 0?on(s,o.headerRowMarkerTheme):s;_r(e,w,g,t,n,i,r,!1,void 0,void 0,s.checkboxMaxSize,"center",o.rowMarker),g!==!0&&o.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=1);return}const m=a?s.textHeaderSelected:s.textHeader,y=o.hasMenu===!0&&(l||f&&a)&&v.menuBounds!==void 0;if(o.icon!==void 0&&v.iconBounds!==void 0){let g=a?"selected":"normal";o.style==="highlight"&&(g=a?"selected":"special"),p.drawSprite(o.icon,g,e,v.iconBounds.x,v.iconBounds.y,v.iconBounds.width,s),o.overlayIcon!==void 0&&v.iconOverlayBounds!==void 0&&p.drawSprite(o.overlayIcon,a?"selected":"special",e,v.iconOverlayBounds.x,v.iconOverlayBounds.y,v.iconOverlayBounds.width,s)}if(y&&i>35){const w=d?35:i-35,C=d?35*.7:i-35*.7,S=w/i,I=C/i,A=e.createLinearGradient(t,0,t+i,0),E=Mn(m,0);A.addColorStop(d?1:0,m),A.addColorStop(S,m),A.addColorStop(I,E),A.addColorStop(d?0:1,E),e.fillStyle=A}else e.fillStyle=m;if(d&&(e.textAlign="right"),v.textBounds!==void 0&&e.fillText(o.title,d?v.textBounds.x+v.textBounds.width:v.textBounds.x,n+r/2+ct(e,s.headerFontFull)),d&&(e.textAlign="left"),o.indicatorIcon!==void 0&&v.indicatorIconBounds!==void 0&&(!y||!Gn(v.menuBounds.x,v.menuBounds.y,v.menuBounds.width,v.menuBounds.height,v.indicatorIconBounds.x,v.indicatorIconBounds.y,v.indicatorIconBounds.width,v.indicatorIconBounds.height))){let g=a?"selected":"normal";o.style==="highlight"&&(g=a?"selected":"special"),p.drawSprite(o.indicatorIcon,g,e,v.indicatorIconBounds.x,v.indicatorIconBounds.y,v.indicatorIconBounds.width,s)}if(y&&v.menuBounds!==void 0){const g=v.menuBounds,w=c!==void 0&&u!==void 0&&nn(g,c+t,u+n);if(w||(e.globalAlpha=.7),o.menuIcon===void 0||o.menuIcon===pi.Triangle){e.beginPath();const C=g.x+g.width/2-5.5,S=g.y+g.height/2-3;Rh(e,[{x:C,y:S},{x:C+11,y:S},{x:C+5.5,y:S+6}],1),e.fillStyle=m,e.fill()}else if(o.menuIcon===pi.Dots){e.beginPath();const C=g.x+g.width/2,S=g.y+g.height/2;Ah(e,C,S),e.fillStyle=m,e.fill()}else{const C=g.x+(g.width-s.headerIconSize)/2,S=g.y+(g.height-s.headerIconSize)/2;p.drawSprite(o.menuIcon,"normal",e,C,S,s.headerIconSize,s)}w||(e.globalAlpha=1)}}function ss(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v){const m=Yi(o.title)==="rtl",y=as(e,o,t,n,i,r,s,m);d!==void 0?d({ctx:e,theme:s,rect:{x:t,y:n,width:i,height:r},column:o,columnIndex:o.sourceIndex,isSelected:a,hoverAmount:p,isHovered:l,hasSelectedCell:h,spriteManager:f,menuBounds:(y==null?void 0:y.menuBounds)??{x:0,y:0,height:0,width:0},hoverX:c,hoverY:u},()=>Xo(e,t,n,i,r,o,a,s,l,c,u,p,f,v,m,y)):Xo(e,t,n,i,r,o,a,s,l,c,u,p,f,v,m,y)}var Vh=ln,Jh=function(){try{var e=Vh(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Zh=Jh,jo=Zh;function Qh(e,t,n){t=="__proto__"&&jo?jo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ep=Qh;function tp(e,t,n,i){for(var r=-1,o=e==null?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}var np=tp;function rp(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(n(o[l],l,o)===!1)break}return t}}var ip=rp,op=ip,ap=op(),sp=ap;function lp(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var cp=lp,Er={exports:{}};function up(){return!1}var dp=up;Er.exports;(function(e,t){var n=Pt,i=dp,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===r,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||i;e.exports=c})(Er,Er.exports);var ls=Er.exports,fp=qn,hp=Li,pp=Kn,gp="[object Arguments]",vp="[object Array]",mp="[object Boolean]",yp="[object Date]",bp="[object Error]",wp="[object Function]",Sp="[object Map]",Cp="[object Number]",_p="[object Object]",Ep="[object RegExp]",Ip="[object Set]",Mp="[object String]",Pp="[object WeakMap]",kp="[object ArrayBuffer]",xp="[object DataView]",Tp="[object Float32Array]",Ap="[object Float64Array]",Rp="[object Int8Array]",Op="[object Int16Array]",$p="[object Int32Array]",Dp="[object Uint8Array]",Fp="[object Uint8ClampedArray]",Hp="[object Uint16Array]",Lp="[object Uint32Array]",Te={};Te[Tp]=Te[Ap]=Te[Rp]=Te[Op]=Te[$p]=Te[Dp]=Te[Fp]=Te[Hp]=Te[Lp]=!0;Te[gp]=Te[vp]=Te[kp]=Te[mp]=Te[xp]=Te[yp]=Te[bp]=Te[wp]=Te[Sp]=Te[Cp]=Te[_p]=Te[Ep]=Te[Ip]=Te[Mp]=Te[Pp]=!1;function Bp(e){return pp(e)&&hp(e.length)&&!!Te[fp(e)]}var Wp=Bp;function zp(e){return function(t){return e(t)}}var Np=zp,Ir={exports:{}};Ir.exports;(function(e,t){var n=Ta,i=t&&!t.nodeType&&t,r=i&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===i,a=o&&n.process,s=function(){try{var l=r&&r.require&&r.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(Ir,Ir.exports);var Xp=Ir.exports,jp=Wp,Up=Np,Uo=Xp,Yo=Uo&&Uo.isTypedArray,Yp=Yo?Up(Yo):jp,cs=Yp,Gp=cp,qp=La,Kp=Mt,Vp=ls,Jp=Hi,Zp=cs,Qp=Object.prototype,eg=Qp.hasOwnProperty;function tg(e,t){var n=Kp(e),i=!n&&qp(e),r=!n&&!i&&Vp(e),o=!n&&!i&&!r&&Zp(e),a=n||i||r||o,s=a?Gp(e.length,String):[],l=s.length;for(var c in e)(t||eg.call(e,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Jp(c,l)))&&s.push(c);return s}var ng=tg,rg=Object.prototype;function ig(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||rg;return e===n}var og=ig;function ag(e,t){return function(n){return e(t(n))}}var sg=ag,lg=sg,cg=lg(Object.keys,Object),ug=cg,dg=og,fg=ug,hg=Object.prototype,pg=hg.hasOwnProperty;function gg(e){if(!dg(e))return fg(e);var t=[];for(var n in Object(e))pg.call(e,n)&&n!="constructor"&&t.push(n);return t}var vg=gg,mg=ng,yg=vg,bg=ji;function wg(e){return bg(e)?mg(e):yg(e)}var Ji=wg,Sg=sp,Cg=Ji;function _g(e,t){return e&&Sg(e,t,Cg)}var Eg=_g,Ig=ji;function Mg(e,t){return function(n,i){if(n==null)return n;if(!Ig(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Object(n);(t?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}var Pg=Mg,kg=Eg,xg=Pg,Tg=xg(kg),Ag=Tg,Rg=Ag;function Og(e,t,n,i){return Rg(e,function(r,o,a){t(i,r,n(r),a)}),i}var $g=Og,Dg=Or;function Fg(){this.__data__=new Dg,this.size=0}var Hg=Fg;function Lg(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Bg=Lg;function Wg(e){return this.__data__.get(e)}var zg=Wg;function Ng(e){return this.__data__.has(e)}var Xg=Ng,jg=Or,Ug=$i,Yg=Di,Gg=200;function qg(e,t){var n=this.__data__;if(n instanceof jg){var i=n.__data__;if(!Ug||i.length<Gg-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yg(i)}return n.set(e,t),this.size=n.size,this}var Kg=qg,Vg=Or,Jg=Hg,Zg=Bg,Qg=zg,ev=Xg,tv=Kg;function Pn(e){var t=this.__data__=new Vg(e);this.size=t.size}Pn.prototype.clear=Jg;Pn.prototype.delete=Zg;Pn.prototype.get=Qg;Pn.prototype.has=ev;Pn.prototype.set=tv;var us=Pn;function nv(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var rv=nv,iv=vf,ov=rv,av=yf,sv=1,lv=2;function cv(e,t,n,i,r,o){var a=n&sv,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,p=!0,f=n&lv?new iv:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var d=e[h],v=t[h];if(i)var m=a?i(v,d,h,t,e,o):i(d,v,h,e,t,o);if(m!==void 0){if(m)continue;p=!1;break}if(f){if(!ov(t,function(y,g){if(!av(f,g)&&(d===y||r(d,y,n,i,o)))return f.push(g)})){p=!1;break}}else if(!(d===v||r(d,v,n,i,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var ds=cv,uv=Pt,dv=uv.Uint8Array,fv=dv;function hv(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n}var pv=hv,Go=xr,qo=fv,gv=Oi,vv=ds,mv=pv,yv=Ef,bv=1,wv=2,Sv="[object Boolean]",Cv="[object Date]",_v="[object Error]",Ev="[object Map]",Iv="[object Number]",Mv="[object RegExp]",Pv="[object Set]",kv="[object String]",xv="[object Symbol]",Tv="[object ArrayBuffer]",Av="[object DataView]",Ko=Go?Go.prototype:void 0,ri=Ko?Ko.valueOf:void 0;function Rv(e,t,n,i,r,o,a){switch(n){case Av:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tv:return!(e.byteLength!=t.byteLength||!o(new qo(e),new qo(t)));case Sv:case Cv:case Iv:return gv(+e,+t);case _v:return e.name==t.name&&e.message==t.message;case Mv:case kv:return e==t+"";case Ev:var s=mv;case Pv:var l=i&bv;if(s||(s=yv),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;i|=wv,a.set(e,t);var u=vv(s(e),s(t),i,r,o,a);return a.delete(e),u;case xv:if(ri)return ri.call(e)==ri.call(t)}return!1}var Ov=Rv,$v=Mf,Dv=Mt;function Fv(e,t,n){var i=t(e);return Dv(e)?i:$v(i,n(e))}var Hv=Fv;function Lv(e,t){for(var n=-1,i=e==null?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}var Bv=Lv;function Wv(){return[]}var zv=Wv,Nv=Bv,Xv=zv,jv=Object.prototype,Uv=jv.propertyIsEnumerable,Vo=Object.getOwnPropertySymbols,Yv=Vo?function(e){return e==null?[]:(e=Object(e),Nv(Vo(e),function(t){return Uv.call(e,t)}))}:Xv,Gv=Yv,qv=Hv,Kv=Gv,Vv=Ji;function Jv(e){return qv(e,Vv,Kv)}var Zv=Jv,Jo=Zv,Qv=1,em=Object.prototype,tm=em.hasOwnProperty;function nm(e,t,n,i,r,o){var a=n&Qv,s=Jo(e),l=s.length,c=Jo(t),u=c.length;if(l!=u&&!a)return!1;for(var h=l;h--;){var p=s[h];if(!(a?p in t:tm.call(t,p)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var v=!0;o.set(e,t),o.set(t,e);for(var m=a;++h<l;){p=s[h];var y=e[p],g=t[p];if(i)var w=a?i(g,y,p,t,e,o):i(y,g,p,e,t,o);if(!(w===void 0?y===g||r(y,g,n,i,o):w)){v=!1;break}m||(m=p=="constructor")}if(v&&!m){var C=e.constructor,S=t.constructor;C!=S&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(e),o.delete(t),v}var rm=nm,im=ln,om=Pt,am=im(om,"DataView"),sm=am,lm=ln,cm=Pt,um=lm(cm,"Promise"),dm=um,fm=ln,hm=Pt,pm=fm(hm,"WeakMap"),gm=pm,_i=sm,Ei=$i,Ii=dm,Mi=Cf,Pi=gm,fs=qn,kn=Oa,Zo="[object Map]",vm="[object Object]",Qo="[object Promise]",ea="[object Set]",ta="[object WeakMap]",na="[object DataView]",mm=kn(_i),ym=kn(Ei),bm=kn(Ii),wm=kn(Mi),Sm=kn(Pi),en=fs;(_i&&en(new _i(new ArrayBuffer(1)))!=na||Ei&&en(new Ei)!=Zo||Ii&&en(Ii.resolve())!=Qo||Mi&&en(new Mi)!=ea||Pi&&en(new Pi)!=ta)&&(en=function(e){var t=fs(e),n=t==vm?e.constructor:void 0,i=n?kn(n):"";if(i)switch(i){case mm:return na;case ym:return Zo;case bm:return Qo;case wm:return ea;case Sm:return ta}return t});var Cm=en,ii=us,_m=ds,Em=Ov,Im=rm,ra=Cm,ia=Mt,oa=ls,Mm=cs,Pm=1,aa="[object Arguments]",sa="[object Array]",fr="[object Object]",km=Object.prototype,la=km.hasOwnProperty;function xm(e,t,n,i,r,o){var a=ia(e),s=ia(t),l=a?sa:ra(e),c=s?sa:ra(t);l=l==aa?fr:l,c=c==aa?fr:c;var u=l==fr,h=c==fr,p=l==c;if(p&&oa(e)){if(!oa(t))return!1;a=!0,u=!1}if(p&&!u)return o||(o=new ii),a||Mm(e)?_m(e,t,n,i,r,o):Em(e,t,l,n,i,r,o);if(!(n&Pm)){var f=u&&la.call(e,"__wrapped__"),d=h&&la.call(t,"__wrapped__");if(f||d){var v=f?e.value():e,m=d?t.value():t;return o||(o=new ii),r(v,m,n,i,o)}}return p?(o||(o=new ii),Im(e,t,n,i,r,o)):!1}var Tm=xm,Am=Tm,ca=Kn;function hs(e,t,n,i,r){return e===t?!0:e==null||t==null||!ca(e)&&!ca(t)?e!==e&&t!==t:Am(e,t,n,i,hs,r)}var ps=hs,Rm=us,Om=ps,$m=1,Dm=2;function Fm(e,t,n,i){var r=n.length,o=r,a=!i;if(e==null)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){s=n[r];var l=s[0],c=e[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in e))return!1}else{var h=new Rm;if(i)var p=i(c,u,l,e,t,h);if(!(p===void 0?Om(u,c,$m|Dm,i,h):p))return!1}}return!0}var Hm=Fm,Lm=sn;function Bm(e){return e===e&&!Lm(e)}var gs=Bm,Wm=gs,zm=Ji;function Nm(e){for(var t=zm(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Wm(r)]}return t}var Xm=Nm;function jm(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var vs=jm,Um=Hm,Ym=Xm,Gm=vs;function qm(e){var t=Ym(e);return t.length==1&&t[0][2]?Gm(t[0][0],t[0][1]):function(n){return n===e||Um(n,e,t)}}var Km=qm,Vm=Fa,Jm=Dr;function Zm(e,t){t=Vm(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[Jm(t[n++])];return n&&n==i?e:void 0}var ms=Zm,Qm=ms;function e0(e,t,n){var i=e==null?void 0:Qm(e,t);return i===void 0?n:i}var t0=e0;function n0(e,t){return e!=null&&t in Object(e)}var r0=n0,i0=r0,o0=Ba;function a0(e,t){return e!=null&&o0(e,t,i0)}var s0=a0,l0=ps,c0=t0,u0=s0,d0=Ri,f0=gs,h0=vs,p0=Dr,g0=1,v0=2;function m0(e,t){return d0(e)&&f0(t)?h0(p0(e),t):function(n){var i=c0(n,e);return i===void 0&&i===t?u0(n,e):l0(t,i,g0|v0)}}var y0=m0;function b0(e){return e}var w0=b0;function S0(e){return function(t){return t==null?void 0:t[e]}}var C0=S0,_0=ms;function E0(e){return function(t){return _0(t,e)}}var I0=E0,M0=C0,P0=I0,k0=Ri,x0=Dr;function T0(e){return k0(e)?M0(x0(e)):P0(e)}var A0=T0,R0=Km,O0=y0,$0=w0,D0=Mt,F0=A0;function H0(e){return typeof e=="function"?e:e==null?$0:typeof e=="object"?D0(e)?O0(e[0],e[1]):R0(e):F0(e)}var L0=H0,B0=np,W0=$g,z0=L0,N0=Mt;function X0(e,t){return function(n,i){var r=N0(n)?B0:W0,o=t?t():{};return r(n,e,z0(i),o)}}var j0=X0,U0=ep,Y0=j0,G0=Object.prototype,q0=G0.hasOwnProperty,K0=Y0(function(e,t,n){q0.call(e,n)?e[n].push(t):U0(e,n,[t])}),V0=K0;const J0=an(V0);function Z0(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m,y,g){if(y!==void 0||t[t.length-1]!==n[t.length-1])return;const w=ts(m);Nt(t,l,a,s,o,(C,S,I,A,E)=>{if(C!==t[t.length-1])return;S+=C.width;const M=Math.max(S,A);M>i||(e.save(),e.beginPath(),e.rect(M,o+1,1e4,r-o-1),e.clip(),Hr(E,I,r,c,u,d,v,w,($,P,k,T)=>{if(!T&&m.length>0&&!m.some(J=>Gn(S,$,1e4,k,J.x,J.y,J.width,J.height)))return;const x=p.hasIndex(P),F=f.hasIndex(P);e.beginPath();const H=h==null?void 0:h(P),ne=H===void 0?g:on(g,H);ne.bgCell!==g.bgCell&&(e.fillStyle=ne.bgCell,e.fillRect(S,$,1e4,k)),F&&(e.fillStyle=ne.bgHeader,e.fillRect(S,$,1e4,k)),x&&(e.fillStyle=ne.accentLight,e.fillRect(S,$,1e4,k))}),e.restore())})}function Q0(e,t,n,i,r,o,a,s,l){let c=!1;for(const d of t)if(!d.sticky){c=a(d.sourceIndex);break}const u=l.horizontalBorderColor??l.borderColor,h=l.borderColor,p=c?Sn(t):0;let f;if(p!==0&&(f=zo(h,l.bgCell),e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,i),e.strokeStyle=f,e.stroke()),r>0){const d=h===u&&f!==void 0?f:zo(u,l.bgCell),v=In(o,r,s);e.beginPath(),e.moveTo(0,i-v+.5),e.lineTo(n,i-v+.5),e.strokeStyle=d,e.stroke()}}const ys=(e,t,n)=>{let i=0,r=t,o=0,a=n;if(e!==void 0&&e.length>0){i=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(const s of e)i=Math.min(i,s.x-1),r=Math.max(r,s.x+s.width+1),o=Math.min(o,s.y-1),a=Math.max(a,s.y+s.height+1)}return{minX:i,maxX:r,minY:o,maxY:a}};function ey(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d){var k;const v=d.bgCell,{minX:m,maxX:y,minY:g,maxY:w}=ys(s,o,a),C=[],S=a-In(f,p,c);let I=l,A=n,E=0;for(;I+r<S;){const T=I+r,x=c(A);if(T>=g&&T<=w-1){const F=u==null?void 0:u(A),H=F==null?void 0:F.bgCell;H!==void 0&&H!==v&&A>=f-p&&C.push({x:m,y:T,w:y-m,h:x,color:H})}I+=x,A<f-p&&(E=I),A++}let M=0;const $=Math.min(S,w)-E;if($>0)for(let T=0;T<t.length;T++){const x=t[T];if(x.width===0)continue;const F=x.sticky?M:M+i,H=(k=x.themeOverride)==null?void 0:k.bgCell;H!==void 0&&H!==v&&F>=m&&F<=y&&h(T+1)&&C.push({x:F,y:E,w:x.width,h:$,color:H}),M+=x.width}if(C.length===0)return;let P;e.beginPath();for(let T=C.length-1;T>=0;T--){const x=C[T];P===void 0?P=x.color:x.color!==P&&(e.fillStyle=P,e.fill(),e.beginPath(),P=x.color),e.rect(x.x,x.y,x.w,x.h)}P!==void 0&&(e.fillStyle=P,e.fill()),e.beginPath()}function ua(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m,y=!1){if(l!==void 0){e.beginPath(),e.save(),e.rect(0,0,o,a);for(const k of l)e.rect(k.x+1,k.y+1,k.width-1,k.height-1);e.clip("evenodd")}const g=m.horizontalBorderColor??m.borderColor,w=m.borderColor,{minX:C,maxX:S,minY:I,maxY:A}=ys(s,o,a),E=[];e.beginPath();let M=.5;for(let k=0;k<t.length;k++){const T=t[k];if(T.width===0)continue;M+=T.width;const x=T.sticky?M:M+i;x>=C&&x<=S&&f(k+1)&&E.push({x1:x,y1:Math.max(c,I),x2:x,y2:Math.min(a,A),color:w})}let $=a+.5;for(let k=v-d;k<v;k++){const T=h(k);$-=T,E.push({x1:C,y1:$,x2:S,y2:$,color:g})}if(y!==!0){let k=u+.5,T=n;const x=$;for(;k+r<x;){const F=k+r;if(F>=I&&F<=A-1){const H=p==null?void 0:p(T);E.push({x1:C,y1:F,x2:S,y2:F,color:(H==null?void 0:H.horizontalBorderColor)??(H==null?void 0:H.borderColor)??g})}k+=h(T),T++}}const P=J0(E,k=>k.color);for(const k of Object.keys(P)){e.strokeStyle=k;for(const T of P[k])e.moveTo(T.x1,T.y1),e.lineTo(T.x2,T.y2);e.stroke(),e.beginPath()}l!==void 0&&e.restore()}function ty(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m,y,g){const w=[];e.imageSmoothingEnabled=!1;const C=Math.min(r.cellYOffset,a),S=Math.max(r.cellYOffset,a);let I=0;if(typeof y=="number")I+=(S-C)*y;else for(let x=C;x<S;x++)I+=y(x);a>r.cellYOffset&&(I=-I),I+=l-r.translateY;const A=Math.min(r.cellXOffset,o),E=Math.max(r.cellXOffset,o);let M=0;for(let x=A;x<E;x++)M+=v[x].width;o>r.cellXOffset&&(M=-M),M+=s-r.translateX;const $=Sn(m);if(M!==0&&I!==0)return{regions:[]};const P=c>0?In(p,c,y):0,k=u-$-Math.abs(M),T=h-f-P-Math.abs(I)-1;if(k>150&&T>150){const x={sx:0,sy:0,sw:u*d,sh:h*d,dx:0,dy:0,dw:u*d,dh:h*d};if(I>0?(x.sy=(f+1)*d,x.sh=T*d,x.dy=(I+f+1)*d,x.dh=T*d,w.push({x:0,y:f,width:u,height:I+1})):I<0&&(x.sy=(-I+f+1)*d,x.sh=T*d,x.dy=(f+1)*d,x.dh=T*d,w.push({x:0,y:h+I-P,width:u,height:-I+P})),M>0?(x.sx=$*d,x.sw=k*d,x.dx=(M+$)*d,x.dw=k*d,w.push({x:$-1,y:0,width:M+2,height:h})):M<0&&(x.sx=($-M)*d,x.sw=k*d,x.dx=$*d,x.dw=k*d,w.push({x:u+M,y:0,width:-M,height:h})),e.setTransform(1,0,0,1,0,0),g){if($>0&&M!==0&&I===0&&(i===void 0||(n==null?void 0:n[1])!==!1)){const F=$*d,H=h*d;e.drawImage(t,0,0,F,H,0,0,F,H)}if(P>0&&M===0&&I!==0&&(i===void 0||(n==null?void 0:n[0])!==!1)){const F=(h-P)*d,H=u*d,ne=P*d;e.drawImage(t,0,F,H,ne,0,F,H,ne)}}e.drawImage(t,x.sx,x.sy,x.sw,x.sh,x.dx,x.dy,x.dw,x.dh),e.scale(d,d)}return e.imageSmoothingEnabled=!0,{regions:w}}function ny(e,t,n,i,r,o,a,s,l,c){const u=[];return t!==e.cellXOffset||n!==e.cellYOffset||i!==e.translateX||r!==e.translateY||Nt(l,n,i,r,s,(h,p,f,d)=>{if(h.sourceIndex===c){const v=Math.max(p,d)+1;return u.push({x:v,y:0,width:o-v,height:a}),!0}}),u}function ry(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let i=0;i<e.mappedColumns.length;i++){const r=e.mappedColumns[i],o=t.mappedColumns[i];if(wn(r,o))continue;if(n!==void 0||r.width===o.width)return!1;const{width:a,...s}=r,{width:l,...c}=o;if(!wn(s,c))return!1;n=i}return n===void 0?!0:n}return!0}function da(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m,y){const g=d==null?void 0:d.filter(M=>M.style!=="no-outline");if(g===void 0||g.length===0)return;const w=Sn(s),C=In(f,p,h),S=[l,0,s.length,f-p],I=[w,0,t,n-C],A=g.map(M=>{const $=M.range,P=M.style??"dashed";return Xh($,S,t,n,I).map(k=>{const T=k.rect,x=wi(T.x,T.y,t,n,u,c+u,i,r,o,a,f,l,p,s,h,m,y),F=T.width===1&&T.height===1?x:wi(T.x+T.width-1,T.y+T.height-1,t,n,u,c+u,i,r,o,a,f,l,p,s,h,m,y);return T.x+T.width>=s.length&&(F.width-=1),T.y+T.height>=f&&(F.height-=1),{color:M.color,style:P,clip:k.clip,rect:Nh({x:x.x,y:x.y,width:F.x+F.width-x.x,height:F.y+F.height-x.y},t,n,8)}})}),E=()=>{e.lineWidth=1;let M=!1;for(const $ of A)for(const P of $)if((P==null?void 0:P.rect)!==void 0&&Gn(0,0,t,n,P.rect.x,P.rect.y,P.rect.width,P.rect.height)){const k=M,T=!zh(P.clip,P.rect);e.beginPath(),T&&(e.save(),e.rect(P.clip.x,P.clip.y,P.clip.width,P.clip.height),e.clip()),P.style==="dashed"&&!M?(e.setLineDash([5,3]),M=!0):(P.style==="solid"||P.style==="solid-outline")&&M&&(e.setLineDash([]),M=!1),e.strokeStyle=P.style==="solid-outline"?st(st(P.color,v.borderColor),v.bgCell):Mn(P.color,1),e.closePath(),e.strokeRect(P.rect.x+.5,P.rect.y+.5,P.rect.width-1,P.rect.height-1),T&&(e.restore(),M=k)}M&&e.setLineDash([])};return E(),E}function fa(e,t,n,i,r){e.beginPath(),e.moveTo(t,n),e.lineTo(t,i),e.lineWidth=2,e.strokeStyle=r,e.stroke(),e.globalAlpha=1}function oi(e,t,n,i,r,o,a,s,l,c,u,h,p,f,d,v,m){if(u.current===void 0)return;const y=v!==!1&&v!==void 0;if(!y)return;const g=typeof v=="object"?{...wr,...v}:wr,w=u.current.range,C=u.current.cell,S=[w.x+w.width-1,w.y+w.height-1];if(C[1]>=m&&S[1]>=m||!a.some(H=>H.sourceIndex===C[0]||H.sourceIndex===S[0]))return;const[A,E]=u.current.cell,M=p(u.current.cell),$=M.span??[A,A],P=E>=m-f,k=f>0&&!P?In(m,f,h)-1:0,T=S[1];let x;if(Nt(a,i,r,o,c,(H,ne,J,K,Z)=>{if(H.sticky&&A>H.sourceIndex)return;const me=H.sourceIndex<$[0],ae=H.sourceIndex>$[1],le=H.sourceIndex===S[0];if(!(!le&&(me||ae)))return Hr(Z,J,n,m,h,f,d,void 0,(Me,j,ye)=>{if(j!==E&&j!==T)return;let we=ne,B=H.width;if(M.span!==void 0){const G=ns(M.span,ne,Me,H.width,ye,H,s),de=H.sticky?G[0]:G[1];de!==void 0&&(we=de.x,B=de.width)}return j===T&&le&&y&&(x=()=>{var ce;K>we&&!H.sticky&&(e.beginPath(),e.rect(K,0,t-K,n),e.clip());const G=g.size,de=G/2,Ae=we+B+g.offsetX-de+.5,Y=Me+ye+g.offsetY-de+.5;e.beginPath(),g.shape==="circle"?e.arc(Ae+de,Y+de,de,0,Math.PI*2):e.rect(Ae,Y,G,G),e.fillStyle=((ce=H.themeOverride)==null?void 0:ce.accentColor)??l.accentColor,e.fill(),g.outline>0&&(e.lineWidth=g.outline,e.strokeStyle=l.bgCell,g.shape==="circle"?(e.beginPath(),e.arc(Ae+de,Y+de,de+g.outline/2,0,Math.PI*2),e.stroke()):e.strokeRect(Ae-g.outline/2,Y-g.outline/2,G+g.outline,G+g.outline))}),x!==void 0}),x!==void 0}),x===void 0)return;const F=()=>{e.save(),e.beginPath(),e.rect(0,c,t,n-c-k),e.clip(),x==null||x(),e.restore()};return F(),F}function iy(e,t,n,i,r,o,a,s,l){l===void 0||l.size===0||(e.beginPath(),Nt(t,s,o,a,r,(c,u,h,p)=>{const f=Math.max(0,p-u),d=u+f+1,v=c.width-f-1;l.has([c.sourceIndex,-1])&&e.rect(d,i,v,r-i)}),e.clip())}function oy(e,t,n,i,r,o,a,s,l,c){let u=0;return Nt(e,o,i,r,n,(h,p,f,d,v)=>(Hr(v,f,t,a,s,l,c,void 0,(m,y,g,w)=>{w||(u=Math.max(y,u))}),!0)),u}function ha(e,t){var Ut;const{canvasCtx:n,headerCanvasCtx:i,width:r,height:o,cellXOffset:a,cellYOffset:s,translateX:l,translateY:c,mappedColumns:u,enableGroups:h,freezeColumns:p,dragAndDropState:f,theme:d,drawFocus:v,headerHeight:m,groupHeaderHeight:y,groupLevels:g,groupHeaderHeights:w,disabledRows:C,rowHeight:S,verticalBorder:I,overrideCursor:A,isResizing:E,selection:M,fillHandle:$,freezeTrailingRows:P,rows:k,getCellContent:T,getGroupDetails:x,getRowThemeOverride:F,isFocused:H,drawHeaderCallback:ne,prelightCells:J,drawCellCallback:K,highlightRegions:Z,resizeCol:me,imageLoader:ae,lastBlitData:le,hoverValues:Me,hyperWrapping:j,hoverInfo:ye,spriteManager:we,maxScaleFactor:B,hasAppendRow:fe,touchMode:G,enqueue:de,renderStateProvider:Ae,getCellRenderer:Y,renderStrategy:ce,bufferACtx:Ge,bufferBCtx:Je,damage:be,minimumCellWidth:$t,resizeIndicator:kt}=e;if(r===0||o===0)return;const tt=ce==="double-buffer",he=Math.min(B,Math.ceil(window.devicePixelRatio??1)),nt=ce!=="direct"&&ry(e,t),ze=n.canvas;(ze.width!==r*he||ze.height!==o*he)&&(ze.width=r*he,ze.height=o*he,ze.style.width=r+"px",ze.style.height=o+"px");const Ke=i.canvas,Re=w.reduce((Ce,ot)=>Ce+ot,0),se=m+Re,Se=se+1;(Ke.width!==r*he||Ke.height!==Se*he)&&(Ke.width=r*he,Ke.height=Se*he,Ke.style.width=r+"px",Ke.style.height=Se+"px");const Ee=Ge.canvas,ut=Je.canvas;tt&&(Ee.width!==r*he||Ee.height!==o*he)&&(Ee.width=r*he,Ee.height=o*he,le.current!==void 0&&(le.current.aBufferScroll=void 0)),tt&&(ut.width!==r*he||ut.height!==o*he)&&(ut.width=r*he,ut.height=o*he,le.current!==void 0&&(le.current.bBufferScroll=void 0));const O=le.current;if(nt===!0&&a===(O==null?void 0:O.cellXOffset)&&s===(O==null?void 0:O.cellYOffset)&&l===(O==null?void 0:O.translateX)&&c===(O==null?void 0:O.translateY))return;let Fe=null;tt&&(Fe=n);const Pe=i;let W;tt?be!==void 0?W=(O==null?void 0:O.lastBuffer)==="b"?Je:Ge:W=(O==null?void 0:O.lastBuffer)==="b"?Ge:Je:W=n;const He=W.canvas,Oe=tt?He===Ee?ut:Ee:ze,oe=typeof S=="number"?()=>S:S;Pe.save(),W.save(),Pe.beginPath(),W.beginPath(),Pe.textBaseline="middle",W.textBaseline="middle",he!==1&&(Pe.scale(he,he),W.scale(he,he));const ie=bi(u,a,r,f,l);let Ne=[];const dt=v&&((Ut=M.current)==null?void 0:Ut.cell[1])===s&&c===0;let rt=!1;if(Z!==void 0){for(const Ce of Z)if(Ce.style!=="no-outline"&&Ce.range.y===s&&c===0){rt=!0;break}}const yt=()=>{Pe.fillStyle=d.bgHeader,Pe.fillRect(0,0,r,se+1),Yh(Pe,ie,u,h,ye,r,l,m,y,f,E,M,d,we,Me,I,x,be,ne,G,g,w),ua(Pe,ie,s,l,c,r,o,void 0,void 0,Re,se,oe,F,I,P,k,d,!0),Pe.beginPath(),Pe.moveTo(0,Se-.5),Pe.lineTo(r,Se-.5),Pe.strokeStyle=st(d.headerBottomBorderColor??d.horizontalBorderColor??d.borderColor,d.bgHeader),Pe.stroke(),rt&&da(Pe,r,o,a,s,l,c,u,p,m,Re,S,P,k,Z,d,g,w),dt&&oi(Pe,r,o,s,l,c,ie,u,d,se,M,oe,T,P,fe,$,k)};if(be!==void 0){const Ce=ie[ie.length-1].sourceIndex+1,ot=be.hasItemInRegion([{x:a,y:-2,width:Ce,height:2},{x:a,y:s,width:Ce,height:300},{x:0,y:s,width:p,height:300},{x:0,y:-2,width:p,height:2},{x:a,y:k-P,width:Ce,height:P,when:P>0}]),ft=ht=>{No(ht,ie,u,o,se,l,c,s,k,oe,T,x,F,C,H,v,P,fe,Ne,be,M,J,Z,ae,we,Me,ye,K,j,d,de,Ae,Y,A,$t);const xt=M.current;$!==!1&&$!==void 0&&v&&xt!==void 0&&be.has(Ga(xt.range))&&oi(ht,r,o,s,l,c,ie,u,d,se,M,oe,T,P,fe,$,k)};ot&&(ft(W),Fe!==null&&(Fe.save(),Fe.scale(he,he),Fe.textBaseline="middle",ft(Fe),Fe.restore()),be.hasHeader()&&(iy(Pe,ie,r,Re,se,l,c,s,be),yt())),W.restore(),Pe.restore();return}if((nt!==!0||a!==(O==null?void 0:O.cellXOffset)||s!==(O==null?void 0:O.cellYOffset)||l!==(O==null?void 0:O.translateX)||c!==(O==null?void 0:O.translateY)||dt!==(O==null?void 0:O.mustDrawFocusOnHeader)||rt!==(O==null?void 0:O.mustDrawHighlightRingsOnHeader))&&yt(),nt===!0){Rt(Oe!==void 0&&O!==void 0);const{regions:Ce}=ty(W,Oe,Oe===Ee?O.aBufferScroll:O.bBufferScroll,Oe===Ee?O.bBufferScroll:O.aBufferScroll,O,a,s,l,c,P,r,o,k,se,he,u,ie,S,tt);Ne=Ce}else nt!==!1&&(Rt(O!==void 0),Ne=ny(O,a,s,l,c,r,o,se,ie,nt));Q0(W,ie,r,o,P,k,I,oe,d);const qe=da(W,r,o,a,s,l,c,u,p,m,Re,S,P,k,Z,d,g,w),bt=v?oi(W,r,o,s,l,c,ie,u,d,se,M,oe,T,P,fe,$,k):void 0;if(W.fillStyle=d.bgCell,Ne.length>0){W.beginPath();for(const Ce of Ne)W.rect(Ce.x,Ce.y,Ce.width,Ce.height);W.clip(),W.fill(),W.beginPath()}else W.fillRect(0,0,r,o);const it=No(W,ie,u,o,se,l,c,s,k,oe,T,x,F,C,H,v,P,fe,Ne,be,M,J,Z,ae,we,Me,ye,K,j,d,de,Ae,Y,A,$t);Z0(W,ie,u,r,o,se,l,c,s,k,oe,F,M.rows,C,P,fe,Ne,be,d),ey(W,ie,s,l,c,r,o,Ne,se,oe,F,I,P,k,d),ua(W,ie,s,l,c,r,o,Ne,it,Re,se,oe,F,I,P,k,d),qe==null||qe(),bt==null||bt(),E&&kt!=="none"&&Nt(ie,0,l,0,se,(Ce,ot)=>Ce.sourceIndex===me?(fa(Pe,ot+Ce.width,0,se+1,st(d.resizeIndicatorColor??d.accentLight,d.bgHeader)),kt==="full"&&fa(W,ot+Ce.width,se,o,st(d.resizeIndicatorColor??d.accentLight,d.bgCell)),!0):!1),Fe!==null&&(Fe.fillStyle=d.bgCell,Fe.fillRect(0,0,r,o),Fe.drawImage(W.canvas,0,0));const Xt=oy(ie,o,se,l,c,s,k,oe,P,fe);ae==null||ae.setWindow({x:a,y:s,width:ie.length,height:Xt-s},p,Array.from({length:P},(Ce,ot)=>k-1-ot));const jt=O!==void 0&&(a!==O.cellXOffset||l!==O.translateX),$e=O!==void 0&&(s!==O.cellYOffset||c!==O.translateY);le.current={cellXOffset:a,cellYOffset:s,translateX:l,translateY:c,mustDrawFocusOnHeader:dt,mustDrawHighlightRingsOnHeader:rt,lastBuffer:tt?He===Ee?"a":"b":void 0,aBufferScroll:He===Ee?[jt,$e]:O==null?void 0:O.aBufferScroll,bBufferScroll:He===ut?[jt,$e]:O==null?void 0:O.bBufferScroll},W.restore(),Pe.restore()}const ay=80;function sy(e){const t=e-1;return t*t*t+1}class ly{constructor(t){ee(this,"currentHoveredItem");ee(this,"leavingItems",[]);ee(this,"lastAnimationTime");ee(this,"addToLeavingItems",t=>{this.leavingItems.some(i=>mr(i.item,t.item))||this.leavingItems.push(t)});ee(this,"removeFromLeavingItems",t=>{const n=this.leavingItems.find(i=>mr(i.item,t));return this.leavingItems=this.leavingItems.filter(i=>i!==n),(n==null?void 0:n.hoverAmount)??0});ee(this,"cleanUpLeavingElements",()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)});ee(this,"shouldStep",()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n});ee(this,"getAnimatingItems",()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:sy(t.hoverAmount)})));ee(this,"step",t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const i=(t-this.lastAnimationTime)/ay;for(const o of this.leavingItems)o.hoverAmount=Sr(o.hoverAmount-i,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=Sr(this.currentHoveredItem.hoverAmount+i,0,1));const r=this.getAnimatingItems();this.callback(r),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0});ee(this,"setHovered",t=>{var n;if(!mr((n=this.currentHoveredItem)==null?void 0:n.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const i=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:i}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}});this.callback=t}}class cy{constructor(t){ee(this,"fn");ee(this,"val");this.fn=t}get value(){return this.val??(this.val=this.fn())}}function Zi(e){return new cy(e)}const uy=Zi(()=>window.navigator.userAgent.includes("Firefox")),pa=Zi(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Gw=Zi(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function dy(e){const t=b.useRef([]),n=b.useRef(0),i=b.useRef(e);i.current=e;const r=b.useCallback(()=>{const o=()=>window.requestAnimationFrame(a),a=()=>{const s=t.current.map(Ki);t.current=[],i.current(new bn(s)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?o:a)},[]);return b.useCallback(o=>{t.current.length===0&&r();const a=mt(o[0],o[1]);t.current.includes(a)||t.current.push(a)},[r])}const Zt="header",Bn="group-header",ga="out-of-bounds";var Wn=(e=>(e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End",e))(Wn||{});function fy(e,t){return e===t?!0:(e==null?void 0:e.kind)==="out-of-bounds"?(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])&&(e==null?void 0:e.region[0])===(t==null?void 0:t.region[0])&&(e==null?void 0:e.region[1])===(t==null?void 0:t.region[1]):(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])}const hy=(e,t)=>{if(e.kind===ve.Custom)return e.copyData;const n=t==null?void 0:t(e);return(n==null?void 0:n.getAccessibilityString(e))??""},py=(e,t)=>{const{width:n,height:i,accessibilityHeight:r,columns:o,cellXOffset:a,cellYOffset:s,headerHeight:l,fillHandle:c=!1,groupHeaderHeight:u,groupLevels:h,groupHeaderHeights:p,rowHeight:f,rows:d,getCellContent:v,getRowThemeOverride:m,onHeaderMenuClick:y,onHeaderIndicatorClick:g,enableGroups:w,isFilling:C,onCanvasFocused:S,onCanvasBlur:I,isFocused:A,selection:E,freezeColumns:M,onContextMenu:$,freezeTrailingRows:P,fixedShadowX:k=!0,fixedShadowY:T=!0,drawFocusRing:x,onMouseDown:F,onMouseUp:H,onMouseMoveRaw:ne,onMouseMove:J,onItemHovered:K,dragAndDropState:Z,firstColAccessible:me,onKeyDown:ae,onKeyUp:le,highlightRegions:Me,canvasRef:j,onDragStart:ye,onDragEnd:we,eventTargetRef:B,isResizing:fe,resizeColumn:G,isDragging:de,isDraggable:Ae=!1,allowResize:Y,disabledRows:ce,hasAppendRow:Ge,getGroupDetails:Je,theme:be,prelightCells:$t,headerIcons:kt,verticalBorder:tt,drawCell:he,drawHeader:nt,onCellFocused:ze,onDragOverCell:Ke,onDrop:Re,onDragLeave:se,imageWindowLoader:Se,smoothScrollX:Ee=!1,smoothScrollY:ut=!1,experimental:O,getCellRenderer:Fe,resizeIndicator:Pe="full"}=e,W=e.translateX??0,He=e.translateY??0,Oe=Math.max(M,Math.min(o.length-1,a)),oe=b.useRef(null),ie=b.useRef((O==null?void 0:O.eventTarget)??window),Ne=ie.current,dt=Se,rt=b.useRef(),[yt,qe]=b.useState(!1),bt=b.useRef([]),it=b.useRef(),[Xt,jt]=b.useState(),[$e,Ut]=b.useState(),Ce=b.useRef(null),[ot,ft]=b.useState(),[ht,xt]=b.useState(!1),Yt=b.useRef(ht);Yt.current=ht;const q=b.useMemo(()=>new Dh(kt,()=>{tr.current=void 0,An.current()}),[kt]),De=w?p.reduce((_,R)=>_+R,0):0,ue=l+De,Qe=b.useRef(-1),at=((O==null?void 0:O.enableFirefoxRescaling)??!1)&&uy.value,Le=((O==null?void 0:O.enableSafariRescaling)??!1)&&pa.value;b.useLayoutEffect(()=>{window.devicePixelRatio===1||!at&&!Le||(Qe.current!==-1&&qe(!0),window.clearTimeout(Qe.current),Qe.current=window.setTimeout(()=>{qe(!1),Qe.current=-1},200))},[s,Oe,W,He,at,Le]);const Be=yh(o,M),Nr=b.useMemo(()=>k?Sn(Be,Z):0,[Be,Z,k]),je=b.useCallback((_,R,z)=>{const N=_.getBoundingClientRect();if(R>=Be.length||z>=d)return;const D=N.width/n,L=wi(R,z,n,i,u,ue,Oe,s,W,He,d,M,P,Be,f,h,p);return D!==1&&(L.x*=D,L.y*=D,L.width*=D,L.height*=D),L.x+=N.x,L.y+=N.y,L},[n,i,u,ue,Oe,s,W,He,d,M,P,Be,f,h,p]),Ue=b.useCallback((_,R,z,N)=>{const D=_.getBoundingClientRect(),L=D.width/n,V=(R-D.left)/L,re=(z-D.top)/L,X=5,Ye=bi(Be,Oe,n,void 0,W);let U=0,pe=0;const ke=typeof PointerEvent<"u"&&N instanceof PointerEvent&&N.pointerType==="mouse"||typeof MouseEvent<"u"&&N instanceof MouseEvent,Ie=typeof PointerEvent<"u"&&N instanceof PointerEvent&&N.pointerType==="touch"||typeof TouchEvent<"u"&&N instanceof TouchEvent;ke&&(U=N.button,pe=N.buttons);const xe=_h(V,Ye,W),We=Eh(re,i,w,l,u,d,f,s,He,P,h,p),Xe=(N==null?void 0:N.shiftKey)===!0,Tt=(N==null?void 0:N.ctrlKey)===!0,Dt=(N==null?void 0:N.metaKey)===!0,wt=[V<0?-1:n<V?1:0,re<ue?-1:i<re?1:0];let Ft;if(xe===-1||re<0||V<0||We===void 0||V>n||re>i){const _e=V>n?1:V<0?-1:0,Ht=re>i?1:re<0?-1:0;let At=_e*2,pn=Ht*2;_e===0&&(At=xe===-1?Wn.EndPadding:Wn.Center),Ht===0&&(pn=We===void 0?Wn.EndPadding:Wn.Center);let pt=!1;if(xe===-1&&We===-1){const gn=je(_,Be.length-1,-1);Rt(gn!==void 0),pt=R<gn.x+gn.width+X}const On=V>n&&V<n+Fo()||re>i&&re<i+Fo();Ft={kind:ga,location:[xe!==-1?xe:V<0?0:Be.length-1,We??d-1],region:[At,pn],shiftKey:Xe,ctrlKey:Tt,metaKey:Dt,isEdge:pt,isTouch:Ie,button:U,buttons:pe,scrollEdge:wt,isMaybeScrollbar:On}}else if(We<=-1){let _e=je(_,xe,We);Rt(_e!==void 0);let Ht=_e!==void 0&&_e.x+_e.width-R<=X;const At=w&&We<=-2,pn=At?-(We+2):void 0,pt=xe-1;R-_e.x<=X&&pt>=0?(Ht=!0,_e=je(_,pt,We),Rt(_e!==void 0),Ft={kind:At?Bn:Zt,location:[pt,We],bounds:_e,group:rn(Be[pt].group,pn),isEdge:Ht,shiftKey:Xe,ctrlKey:Tt,metaKey:Dt,isTouch:Ie,localEventX:R-_e.x,localEventY:z-_e.y,button:U,buttons:pe,scrollEdge:wt}):Ft={kind:At?Bn:Zt,group:rn(Be[xe].group,pn),location:[xe,We],bounds:_e,isEdge:Ht,shiftKey:Xe,ctrlKey:Tt,metaKey:Dt,isTouch:Ie,localEventX:R-_e.x,localEventY:z-_e.y,button:U,buttons:pe,scrollEdge:wt}}else{const _e=je(_,xe,We);Rt(_e!==void 0);const Ht=_e!==void 0&&_e.x+_e.width-R<X;let At=!1;if(c!==!1&&c!==void 0&&E.current!==void 0){const pt=typeof c=="object"?{...wr,...c}:wr,On=pt.size,gn=On/2,yo=Ga(E.current.range),$n=je(_,yo[0],yo[1]);if($n!==void 0){const qs=$n.x+$n.width+pt.offsetX-gn+.5,Ks=$n.y+$n.height+pt.offsetY-gn+.5;At=Math.abs(qs-R)<On&&Math.abs(Ks-z)<On}}Ft={kind:"cell",location:[xe,We],bounds:_e,isEdge:Ht,shiftKey:Xe,ctrlKey:Tt,isFillHandle:At,metaKey:Dt,isTouch:Ie,localEventX:R-_e.x,localEventY:z-_e.y,button:U,buttons:pe,scrollEdge:wt}}return Ft},[n,Be,Oe,W,i,w,l,u,d,f,s,He,P,je,c,E,ue,h,p]),[Gt]=Xt??[],ro=b.useRef(()=>{}),un=b.useRef(Xt);un.current=Xt;const[qt,Kt]=b.useMemo(()=>{const _=document.createElement("canvas"),R=document.createElement("canvas");return _.style.display="none",_.style.opacity="0",_.style.position="fixed",R.style.display="none",R.style.opacity="0",R.style.position="fixed",[_.getContext("2d",{alpha:!1}),R.getContext("2d",{alpha:!1})]},[]);b.useLayoutEffect(()=>{if(!(qt===null||Kt===null))return document.documentElement.append(qt.canvas),document.documentElement.append(Kt.canvas),()=>{qt.canvas.remove(),Kt.canvas.remove()}},[qt,Kt]);const er=b.useMemo(()=>new Oh,[]),io=at&&yt?1:Le&&yt?2:5,oo=(O==null?void 0:O.disableMinimumCellWidth)===!0?1:10,tr=b.useRef(),nr=b.useRef(null),rr=b.useRef(null),ir=b.useCallback(()=>{var V;const _=oe.current,R=Ce.current;if(_===null||R===null||(nr.current===null&&(nr.current=_.getContext("2d",{alpha:!1}),_.width=0,_.height=0),rr.current===null&&(rr.current=R.getContext("2d",{alpha:!1}),R.width=0,R.height=0),nr.current===null||rr.current===null||qt===null||Kt===null))return;let z=!1;const N=re=>{z=!0,ft(re)},D=tr.current,L={headerCanvasCtx:rr.current,canvasCtx:nr.current,bufferACtx:qt,bufferBCtx:Kt,width:n,height:i,cellXOffset:Oe,cellYOffset:s,translateX:Math.round(W),translateY:Math.round(He),mappedColumns:Be,enableGroups:w,freezeColumns:M,dragAndDropState:Z,theme:be,headerHeight:l,groupHeaderHeight:u,groupLevels:h,groupHeaderHeights:p,disabledRows:ce??gi.empty(),rowHeight:f,verticalBorder:tt,isResizing:fe,resizeCol:G,isFocused:A,selection:E,fillHandle:c,drawCellCallback:he,hasAppendRow:Ge,overrideCursor:N,maxScaleFactor:io,freezeTrailingRows:P,rows:d,drawFocus:x,getCellContent:v,getGroupDetails:Je??(re=>({name:re})),getRowThemeOverride:m,drawHeaderCallback:nt,prelightCells:$t,highlightRegions:Me,imageLoader:dt,lastBlitData:it,damage:rt.current,hoverValues:bt.current,hoverInfo:un.current,spriteManager:q,scrolling:yt,hyperWrapping:(O==null?void 0:O.hyperWrapping)??!1,touchMode:ht,enqueue:ro.current,renderStateProvider:er,renderStrategy:(O==null?void 0:O.renderStrategy)??(pa.value?"double-buffer":"single-buffer"),getCellRenderer:Fe,minimumCellWidth:oo,resizeIndicator:Pe};L.damage===void 0?(tr.current=L,ha(L,D)):ha(L,void 0),!z&&(L.damage===void 0||L.damage.has((V=un==null?void 0:un.current)==null?void 0:V[0]))&&ft(void 0)},[qt,Kt,n,i,Oe,s,W,He,Be,w,M,Z,be,l,u,h,p,ce,f,tt,fe,Ge,G,A,E,c,P,d,x,io,v,Je,m,he,nt,$t,Me,dt,q,yt,O==null?void 0:O.hyperWrapping,O==null?void 0:O.renderStrategy,ht,er,Fe,oo,Pe]),An=b.useRef(ir);b.useLayoutEffect(()=>{ir(),An.current=ir},[ir]),b.useLayoutEffect(()=>{(async()=>{var R;((R=document==null?void 0:document.fonts)==null?void 0:R.ready)!==void 0&&(await document.fonts.ready,tr.current=void 0,An.current())})()},[]);const dn=b.useCallback(_=>{rt.current=_,An.current(),rt.current=void 0},[]),Ms=dy(dn);ro.current=Ms;const ao=b.useCallback(_=>{dn(new bn(_.map(R=>R.cell)))},[dn]);dt.setCallback(dn);const[Ps,ks]=b.useState(!1),[Vt,fn]=Gt??[],xs=Vt!==void 0&&fn===-1&&Vt>=0&&Vt<Be.length&&Be[Vt].headerRowMarkerDisabled!==!0,Ts=Vt!==void 0&&fn===-2;let so=!1,lo=!1,or=ot;if(or===void 0&&Vt!==void 0&&fn!==void 0&&fn>-1&&fn<d){const _=v([Vt,fn],!0);so=_.kind===zt.NewRow||_.kind===zt.Marker&&_.markerKind!=="number",lo=_.kind===ve.Boolean&&Ni(_),or=_.cursor}const co=de?"grabbing":($e??!1)||fe?"col-resize":Ps||C?"crosshair":or!==void 0?or:xs||so||lo||Ts?"pointer":"default",Xr=b.useMemo(()=>({contain:"strict",display:"block",cursor:co}),[co]),uo=b.useRef("default"),jr=B==null?void 0:B.current;jr!=null&&uo.current!==Xr.cursor&&(jr.style.cursor=uo.current=Xr.cursor);const ar=b.useCallback((_,R,z,N)=>{if(Je===void 0)return;const D=Je(_);if(D.actions!==void 0){const L=Vi(R,D.actions);for(const[V,re]of L.entries())if(nn(re,z+R.x,N+re.y))return D.actions[V]}},[Je]),hn=b.useCallback((_,R,z,N)=>{const D=Be[R];if(!de&&!fe&&!($e??!1)){const L=je(_,R,-1);Rt(L!==void 0);const V=as(void 0,D,L.x,L.y,L.width,L.height,be,Yi(D.title)==="rtl");if(D.hasMenu===!0&&V.menuBounds!==void 0&&nn(V.menuBounds,z,N))return{area:"menu",bounds:V.menuBounds};if(D.indicatorIcon!==void 0&&V.indicatorIconBounds!==void 0&&nn(V.indicatorIconBounds,z,N))return{area:"indicator",bounds:V.indicatorIconBounds}}},[Be,je,$e,de,fe,be]),Ur=b.useRef(0),Rn=b.useRef(),Yr=b.useRef(!1),As=b.useCallback(_=>{const R=oe.current,z=B==null?void 0:B.current;if(R===null||_.target!==R&&_.target!==z)return;Yr.current=!0;const N=_.clientX,D=_.clientY;if(_.target===z&&z!==null){const V=z.getBoundingClientRect();if(N>V.right||D>V.bottom)return}const L=Ue(R,N,D,_);Rn.current=L.location,L.isTouch&&(Ur.current=Date.now()),Yt.current!==L.isTouch&&xt(L.isTouch),!(L.kind===Zt&&hn(R,L.location[0],N,D)!==void 0)&&(L.kind===Bn&&ar(L.group,L.bounds,L.localEventX,L.localEventY)!==void 0||(F==null||F(L),!L.isTouch&&Ae!==!0&&Ae!==L.kind&&L.button<3&&L.button!==1&&_.preventDefault()))},[B,Ae,Ue,ar,hn,F]);St("pointerdown",As,Ne,!1);const fo=b.useRef(0),Rs=b.useCallback(_=>{var pe,ke;const R=fo.current;fo.current=Date.now();const z=oe.current;if(Yr.current=!1,H===void 0||z===null)return;const N=B==null?void 0:B.current,D=_.target!==z&&_.target!==N,L=_.clientX,V=_.clientY,re=_.pointerType==="mouse"?_.button<3:!0;let X=Ue(z,L,V,_);X.isTouch&&Ur.current!==0&&Date.now()-Ur.current>500&&(X={...X,isLongTouch:!0}),R!==0&&Date.now()-R<(X.isTouch?1e3:500)&&(X={...X,isDoubleClick:!0}),Yt.current!==X.isTouch&&xt(X.isTouch),!D&&_.cancelable&&re&&_.preventDefault();const[Ye]=X.location,U=hn(z,Ye,L,V);if(X.kind===Zt&&U!==void 0){(X.button!==0||((pe=Rn.current)==null?void 0:pe[0])!==Ye||((ke=Rn.current)==null?void 0:ke[1])!==-1)&&H(X,!0);return}else if(X.kind===Bn){const Ie=ar(X.group,X.bounds,X.localEventX,X.localEventY);if(Ie!==void 0){X.button===0&&Ie.onClick(X);return}}H(X,D)},[H,B,Ue,hn,ar]);St("pointerup",Rs,Ne,!1);const Os=b.useCallback(_=>{var Ye,U;const R=oe.current;if(R===null)return;const z=B==null?void 0:B.current,N=_.target!==R&&_.target!==z;let D,L,V=!0;_ instanceof MouseEvent?(D=_.clientX,L=_.clientY,V=_.button<3):(D=_.changedTouches[0].clientX,L=_.changedTouches[0].clientY);const re=Ue(R,D,L,_);Yt.current!==re.isTouch&&xt(re.isTouch),!N&&_.cancelable&&V&&_.preventDefault();const[X]=re.location;if(re.kind===Zt){const pe=hn(R,X,D,L);pe!==void 0&&re.button===0&&((Ye=Rn.current)==null?void 0:Ye[0])===X&&((U=Rn.current)==null?void 0:U[1])===-1&&(pe.area==="menu"?y==null||y(X,pe.bounds):pe.area==="indicator"&&(g==null||g(X,pe.bounds)))}},[B,Ue,hn,y,g]);St("click",Os,Ne,!1);const $s=b.useCallback(_=>{const R=oe.current,z=B==null?void 0:B.current;if(R===null||_.target!==R&&_.target!==z||$===void 0)return;const N=Ue(R,_.clientX,_.clientY,_);$(N,()=>{_.cancelable&&_.preventDefault()})},[B,Ue,$]);St("contextmenu",$s,(B==null?void 0:B.current)??null,!1);const ho=b.useCallback(_=>{rt.current=new bn(_.map(R=>R.item)),bt.current=_,An.current(),rt.current=void 0},[]),po=b.useMemo(()=>new ly(ho),[ho]),go=b.useRef(po);go.current=po,b.useLayoutEffect(()=>{const _=go.current;if(Gt===void 0||Gt[1]<0){_.setHovered(Gt);return}const R=v(Gt,!0),z=Fe(R),N=z===void 0&&R.kind===ve.Custom||(z==null?void 0:z.needsHover)!==void 0&&(typeof z.needsHover=="boolean"?z.needsHover:z.needsHover(R));_.setHovered(N?Gt:void 0)},[v,Fe,Gt]);const vo=b.useRef(),Ds=b.useCallback(_=>{var re;const R=oe.current;if(R===null)return;const z=B==null?void 0:B.current,N=_.target!==R&&_.target!==z,D=Ue(R,_.clientX,_.clientY,_);if(D.kind!=="out-of-bounds"&&N&&!Yr.current&&!D.isTouch)return;const L=(X,Ye)=>{jt(U=>U===X||(U==null?void 0:U[0][0])===(X==null?void 0:X[0][0])&&(U==null?void 0:U[0][1])===(X==null?void 0:X[0][1])&&((U==null?void 0:U[1][0])===(X==null?void 0:X[1][0])&&(U==null?void 0:U[1][1])===(X==null?void 0:X[1][1])||!Ye)?U:X)};if(!fy(D,vo.current))ft(void 0),K==null||K(D),L(D.kind===ga?void 0:[D.location,[D.localEventX,D.localEventY]],!0),vo.current=D;else if(D.kind==="cell"||D.kind===Zt||D.kind===Bn){let X=!1,Ye=!0;if(D.kind==="cell"){const pe=v(D.location);Ye=((re=Fe(pe))==null?void 0:re.needsHoverPosition)??pe.kind===ve.Custom,X=Ye}else X=!0;const U=[D.location,[D.localEventX,D.localEventY]];L(U,Ye),un.current=U,X&&dn(new bn([D.location]))}const V=D.location[0]>=(me?0:1);Ut(D.kind===Zt&&D.isEdge&&V&&Y===!0),ks(D.kind==="cell"&&D.isFillHandle),ne==null||ne(_),J(D)},[B,Ue,me,Y,ne,J,K,v,Fe,dn]);St("pointermove",Ds,Ne,!0);const Fs=b.useCallback(_=>{const R=oe.current;if(R===null)return;let z,N;E.current!==void 0&&(z=je(R,E.current.cell[0],E.current.cell[1]),N=E.current.cell),ae==null||ae({bounds:z,stopPropagation:()=>_.stopPropagation(),preventDefault:()=>_.preventDefault(),cancel:()=>{},ctrlKey:_.ctrlKey,metaKey:_.metaKey,shiftKey:_.shiftKey,altKey:_.altKey,key:_.key,keyCode:_.keyCode,rawEvent:_,location:N})},[ae,E,je]),Hs=b.useCallback(_=>{const R=oe.current;if(R===null)return;let z,N;E.current!==void 0&&(z=je(R,E.current.cell[0],E.current.cell[1]),N=E.current.cell),le==null||le({bounds:z,stopPropagation:()=>_.stopPropagation(),preventDefault:()=>_.preventDefault(),cancel:()=>{},ctrlKey:_.ctrlKey,metaKey:_.metaKey,shiftKey:_.shiftKey,altKey:_.altKey,key:_.key,keyCode:_.keyCode,rawEvent:_,location:N})},[le,E,je]),Ls=b.useCallback(_=>{if(oe.current=_,j!==void 0&&(j.current=_),O!=null&&O.eventTarget)ie.current=O.eventTarget;else if(_===null)ie.current=window;else{const R=_.getRootNode();R===document&&(ie.current=window),ie.current=R}},[j,O==null?void 0:O.eventTarget]),Bs=b.useCallback(_=>{const R=oe.current;if(R===null||Ae===!1||fe){_.preventDefault();return}let z,N;const D=Ue(R,_.clientX,_.clientY);if(Ae!==!0&&D.kind!==Ae){_.preventDefault();return}const L=(pe,ke)=>{z=pe,N=ke};let V,re,X;const Ye=(pe,ke,Ie)=>{V=pe,re=ke,X=Ie};let U=!1;if(ye==null||ye({...D,setData:L,setDragImage:Ye,preventDefault:()=>U=!0,defaultPrevented:()=>U}),!U&&z!==void 0&&N!==void 0&&_.dataTransfer!==null)if(_.dataTransfer.setData(z,N),_.dataTransfer.effectAllowed="copyLink",V!==void 0&&re!==void 0&&X!==void 0)_.dataTransfer.setDragImage(V,re,X);else{const[pe,ke]=D.location;if(ke!==void 0){const Ie=document.createElement("canvas"),xe=je(R,pe,ke);Rt(xe!==void 0);const We=Math.ceil(window.devicePixelRatio??1);Ie.width=xe.width*We,Ie.height=xe.height*We;const Xe=Ie.getContext("2d");Xe!==null&&(Xe.scale(We,We),Xe.textBaseline="middle",ke===-1?(Xe.font=be.headerFontFull,Xe.fillStyle=be.bgHeader,Xe.fillRect(0,0,Ie.width,Ie.height),ss(Xe,0,0,xe.width,xe.height,Be[pe],!1,be,!1,void 0,void 0,!1,0,q,nt,!1)):(Xe.font=be.baseFontFull,Xe.fillStyle=be.bgCell,Xe.fillRect(0,0,Ie.width,Ie.height),os(Xe,v([pe,ke]),0,ke,!1,!1,0,0,xe.width,xe.height,!1,be,be.bgCell,dt,q,1,void 0,!1,0,void 0,void 0,void 0,er,Fe,()=>{},0))),Ie.style.left="-100%",Ie.style.position="absolute",Ie.style.width=`${xe.width}px`,Ie.style.height=`${xe.height}px`,document.body.append(Ie),_.dataTransfer.setDragImage(Ie,xe.width/2,xe.height/2),window.setTimeout(()=>{Ie.remove()},0)}}else _.preventDefault()},[Ae,fe,Ue,ye,je,be,Be,q,nt,v,dt,er,Fe]);St("dragstart",Bs,(B==null?void 0:B.current)??null,!1,!1);const Gr=b.useRef(),Ws=b.useCallback(_=>{const R=oe.current;if(Re!==void 0&&_.preventDefault(),R===null||Ke===void 0)return;const z=Ue(R,_.clientX,_.clientY),[N,D]=z.location,L=N-(me?0:1),[V,re]=Gr.current??[];(V!==L||re!==D)&&(Gr.current=[L,D],Ke([L,D],_.dataTransfer))},[me,Ue,Ke,Re]);St("dragover",Ws,(B==null?void 0:B.current)??null,!1,!1);const zs=b.useCallback(()=>{Gr.current=void 0,we==null||we()},[we]);St("dragend",zs,(B==null?void 0:B.current)??null,!1,!1);const Ns=b.useCallback(_=>{const R=oe.current;if(R===null||Re===void 0)return;_.preventDefault();const z=Ue(R,_.clientX,_.clientY),[N,D]=z.location,L=N-(me?0:1);Re([L,D],_.dataTransfer)},[me,Ue,Re]);St("drop",Ns,(B==null?void 0:B.current)??null,!1,!1);const Xs=b.useCallback(()=>{se==null||se()},[se]);St("dragleave",Xs,(B==null?void 0:B.current)??null,!1,!1);const mo=b.useRef(E);mo.current=E;const sr=b.useRef(null),qr=b.useCallback(_=>{var R;oe.current===null||!oe.current.contains(document.activeElement)||(_===null&&mo.current.current!==void 0?(R=j==null?void 0:j.current)==null||R.focus({preventScroll:!0}):_!==null&&_.focus({preventScroll:!0}),sr.current=_)},[j]);b.useImperativeHandle(t,()=>({focus:()=>{var R;const _=sr.current;_===null||!document.contains(_)?(R=j==null?void 0:j.current)==null||R.focus({preventScroll:!0}):_.focus({preventScroll:!0})},getBounds:(_,R)=>{if(!(j===void 0||j.current===null))return je(j.current,_??0,R??-1)},damage:ao,getMouseArgsForPosition:(_,R,z)=>{if(!(j===void 0||j.current===null))return Ue(j.current,_,R,z)}}),[j,ao,je,Ue]);const Kr=b.useRef(),js=ch(()=>{var re,X,Ye;if(n<50||(O==null?void 0:O.disableAccessibilityTree)===!0)return null;let _=bi(Be,Oe,n,Z,W);const R=me?0:-1;!me&&((re=_[0])==null?void 0:re.sourceIndex)===0&&(_=_.slice(1));const[z,N]=((X=E.current)==null?void 0:X.cell)??[],D=(Ye=E.current)==null?void 0:Ye.range,L=_.map(U=>U.sourceIndex),V=Jf(s,Math.min(d,s+r));return z!==void 0&&N!==void 0&&!(L.includes(z)&&V.includes(N))&&qr(null),b.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":d+1,"aria-multiselectable":"true","aria-colcount":Be.length+R},b.createElement("thead",{role:"rowgroup"},b.createElement("tr",{role:"row","aria-rowindex":1},_.map(U=>b.createElement("th",{role:"columnheader","aria-selected":E.columns.hasIndex(U.sourceIndex),"aria-colindex":U.sourceIndex+1+R,tabIndex:-1,onFocus:pe=>{if(pe.target!==sr.current)return ze==null?void 0:ze([U.sourceIndex,-1])},key:U.sourceIndex},U.title)))),b.createElement("tbody",{role:"rowgroup"},V.map(U=>b.createElement("tr",{role:"row","aria-selected":E.rows.hasIndex(U),key:U,"aria-rowindex":U+2},_.map(pe=>{const ke=pe.sourceIndex,Ie=mt(ke,U),xe=z===ke&&N===U,We=D!==void 0&&ke>=D.x&&ke<D.x+D.width&&U>=D.y&&U<D.y+D.height,Xe=`glide-cell-${ke}-${U}`,Tt=[ke,U],Dt=v(Tt,!0);return b.createElement("td",{key:Ie,role:"gridcell","aria-colindex":ke+1+R,"aria-selected":We,"aria-readonly":zi(Dt)||!Wd(Dt),id:Xe,"data-testid":Xe,onClick:()=>{const wt=j==null?void 0:j.current;if(wt!=null)return ae==null?void 0:ae({bounds:je(wt,ke,U),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:Tt})},onFocusCapture:wt=>{var Ft,_e;if(!(wt.target===sr.current||((Ft=Kr.current)==null?void 0:Ft[0])===ke&&((_e=Kr.current)==null?void 0:_e[1])===U))return Kr.current=Tt,ze==null?void 0:ze(Tt)},ref:xe?qr:void 0,tabIndex:-1},hy(Dt,Fe))})))))},[n,Be,Oe,Z,W,d,s,r,E,qr,v,j,ae,je,ze],200),lr=M===0||!k?0:Oe>M?1:Sr(-W/100,0,1),Us=-s*32+He,cr=T?Sr(-Us/100,0,1):0,Ys=b.useMemo(()=>{if(!lr&&!cr)return null;const _={position:"absolute",top:0,left:Nr,width:n-Nr,height:i,opacity:lr,pointerEvents:"none",transition:Ee?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},R={position:"absolute",top:ue,left:0,width:n,height:i,opacity:cr,pointerEvents:"none",transition:ut?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return b.createElement(b.Fragment,null,lr>0&&b.createElement("div",{id:"shadow-x",style:_}),cr>0&&b.createElement("div",{id:"shadow-y",style:R}))},[lr,cr,Nr,n,Ee,ue,i,ut]),Gs=b.useMemo(()=>({position:"absolute",top:0,left:0,zIndex:1,pointerEvents:"none"}),[]);return b.createElement(b.Fragment,null,b.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:-1,onKeyDown:Fs,onKeyUp:Hs,onFocus:S,onBlur:I,ref:Ls,style:Xr},js),b.createElement("canvas",{ref:Ce,style:Gs}),Ys)},qw=b.memo(b.forwardRef(py));class gy extends b.PureComponent{constructor(){super(...arguments);ee(this,"wrapperRef",b.createRef());ee(this,"clickOutside",n=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(n))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(n.target)){let i=n.target;for(;i!==null;){if(i.classList.contains("click-outside-ignore"))return;i=i.parentElement}this.props.onClickOutside()}})}componentDidMount(){const n=this.props.customEventTarget??document;n.addEventListener("pointerdown",this.clickOutside,!0),n.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){const n=this.props.customEventTarget??document;n.removeEventListener("pointerdown",this.clickOutside,!0),n.removeEventListener("contextmenu",this.clickOutside,!0)}render(){const{onClickOutside:n,isOutsideClick:i,customEventTarget:r,...o}=this.props;return b.createElement("div",{...o,ref:this.wrapperRef},this.props.children)}}function vy(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string",doNotEscape:!0};switch(e.kind){case ve.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===Wi?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case ve.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case ve.Image:case ve.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case ve.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case ve.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case ve.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case ve.Markdown:case ve.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case ve.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case ve.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case ve.Protected:return{formatted:"************",rawValue:"",format:"string"};default:Bi()}}function my(e,t){return e.map((i,r)=>{const o=t[r];return i.map(a=>a.span!==void 0&&a.span[0]!==o?{formatted:"",rawValue:"",format:"string"}:vy(a))})}function va(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function yy(e){var n;const t=[];for(const i of e){const r=[];for(const o of i)o.format==="url"?r.push(((n=o.rawValue)==null?void 0:n.toString())??""):o.format==="string-array"?r.push(o.formatted.map(a=>va(a,!0)).join(",")):r.push(o.doNotEscape===!0?o.formatted:va(o.formatted,!1));t.push(r.join("	"))}return t.join(`
`)}function ai(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function ma(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function by(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function wy(e){var n;const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const i of e){t.push("<tr>");for(const r of i){const o=`gdg-format="${r.format}"`;r.format==="url"?t.push(`<td ${o}><a href="${r.rawValue}">${ai(r.formatted)}</a></td>`):r.format==="string-array"?t.push(`<td ${o}><ol>${r.formatted.map((a,s)=>`<li gdg-raw-value=${ma(r.rawValue[s])}>`+ai(a)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${ma(((n=r.rawValue)==null?void 0:n.toString())??"")} ${o}>${ai(r.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function Sy(e,t){const n=my(e,t),i=yy(n),r=wy(n);return{textPlain:i,textHtml:r}}function Kw(e){var a;const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const i=[n],r=[];let o;for(;i.length>0;){const s=i.pop();if(s===void 0)break;if(s instanceof HTMLTableElement||s.nodeName==="TBODY")i.push(...[...s.children].reverse());else if(s instanceof HTMLTableRowElement)o!==void 0&&r.push(o),o=[],i.push(...[...s.children].reverse());else if(s instanceof HTMLTableCellElement){const l=s.cloneNode(!0),u=l.children.length===1&&l.children[0].nodeName==="P"?l.children[0]:null,h=(u==null?void 0:u.children.length)===1&&u.children[0].nodeName==="FONT",p=l.querySelectorAll("br");for(const v of p)v.replaceWith(`
`);const f=l.getAttribute("gdg-raw-value"),d=l.getAttribute("gdg-format")??"string";if(l.querySelector("a")!==null)o==null||o.push({rawValue:((a=l.querySelector("a"))==null?void 0:a.getAttribute("href"))??"",formatted:l.textContent??"",format:d});else if(l.querySelector("ol")!==null){const v=l.querySelectorAll("li");o==null||o.push({rawValue:[...v].map(m=>m.getAttribute("gdg-raw-value")??""),formatted:[...v].map(m=>m.textContent??""),format:"string-array"})}else if(f!==null)o==null||o.push({rawValue:by(f),formatted:l.textContent??"",format:d});else{let v=l.textContent??"";h&&(v=v.replace(/\n(?!\n)/g,"")),o==null||o.push({rawValue:v??"",formatted:v??"",format:d})}}}return o!==void 0&&r.push(o),r}function Vw(e,t,n,i,r){var s;const o=e;if(i==="allowPartial"||e.current===void 0||t===void 0)return e;let a=!1;do{if((e==null?void 0:e.current)===void 0)break;const l=(s=e.current)==null?void 0:s.range,c=[];if(l.width>2){const p=t({x:l.x,y:l.y,width:1,height:l.height},r.signal);if(typeof p=="function")return o;c.push(...p);const f=t({x:l.x+l.width-1,y:l.y,width:1,height:l.height},r.signal);if(typeof f=="function")return o;c.push(...f)}else{const p=t({x:l.x,y:l.y,width:l.width,height:l.height},r.signal);if(typeof p=="function")return o;c.push(...p)}let u=l.x-n,h=l.x+l.width-1-n;for(const p of c)for(const f of p)f.span!==void 0&&(u=Math.min(f.span[0],u),h=Math.max(f.span[1],h));u===l.x-n&&h===l.x+l.width-1-n?a=!0:e={current:{cell:e.current.cell??[0,0],range:{x:u+n,y:l.y,width:h-u+1,height:l.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!a);return e}function ya(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function Jw(e){let t;(s=>{s[s.None=0]="None",s[s.inString=1]="inString",s[s.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let i=[],r=0,o=0;e=e.replace(/\r\n/g,`
`);let a=0;for(const s of e){switch(o){case 0:s==="	"||s===`
`?(i.push(e.slice(r,a)),r=a+1,s===`
`&&(n.push(i),i=[])):s==='"'&&(o=1);break;case 1:s==='"'&&(o=2);break;case 2:s==='"'?o=1:((s==="	"||s===`
`)&&(i.push(ya(e.slice(r,a))),r=a+1,s===`
`&&(n.push(i),i=[])),o=0);break}a++}return r<e.length&&i.push(ya(e.slice(r,e.length))),n.push(i),n.map(s=>s.map(l=>({rawValue:l,formatted:l,format:"string"})))}function Zw(e,t,n){var s;const i=Sy(e,t),r=l=>{var c;(c=window.navigator.clipboard)==null||c.writeText(l)},o=(l,c)=>{var u;return((u=window.navigator.clipboard)==null?void 0:u.write)===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([l],{type:"text/plain"}),"text/html":new Blob([c],{type:"text/html"})})]),!0)},a=(l,c)=>{var u,h;try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");(u=n==null?void 0:n.clipboardData)==null||u.setData("text/plain",l),(h=n==null?void 0:n.clipboardData)==null||h.setData("text/html",c)}catch{o(l,c)||r(l)}};((s=window.navigator.clipboard)==null?void 0:s.write)!==void 0||(n==null?void 0:n.clipboardData)!==void 0?a(i.textPlain,i.textHtml):r(i.textPlain),n==null||n.preventDefault()}function Cy(e){return e!==!0}function ba(e){const{cell:t,posX:n,posY:i,bounds:r,theme:o}=e,{width:a,height:s,x:l,y:c}=r,u=t.maxSize??o.checkboxMaxSize,h=Math.floor(r.y+s/2),p=ja(u,s,o.cellVerticalPadding),f=Xa(t.contentAlign??"center",l,a,o.cellHorizontalPadding,p),d=Na(f,h,p),v=Ua(l+n,c+i,d);return Ni(t)&&v}const _y={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??"false"},kind:ve.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>Ey(e,e.cell.data,Ni(e.cell),e.cell.maxSize??e.theme.checkboxMaxSize,e.cell.hoverEffectIntensity??.35),onDelete:e=>({...e,data:!1}),onSelect:e=>{ba(e)&&e.preventDefault()},onClick:e=>{if(ba(e))return{...e.cell,data:Cy(e.cell.data)}},onPaste:(e,t)=>{let n=br;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=Wi),n===t.data?void 0:{...t,data:n}}};function Ey(e,t,n,i,r){if(!n&&t===br)return;const{ctx:o,hoverAmount:a,theme:s,rect:l,highlighted:c,hoverX:u,hoverY:h,cell:{contentAlign:p}}=e,{x:f,y:d,width:v,height:m}=l;let y=!1;if(r>0){let g=n?1-r+r*a:.4;if(t===br&&(g*=a),g===0)return;g<1&&(y=!0,o.globalAlpha=g)}_r(o,s,t,f,d,v,m,c,u,h,i,p),y&&(o.globalAlpha=1)}const Iy=It("div")({name:"BubblesOverlayEditorStyle",class:"bed7b9f",propsAsIs:!1}),My=()=>e=>e.targetX,Py=()=>e=>e.targetY,ky=()=>e=>e.targetWidth,xy=()=>e=>e.targetHeight,Ty=()=>e=>e.targetY+10,Ay=()=>e=>Math.max(0,(e.targetHeight-28)/2),Ry=It("div")({name:"DataGridOverlayEditorStyle",class:"d16c1ze1",propsAsIs:!1,vars:{"d16c1ze1-0":[Py(),"px"],"d16c1ze1-1":[My(),"px"],"d16c1ze1-2":[ky(),"px"],"d16c1ze1-3":[xy(),"px"],"d16c1ze1-4":[Ty(),"px"],"d16c1ze1-5":[Ay(),"px"]}});function Oy(){const[e,t]=b.useState();return[e??void 0,t]}function $y(){const[e,t]=Oy(),[n,i]=b.useState(0),[r,o]=b.useState(!0);b.useLayoutEffect(()=>{if(e===void 0||!("IntersectionObserver"in window))return;const s=new IntersectionObserver(l=>{l.length!==0&&o(l[0].isIntersecting)},{threshold:1});return s.observe(e),()=>s.disconnect()},[e]),b.useEffect(()=>{if(r||e===void 0)return;let s;const l=()=>{const{right:c}=e.getBoundingClientRect();i(u=>Math.min(u+window.innerWidth-c-10,0)),s=requestAnimationFrame(l)};return s=requestAnimationFrame(l),()=>{s!==void 0&&cancelAnimationFrame(s)}},[e,r]);const a=b.useMemo(()=>({transform:`translateX(${n}px)`}),[n]);return{ref:t,style:a}}const xn=b.createContext({isGhostMode:!1,ghostValue:""}),Dy=e=>{const{target:t,content:n,onFinishEditing:i,forceEditMode:r,initialValue:o,imageEditorOverride:a,markdownDivCreateNode:s,highlight:l,className:c,theme:u,id:h,cell:p,bloom:f,portalElementRef:d,validateCell:v,getCellRenderer:m,provideEditor:y,isOutsideClick:g,customEventTarget:w,activation:C,ghostValue:S,isGhostMode:I}=e,[A,E]=b.useState(r?n:void 0),M=b.useRef(A??n);M.current=A??n;const[$,P]=b.useState(()=>v===void 0?!0:!(vr(n)&&(v==null?void 0:v(p,n,M.current))===!1)),k=b.useCallback((Y,ce)=>{i($?Y:void 0,ce)},[$,i]),T=b.useCallback(Y=>{if(v!==void 0&&Y!==void 0&&vr(Y)){const ce=v(p,Y,M.current);ce===!1?P(!1):(typeof ce=="object"&&(Y=ce),P(!0))}E(Y)},[p,v]),x=b.useRef(!1),F=b.useRef(void 0),H=b.useCallback(()=>{k(A,[0,0]),x.current=!0},[A,k]),ne=b.useCallback((Y,ce)=>{console.log("[onEditorFinished] newValue:",Y),console.log("[onEditorFinished] movement:",ce),console.log("[onEditorFinished] calling onFinishEditing"),k(Y,ce??F.current??[0,0]),console.log("[onEditorFinished] onFinishEditing called"),x.current=!0},[k]),J=b.useCallback(async Y=>{if(Y.nativeEvent.isComposing)return;let ce=!1;Y.key==="Escape"?(Y.stopPropagation(),Y.preventDefault(),F.current=[0,0]):Y.key==="Enter"&&!Y.shiftKey?(Y.stopPropagation(),Y.preventDefault(),F.current=[0,1],ce=!0):Y.key==="Tab"&&(Y.stopPropagation(),Y.preventDefault(),F.current=[Y.shiftKey?-1:1,0],ce=!0),window.setTimeout(()=>{!x.current&&F.current!==void 0&&(k(ce?A:void 0,F.current),x.current=!0)},0)},[k,A]),K=A??n,[Z,me]=b.useMemo(()=>{var Ge,Je;if(zi(n))return[];const Y={...n,location:p,activation:C},ce=y==null?void 0:y(Y);return ce!==void 0?[ce,!1]:[(Je=(Ge=m(n))==null?void 0:Ge.provideEditor)==null?void 0:Je.call(Ge,Y),!1]},[p,n,m,y,C]),{ref:ae,style:le}=$y();let Me=!0,j,ye=!0,we;if(Z!==void 0){Me=Z.disablePadding!==!0,ye=Z.disableStyling!==!0;const Y=zd(Z);Y&&(we=Z.styleOverride);const ce=Y?Z.editor:Z;j=b.createElement(ce,{portalElementRef:d,isHighlighted:l,activation:C,onChange:T,value:K,initialValue:o,onFinishedEditing:ne,validatedSelection:vr(K)?K.selectionRange:void 0,forceEditMode:r,target:t,imageEditorOverride:a,markdownDivCreateNode:s,isValid:$,theme:u})}we={...we,...le};const B=b.useMemo(()=>({isGhostMode:I??!1,ghostValue:S??""}),[I,S]),fe=(d==null?void 0:d.current)??document.getElementById("portal");if(fe===null)return console.error('Cannot open Data Grid overlay editor, because portal not found. Please, either provide a portalElementRef or add `<div id="portal" />` as the last child of your `<body>`.'),null;let G=ye?"gdg-style":"gdg-unstyle";$||(G+=" gdg-invalid"),Me&&(G+=" gdg-pad");const de=(f==null?void 0:f[0])??1,Ae=(f==null?void 0:f[1])??1;return Qs.createPortal(b.createElement(is.Provider,{value:u},b.createElement(xn.Provider,{value:B},b.createElement(gy,{style:Bh(u),className:c,onClickOutside:H,isOutsideClick:g,customEventTarget:w},b.createElement(Ry,{ref:ae,id:h,className:G,style:I?{...we,visibility:"hidden"}:we,as:me===!0?"label":void 0,targetX:t.x-de,targetY:t.y-Ae,targetWidth:t.width+de*2,targetHeight:t.height+Ae*2},b.createElement("div",{className:"gdg-clip-region",onKeyDown:J},j))))),fe)},Qw=Object.freeze(Object.defineProperty({__proto__:null,GhostModeContext:xn,default:Dy},Symbol.toStringTag,{value:"Module"})),Fy=e=>{const{bubbles:t}=e,{isGhostMode:n}=b.useContext(xn);return b.createElement(Iy,null,t.map((i,r)=>b.createElement("div",{key:r,className:"boe-bubble"},i)),b.createElement("textarea",{className:"gdg-input",autoFocus:!n}))},Hy={getAccessibilityString:e=>Ya(e.data),kind:ve.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>{const i=t.data.reduce((r,o)=>e.measureText(o).width+r+n.bubblePadding*2+n.bubbleMargin,0);return t.data.length===0?n.cellHorizontalPadding*2:i+2*n.cellHorizontalPadding-n.bubbleMargin},draw:e=>Ly(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return b.createElement(Fy,{bubbles:t.data})},onPaste:()=>{}};function Ly(e,t){const{rect:n,theme:i,ctx:r,highlighted:o}=e,{x:a,y:s,width:l,height:c}=n;let u=a+i.cellHorizontalPadding;const h=[];for(const p of t){if(u>a+l)break;const f=cn(p,r,i.baseFontFull).width;h.push({x:u,width:f}),u+=f+i.bubblePadding*2+i.bubbleMargin}r.beginPath();for(const p of h)Et(r,p.x,s+(c-i.bubbleHeight)/2,p.width+i.bubblePadding*2,i.bubbleHeight,i.roundingRadius??i.bubbleHeight/2);r.fillStyle=o?i.bgBubbleSelected:i.bgBubble,r.fill();for(const[p,f]of h.entries())r.beginPath(),r.fillStyle=i.textBubble,r.fillText(t[p],f.x+i.bubblePadding,s+c/2+ct(r,i))}const By=It("div")({name:"DrilldownOverlayEditorStyle",class:"dy18k32",propsAsIs:!1}),Wy=e=>{const{drilldowns:t}=e;return b.createElement(By,null,t.map((n,i)=>b.createElement("div",{key:i,className:"doe-bubble"},n.img!==void 0&&b.createElement("img",{src:n.img}),b.createElement("div",null,n.text))))},zy={getAccessibilityString:e=>Ya(e.data.map(t=>t.text)),kind:ve.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((i,r)=>e.measureText(r.text).width+i+n.bubblePadding*2+n.bubbleMargin+(r.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>Xy(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return b.createElement(Wy,{drilldowns:t.data})},onPaste:()=>{}},si={};function Ny(e,t,n,i){const r=Math.ceil(window.devicePixelRatio),o=5,a=n-o*2,s=4,l=n*r,c=i+o,u=i*3,h=(u+o*2)*r,p=`${e},${t},${r},${n}`;if(si[p]!==void 0)return{el:si[p],height:l,width:h,middleWidth:s*r,sideWidth:c*r,padding:o*r,dpr:r};const f=document.createElement("canvas"),d=f.getContext("2d");return d===null?null:(f.width=h,f.height=l,d.scale(r,r),si[p]=f,d.beginPath(),Et(d,o,o,u,a,i),d.shadowColor="rgba(24, 25, 34, 0.4)",d.shadowBlur=1,d.fillStyle=e,d.fill(),d.shadowColor="rgba(24, 25, 34, 0.3)",d.shadowOffsetY=1,d.shadowBlur=5,d.fillStyle=e,d.fill(),d.shadowOffsetY=0,d.shadowBlur=0,d.shadowBlur=0,d.beginPath(),Et(d,o+.5,o+.5,u,a,i),d.strokeStyle=t,d.lineWidth=1,d.stroke(),{el:f,height:l,width:h,sideWidth:c*r,middleWidth:i*r,padding:o*r,dpr:r})}function Xy(e,t){const{rect:n,theme:i,ctx:r,imageLoader:o,col:a,row:s}=e,{x:l,width:c}=n,u=i.baseFontFull,h=Za(r,u),p=Math.min(n.height,Math.max(16,Math.ceil(h*i.lineHeight)*2)),f=Math.floor(n.y+(n.height-p)/2),d=p-10,v=i.bubblePadding,m=i.bubbleMargin;let y=l+i.cellHorizontalPadding;const g=i.roundingRadius??6,w=Ny(i.bgCell,i.drilldownBorder,p,g),C=[];for(const S of t){if(y>l+c)break;const A=cn(S.text,r,u).width;let E=0;S.img!==void 0&&o.loadOrGetImage(S.img,a,s)!==void 0&&(E=d-8+4);const M=A+E+v*2;C.push({x:y,width:M}),y+=M+m}if(w!==null){const{el:S,height:I,middleWidth:A,sideWidth:E,width:M,dpr:$,padding:P}=w,k=E/$,T=P/$;for(const x of C){const F=Math.floor(x.x),H=Math.floor(x.width),ne=H-(k-T)*2;r.imageSmoothingEnabled=!1,r.drawImage(S,0,0,E,I,F-T,f,k,p),ne>0&&r.drawImage(S,E,0,A,I,F+(k-T),f,ne,p),r.drawImage(S,M-E,0,E,I,F+H-(k-T),f,k,p),r.imageSmoothingEnabled=!0}}r.beginPath();for(const[S,I]of C.entries()){const A=t[S];let E=I.x+v;if(A.img!==void 0){const M=o.loadOrGetImage(A.img,a,s);if(M!==void 0){const $=d-8;let P=0,k=0,T=M.width,x=M.height;T>x?(P+=(T-x)/2,T=x):x>T&&(k+=(x-T)/2,x=T),r.beginPath(),Et(r,E,f+p/2-$/2,$,$,i.roundingRadius??3),r.save(),r.clip(),r.drawImage(M,P,k,T,x,E,f+p/2-$/2,$,$),r.restore(),E+=$+4}}r.beginPath(),r.fillStyle=i.textBubble,r.fillText(A.text,E,f+p/2+ct(r,i))}}const jy=It("div")({name:"ImageOverlayEditorStyle",class:"i1f2fhaz",propsAsIs:!1});var bs={},Lr={},Qi={},li={},ci={exports:{}},ui,wa;function Uy(){if(wa)return ui;wa=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ui=e,ui}var di,Sa;function Yy(){if(Sa)return di;Sa=1;var e=Uy();function t(){}function n(){}return n.resetWarningCache=t,di=function(){function i(a,s,l,c,u,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function r(){return i}var o={array:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},di}var Ca;function Gy(){return Ca||(Ca=1,ci.exports=Yy()()),ci.exports}var _a;function qy(){return _a||(_a=1,function(e){(function(t,n){n(e,b,Gy())})(mn,function(t,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=d;var r=a(n),o=a(i);function a(g){return g&&g.__esModule?g:{default:g}}var s=Object.assign||function(g){for(var w=1;w<arguments.length;w++){var C=arguments[w];for(var S in C)Object.prototype.hasOwnProperty.call(C,S)&&(g[S]=C[S])}return g};function l(g,w){var C={};for(var S in g)w.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(g,S)&&(C[S]=g[S]);return C}function c(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}var u=function(){function g(w,C){for(var S=0;S<C.length;S++){var I=C[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,C,S){return C&&g(w.prototype,C),S&&g(w,S),w}}();function h(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function p(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var f=!1;function d(g){f=g}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){d(!0)}}))}catch{}function v(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return f?g:g.capture}function m(g){if("touches"in g){var w=g.touches[0],C=w.pageX,S=w.pageY;return{x:C,y:S}}var I=g.screenX,A=g.screenY;return{x:I,y:A}}var y=function(g){p(w,g);function w(){var C;c(this,w);for(var S=arguments.length,I=Array(S),A=0;A<S;A++)I[A]=arguments[A];var E=h(this,(C=w.__proto__||Object.getPrototypeOf(w)).call.apply(C,[this].concat(I)));return E._handleSwipeStart=E._handleSwipeStart.bind(E),E._handleSwipeMove=E._handleSwipeMove.bind(E),E._handleSwipeEnd=E._handleSwipeEnd.bind(E),E._onMouseDown=E._onMouseDown.bind(E),E._onMouseMove=E._onMouseMove.bind(E),E._onMouseUp=E._onMouseUp.bind(E),E._setSwiperRef=E._setSwiperRef.bind(E),E}return u(w,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,v({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(S){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(S))}},{key:"_onMouseMove",value:function(S){this.mouseDown&&this._handleSwipeMove(S)}},{key:"_onMouseUp",value:function(S){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(S)}},{key:"_handleSwipeStart",value:function(S){var I=m(S),A=I.x,E=I.y;this.moveStart={x:A,y:E},this.props.onSwipeStart(S)}},{key:"_handleSwipeMove",value:function(S){if(this.moveStart){var I=m(S),A=I.x,E=I.y,M=A-this.moveStart.x,$=E-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:M,y:$},S);P&&S.cancelable&&S.preventDefault(),this.movePosition={deltaX:M,deltaY:$}}}},{key:"_handleSwipeEnd",value:function(S){this.props.onSwipeEnd(S);var I=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-I?this.props.onSwipeLeft(1,S):this.movePosition.deltaX>I&&this.props.onSwipeRight(1,S),this.movePosition.deltaY<-I?this.props.onSwipeUp(1,S):this.movePosition.deltaY>I&&this.props.onSwipeDown(1,S)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(S){this.swiper=S,this.props.innerRef(S)}},{key:"render",value:function(){var S=this.props;S.tagName;var I=S.className,A=S.style,E=S.children;S.allowMouseEvents,S.onSwipeUp,S.onSwipeDown,S.onSwipeLeft,S.onSwipeRight,S.onSwipeStart,S.onSwipeMove,S.onSwipeEnd,S.innerRef,S.tolerance;var M=l(S,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:I,style:A},M),E)}}]),w}(n.Component);y.displayName="ReactSwipe",y.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},y.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=y})}(li)),li}(function(e){(function(t,n){n(e,qy())})(mn,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}t.default=i.default})})(Qi);var Vn={},ws={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var a=typeof o;if(a==="string"||a==="number")i.push(o);else if(Array.isArray(o)){if(o.length){var s=n.apply(null,o);s&&i.push(s)}}else if(a==="object")if(o.toString===Object.prototype.toString)for(var l in o)t.call(o,l)&&o[l]&&i.push(l);else i.push(o.toString())}}return i.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ws);var Ky=ws.exports;Object.defineProperty(Vn,"__esModule",{value:!0});Vn.default=void 0;var Bt=Vy(Ky);function Vy(e){return e&&e.__esModule?e:{default:e}}function Jy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zy={ROOT:function(t){return(0,Bt.default)(Jy({"carousel-root":!0},t||"",!!t))},CAROUSEL:function(t){return(0,Bt.default)({carousel:!0,"carousel-slider":t})},WRAPPER:function(t,n){return(0,Bt.default)({"thumbs-wrapper":!t,"slider-wrapper":t,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(t,n){return(0,Bt.default)({thumbs:!t,slider:t,animated:!n})},ITEM:function(t,n,i){return(0,Bt.default)({thumb:!t,slide:t,selected:n,previous:i})},ARROW_PREV:function(t){return(0,Bt.default)({"control-arrow control-prev":!0,"control-disabled":t})},ARROW_NEXT:function(t){return(0,Bt.default)({"control-arrow control-next":!0,"control-disabled":t})},DOT:function(t){return(0,Bt.default)({dot:!0,selected:t})}};Vn.default=Zy;var Jn={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.outerWidth=void 0;var Qy=function(t){var n=t.offsetWidth,i=getComputedStyle(t);return n+=parseInt(i.marginLeft)+parseInt(i.marginRight),n};Br.outerWidth=Qy;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.default=void 0;var eb=function(t,n,i){var r=t===0?t:t+n,o=i==="horizontal"?[r,0,0]:[0,r,0],a="translate3d",s="("+o.join(",")+")";return a+s};Tn.default=eb;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.default=void 0;var tb=function(){return window};Zn.default=tb;Object.defineProperty(Jn,"__esModule",{value:!0});Jn.default=void 0;var gt=ib(b),Qt=Wr(Vn),nb=Br,Ea=Wr(Tn),rb=Wr(Qi),hr=Wr(Zn);function Wr(e){return e&&e.__esModule?e:{default:e}}function Ss(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Ss=function(){return e},e}function ib(e){if(e&&e.__esModule)return e;if(e===null||jn(e)!=="object"&&typeof e!="function")return{default:e};var t=Ss();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function jn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jn=function(n){return typeof n}:jn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jn(e)}function ki(){return ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ki.apply(this,arguments)}function ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ab(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sb(e,t,n){return t&&ab(e.prototype,t),e}function lb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}function xi(e,t){return xi=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},xi(e,t)}function cb(e){var t=db();return function(){var i=Mr(e),r;if(t){var o=Mr(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return ub(this,r)}}function ub(e,t){return t&&(jn(t)==="object"||typeof t=="function")?t:Ze(e)}function Ze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function db(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Mr(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fb=function(t){return t.hasOwnProperty("key")},eo=function(e){lb(n,e);var t=cb(n);function n(i){var r;return ob(this,n),r=t.call(this,i),Ve(Ze(r),"itemsWrapperRef",void 0),Ve(Ze(r),"itemsListRef",void 0),Ve(Ze(r),"thumbsRef",void 0),Ve(Ze(r),"setItemsWrapperRef",function(o){r.itemsWrapperRef=o}),Ve(Ze(r),"setItemsListRef",function(o){r.itemsListRef=o}),Ve(Ze(r),"setThumbsRef",function(o,a){r.thumbsRef||(r.thumbsRef=[]),r.thumbsRef[a]=o}),Ve(Ze(r),"updateSizes",function(){if(!(!r.props.children||!r.itemsWrapperRef||!r.thumbsRef)){var o=gt.Children.count(r.props.children),a=r.itemsWrapperRef.clientWidth,s=r.props.thumbWidth?r.props.thumbWidth:(0,nb.outerWidth)(r.thumbsRef[0]),l=Math.floor(a/s),c=l<o,u=c?o-l:0;r.setState(function(h,p){return{itemSize:s,visibleItems:l,firstItem:c?r.getFirstItem(p.selectedItem):0,lastPosition:u,showArrows:c}})}}),Ve(Ze(r),"handleClickItem",function(o,a,s){if(!fb(s)||s.key==="Enter"){var l=r.props.onSelectItem;typeof l=="function"&&l(o,a)}}),Ve(Ze(r),"onSwipeStart",function(){r.setState({swiping:!0})}),Ve(Ze(r),"onSwipeEnd",function(){r.setState({swiping:!1})}),Ve(Ze(r),"onSwipeMove",function(o){var a=o.x;if(!r.state.itemSize||!r.itemsWrapperRef||!r.state.visibleItems)return!1;var s=0,l=gt.Children.count(r.props.children),c=-(r.state.firstItem*100)/r.state.visibleItems,u=Math.max(l-r.state.visibleItems,0),h=-u*100/r.state.visibleItems;c===s&&a>0&&(a=0),c===h&&a<0&&(a=0);var p=r.itemsWrapperRef.clientWidth,f=c+100/(p/a);return r.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(d){r.itemsListRef.style[d]=(0,Ea.default)(f,"%",r.props.axis)}),!0}),Ve(Ze(r),"slideRight",function(o){r.moveTo(r.state.firstItem-(typeof o=="number"?o:1))}),Ve(Ze(r),"slideLeft",function(o){r.moveTo(r.state.firstItem+(typeof o=="number"?o:1))}),Ve(Ze(r),"moveTo",function(o){o=o<0?0:o,o=o>=r.state.lastPosition?r.state.lastPosition:o,r.setState({firstItem:o})}),r.state={selectedItem:i.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},r}return sb(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(r){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==r.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,hr.default)().addEventListener("resize",this.updateSizes),(0,hr.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,hr.default)().removeEventListener("resize",this.updateSizes),(0,hr.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(r){var o=r;return r>=this.state.lastPosition&&(o=this.state.lastPosition),r<this.state.firstItem+this.state.visibleItems&&(o=this.state.firstItem),r<this.state.firstItem&&(o=r),o}},{key:"renderItems",value:function(){var r=this;return this.props.children.map(function(o,a){var s=Qt.default.ITEM(!1,a===r.state.selectedItem),l={key:a,ref:function(u){return r.setThumbsRef(u,a)},className:s,onClick:r.handleClickItem.bind(r,a,r.props.children[a]),onKeyDown:r.handleClickItem.bind(r,a,r.props.children[a]),"aria-label":"".concat(r.props.labels.item," ").concat(a+1),style:{width:r.props.thumbWidth}};return gt.default.createElement("li",ki({},l,{role:"button",tabIndex:0}),o)})}},{key:"render",value:function(){var r=this;if(!this.props.children)return null;var o=gt.Children.count(this.props.children)>1,a=this.state.showArrows&&this.state.firstItem>0,s=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},c=-this.state.firstItem*(this.state.itemSize||0),u=(0,Ea.default)(c,"px",this.props.axis),h=this.props.transitionTime+"ms";return l={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},gt.default.createElement("div",{className:Qt.default.CAROUSEL(!1)},gt.default.createElement("div",{className:Qt.default.WRAPPER(!1),ref:this.setItemsWrapperRef},gt.default.createElement("button",{type:"button",className:Qt.default.ARROW_PREV(!a),onClick:function(){return r.slideRight()},"aria-label":this.props.labels.leftArrow}),o?gt.default.createElement(rb.default,{tagName:"ul",className:Qt.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):gt.default.createElement("ul",{className:Qt.default.SLIDER(!1,this.state.swiping),ref:function(f){return r.setItemsListRef(f)},style:l},this.renderItems()),gt.default.createElement("button",{type:"button",className:Qt.default.ARROW_NEXT(!s),onClick:function(){return r.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(gt.Component);Jn.default=eo;Ve(eo,"displayName","Thumbs");Ve(eo,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.default=void 0;var hb=function(){return document};zr.default=hb;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.setPosition=lt.getPosition=lt.isKeyboardEvent=lt.defaultStatusFormatter=lt.noop=void 0;var pb=b,gb=vb(Tn);function vb(e){return e&&e.__esModule?e:{default:e}}var mb=function(){};lt.noop=mb;var yb=function(t,n){return"".concat(t," of ").concat(n)};lt.defaultStatusFormatter=yb;var bb=function(t){return t?t.hasOwnProperty("key"):!1};lt.isKeyboardEvent=bb;var wb=function(t,n){if(n.infiniteLoop&&++t,t===0)return 0;var i=pb.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var r=-t*n.centerSlidePercentage,o=i-1;return t&&(t!==o||n.infiniteLoop)?r+=(100-n.centerSlidePercentage)/2:t===o&&(r+=100-n.centerSlidePercentage),r}return-t*100};lt.getPosition=wb;var Sb=function(t,n){var i={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(r){i[r]=(0,gb.default)(t,"%",n)}),i};lt.setPosition=Sb;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.fadeAnimationHandler=Ct.slideStopSwipingHandler=Ct.slideSwipeAnimationHandler=Ct.slideAnimationHandler=void 0;var Cs=b,Cb=_b(Tn),_t=lt;function _b(e){return e&&e.__esModule?e:{default:e}}function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ia(Object(n),!0).forEach(function(i){Eb(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ib=function(t,n){var i={},r=n.selectedItem,o=r,a=Cs.Children.count(t.children)-1,s=t.infiniteLoop&&(r<0||r>a);if(s)return o<0?t.centerMode&&t.centerSlidePercentage&&t.axis==="horizontal"?i.itemListStyle=(0,_t.setPosition)(-(a+2)*t.centerSlidePercentage-(100-t.centerSlidePercentage)/2,t.axis):i.itemListStyle=(0,_t.setPosition)(-(a+2)*100,t.axis):o>a&&(i.itemListStyle=(0,_t.setPosition)(0,t.axis)),i;var l=(0,_t.getPosition)(r,t),c=(0,Cb.default)(l,"%",t.axis),u=t.transitionTime+"ms";return i.itemListStyle={WebkitTransform:c,msTransform:c,OTransform:c,transform:c},n.swiping||(i.itemListStyle=tn(tn({},i.itemListStyle),{},{WebkitTransitionDuration:u,MozTransitionDuration:u,OTransitionDuration:u,transitionDuration:u,msTransitionDuration:u})),i};Ct.slideAnimationHandler=Ib;var Mb=function(t,n,i,r){var o={},a=n.axis==="horizontal",s=Cs.Children.count(n.children),l=0,c=(0,_t.getPosition)(i.selectedItem,n),u=n.infiniteLoop?(0,_t.getPosition)(s-1,n)-100:(0,_t.getPosition)(s-1,n),h=a?t.x:t.y,p=h;c===l&&h>0&&(p=0),c===u&&h<0&&(p=0);var f=c+100/(i.itemSize/p),d=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&d&&(i.selectedItem===0&&f>-100?f-=s*100:i.selectedItem===s-1&&f<-s*100&&(f+=s*100)),(!n.preventMovementUntilSwipeScrollTolerance||d||i.swipeMovementStarted)&&(i.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,_t.setPosition)(f,n.axis)),d&&!i.cancelClick&&r({cancelClick:!0}),o};Ct.slideSwipeAnimationHandler=Mb;var Pb=function(t,n){var i=(0,_t.getPosition)(n.selectedItem,t),r=(0,_t.setPosition)(i,t.axis);return{itemListStyle:r}};Ct.slideStopSwipingHandler=Pb;var kb=function(t,n){var i=t.transitionTime+"ms",r="ease-in-out",o={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return n.swiping||(o=tn(tn({},o),{},{WebkitTransitionDuration:i,MozTransitionDuration:i,OTransitionDuration:i,transitionDuration:i,msTransitionDuration:i})),{slideStyle:o,selectedStyle:tn(tn({},o),{},{opacity:1,position:"relative"}),prevStyle:tn({},o)}};Ct.fadeAnimationHandler=kb;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.default=void 0;var ge=Ab(b),xb=Qn(Qi),Ot=Qn(Vn),Tb=Qn(Jn),pr=Qn(zr),gr=Qn(Zn),zn=lt,Pr=Ct;function Qn(e){return e&&e.__esModule?e:{default:e}}function _s(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return _s=function(){return e},e}function Ab(e){if(e&&e.__esModule)return e;if(e===null||Un(e)!=="object"&&typeof e!="function")return{default:e};var t=_s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function Un(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Un=function(n){return typeof n}:Un=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Un(e)}function Ti(){return Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ti.apply(this,arguments)}function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ma(Object(n),!0).forEach(function(i){Q(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Rb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ob(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $b(e,t,n){return t&&Ob(e.prototype,t),e}function Db(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ai(e,t)}function Ai(e,t){return Ai=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Ai(e,t)}function Fb(e){var t=Lb();return function(){var i=kr(e),r;if(t){var o=kr(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return Hb(this,r)}}function Hb(e,t){return t&&(Un(t)==="object"||typeof t=="function")?t:te(e)}function te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kr(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var to=function(e){Db(n,e);var t=Fb(n);function n(i){var r;Rb(this,n),r=t.call(this,i),Q(te(r),"thumbsRef",void 0),Q(te(r),"carouselWrapperRef",void 0),Q(te(r),"listRef",void 0),Q(te(r),"itemsRef",void 0),Q(te(r),"timer",void 0),Q(te(r),"animationHandler",void 0),Q(te(r),"setThumbsRef",function(a){r.thumbsRef=a}),Q(te(r),"setCarouselWrapperRef",function(a){r.carouselWrapperRef=a}),Q(te(r),"setListRef",function(a){r.listRef=a}),Q(te(r),"setItemsRef",function(a,s){r.itemsRef||(r.itemsRef=[]),r.itemsRef[s]=a}),Q(te(r),"autoPlay",function(){ge.Children.count(r.props.children)<=1||(r.clearAutoPlay(),r.props.autoPlay&&(r.timer=setTimeout(function(){r.increment()},r.props.interval)))}),Q(te(r),"clearAutoPlay",function(){r.timer&&clearTimeout(r.timer)}),Q(te(r),"resetAutoPlay",function(){r.clearAutoPlay(),r.autoPlay()}),Q(te(r),"stopOnHover",function(){r.setState({isMouseEntered:!0},r.clearAutoPlay)}),Q(te(r),"startOnLeave",function(){r.setState({isMouseEntered:!1},r.autoPlay)}),Q(te(r),"isFocusWithinTheCarousel",function(){return r.carouselWrapperRef?!!((0,pr.default)().activeElement===r.carouselWrapperRef||r.carouselWrapperRef.contains((0,pr.default)().activeElement)):!1}),Q(te(r),"navigateWithKeyboard",function(a){if(r.isFocusWithinTheCarousel()){var s=r.props.axis,l=s==="horizontal",c={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},u=l?c.ArrowRight:c.ArrowDown,h=l?c.ArrowLeft:c.ArrowUp;u===a.keyCode?r.increment():h===a.keyCode&&r.decrement()}}),Q(te(r),"updateSizes",function(){if(!(!r.state.initialized||!r.itemsRef||r.itemsRef.length===0)){var a=r.props.axis==="horizontal",s=r.itemsRef[0];if(s){var l=a?s.clientWidth:s.clientHeight;r.setState({itemSize:l}),r.thumbsRef&&r.thumbsRef.updateSizes()}}}),Q(te(r),"setMountState",function(){r.setState({hasMount:!0}),r.updateSizes()}),Q(te(r),"handleClickItem",function(a,s){if(ge.Children.count(r.props.children)!==0){if(r.state.cancelClick){r.setState({cancelClick:!1});return}r.props.onClickItem(a,s),a!==r.state.selectedItem&&r.setState({selectedItem:a})}}),Q(te(r),"handleOnChange",function(a,s){ge.Children.count(r.props.children)<=1||r.props.onChange(a,s)}),Q(te(r),"handleClickThumb",function(a,s){r.props.onClickThumb(a,s),r.moveTo(a)}),Q(te(r),"onSwipeStart",function(a){r.setState({swiping:!0}),r.props.onSwipeStart(a)}),Q(te(r),"onSwipeEnd",function(a){r.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),r.props.onSwipeEnd(a),r.clearAutoPlay(),r.state.autoPlay&&r.autoPlay()}),Q(te(r),"onSwipeMove",function(a,s){r.props.onSwipeMove(s);var l=r.props.swipeAnimationHandler(a,r.props,r.state,r.setState.bind(te(r)));return r.setState(vt({},l)),!!Object.keys(l).length}),Q(te(r),"decrement",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;r.moveTo(r.state.selectedItem-(typeof a=="number"?a:1))}),Q(te(r),"increment",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;r.moveTo(r.state.selectedItem+(typeof a=="number"?a:1))}),Q(te(r),"moveTo",function(a){if(typeof a=="number"){var s=ge.Children.count(r.props.children)-1;a<0&&(a=r.props.infiniteLoop?s:0),a>s&&(a=r.props.infiniteLoop?0:s),r.selectItem({selectedItem:a}),r.state.autoPlay&&r.state.isMouseEntered===!1&&r.resetAutoPlay()}}),Q(te(r),"onClickNext",function(){r.increment(1)}),Q(te(r),"onClickPrev",function(){r.decrement(1)}),Q(te(r),"onSwipeForward",function(){r.increment(1),r.props.emulateTouch&&r.setState({cancelClick:!0})}),Q(te(r),"onSwipeBackwards",function(){r.decrement(1),r.props.emulateTouch&&r.setState({cancelClick:!0})}),Q(te(r),"changeItem",function(a){return function(s){(!(0,zn.isKeyboardEvent)(s)||s.key==="Enter")&&r.moveTo(a)}}),Q(te(r),"selectItem",function(a){r.setState(vt({previousItem:r.state.selectedItem},a),function(){r.setState(r.animationHandler(r.props,r.state))}),r.handleOnChange(a.selectedItem,ge.Children.toArray(r.props.children)[a.selectedItem])}),Q(te(r),"getInitialImage",function(){var a=r.props.selectedItem,s=r.itemsRef&&r.itemsRef[a],l=s&&s.getElementsByTagName("img")||[];return l[0]}),Q(te(r),"getVariableItemHeight",function(a){var s=r.itemsRef&&r.itemsRef[a];if(r.state.hasMount&&s&&s.children.length){var l=s.children[0].getElementsByTagName("img")||[];if(l.length>0){var c=l[0];if(!c.complete){var u=function f(){r.forceUpdate(),c.removeEventListener("load",f)};c.addEventListener("load",u)}}var h=l[0]||s.children[0],p=h.clientHeight;return p>0?p:null}return null});var o={initialized:!1,previousItem:i.selectedItem,selectedItem:i.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:i.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return r.animationHandler=typeof i.animationHandler=="function"&&i.animationHandler||i.animationHandler==="fade"&&Pr.fadeAnimationHandler||Pr.slideAnimationHandler,r.state=vt(vt({},o),r.animationHandler(i,o)),r}return $b(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(r,o){!r.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!r.autoFocus&&this.props.autoFocus&&this.forceFocus(),o.swiping&&!this.state.swiping&&this.setState(vt({},this.props.stopSwipingHandler(this.props,this.state))),(r.selectedItem!==this.props.selectedItem||r.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),r.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var r=this;this.bindEvents(),this.state.autoPlay&&ge.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var o=r.getInitialImage();o&&!o.complete?o.addEventListener("load",r.setMountState):r.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var r=this.carouselWrapperRef;this.props.stopOnHover&&r&&(r.addEventListener("mouseenter",this.stopOnHover),r.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var r=this.carouselWrapperRef;this.props.stopOnHover&&r&&(r.removeEventListener("mouseenter",this.stopOnHover),r.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,gr.default)().addEventListener("resize",this.updateSizes),(0,gr.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,pr.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,gr.default)().removeEventListener("resize",this.updateSizes),(0,gr.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var r=this.getInitialImage();r&&r.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,pr.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var r;(r=this.carouselWrapperRef)===null||r===void 0||r.focus()}},{key:"renderItems",value:function(r){var o=this;return this.props.children?ge.Children.map(this.props.children,function(a,s){var l=s===o.state.selectedItem,c=s===o.state.previousItem,u=l&&o.state.selectedStyle||c&&o.state.prevStyle||o.state.slideStyle||{};o.props.centerMode&&o.props.axis==="horizontal"&&(u=vt(vt({},u),{},{minWidth:o.props.centerSlidePercentage+"%"})),o.state.swiping&&o.state.swipeMovementStarted&&(u=vt(vt({},u),{},{pointerEvents:"none"}));var h={ref:function(f){return o.setItemsRef(f,s)},key:"itemKey"+s+(r?"clone":""),className:Ot.default.ITEM(!0,s===o.state.selectedItem,s===o.state.previousItem),onClick:o.handleClickItem.bind(o,s,a),style:u};return ge.default.createElement("li",h,o.props.renderItem(a,{isSelected:s===o.state.selectedItem,isPrevious:s===o.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var r=this,o=this.props,a=o.showIndicators,s=o.labels,l=o.renderIndicator,c=o.children;return a?ge.default.createElement("ul",{className:"control-dots"},ge.Children.map(c,function(u,h){return l&&l(r.changeItem(h),h===r.state.selectedItem,h,s.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?ge.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,ge.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||ge.Children.count(this.props.children)===0?null:ge.default.createElement(Tb.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var r=this;if(!this.props.children||ge.Children.count(this.props.children)===0)return null;var o=this.props.swipeable&&ge.Children.count(this.props.children)>1,a=this.props.axis==="horizontal",s=this.props.showArrows&&ge.Children.count(this.props.children)>1,l=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,c=s&&(this.state.selectedItem<ge.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,u=this.renderItems(!0),h=u.shift(),p=u.pop(),f={className:Ot.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},d={};if(a){if(f.onSwipeLeft=this.onSwipeForward,f.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var v=this.getVariableItemHeight(this.state.selectedItem);d.height=v||"auto"}}else f.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,f.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,f.style=vt(vt({},f.style),{},{height:this.state.itemSize}),d.height=this.state.itemSize;return ge.default.createElement("div",{"aria-label":this.props.ariaLabel,className:Ot.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},ge.default.createElement("div",{className:Ot.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),ge.default.createElement("div",{className:Ot.default.WRAPPER(!0,this.props.axis),style:d},o?ge.default.createElement(xb.default,Ti({tagName:"ul",innerRef:this.setListRef},f,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&p,this.renderItems(),this.props.infiniteLoop&&h):ge.default.createElement("ul",{className:Ot.default.SLIDER(!0,this.state.swiping),ref:function(y){return r.setListRef(y)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&p,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,c,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(ge.default.Component);Lr.default=to;Q(to,"displayName","Carousel");Q(to,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:zn.noop,onClickThumb:zn.noop,onChange:zn.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(t,n,i){return ge.default.createElement("button",{type:"button","aria-label":i,className:Ot.default.ARROW_PREV(!n),onClick:t})},renderArrowNext:function(t,n,i){return ge.default.createElement("button",{type:"button","aria-label":i,className:Ot.default.ARROW_NEXT(!n),onClick:t})},renderIndicator:function(t,n,i,r){return ge.default.createElement("li",{className:Ot.default.DOT(n),onClick:t,onKeyDown:t,value:i,key:i,role:"button",tabIndex:0,"aria-label":"".concat(r," ").concat(i+1)})},renderItem:function(t){return t},renderThumbs:function(t){var n=ge.Children.map(t,function(i){var r=i;if(i.type!=="img"&&(r=ge.Children.toArray(i.props.children).find(function(o){return o.type==="img"})),!!r)return r});return n.filter(function(i){return i}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:zn.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Pr.slideSwipeAnimationHandler,stopSwipingHandler:Pr.slideStopSwipingHandler});var Bb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return i.default}});var t=r(Lr),n=Bb,i=r(Jn);function r(o){return o&&o.__esModule?o:{default:o}}})(bs);const Wb=e=>{const{urls:t,canWrite:n,onEditClick:i,renderImage:r}=e,o=t.filter(s=>s!=="");if(o.length===0)return null;const a=o.length>1;return b.createElement(jy,{"data-testid":"GDG-default-image-overlay-editor"},b.createElement(bs.Carousel,{showArrows:a,showThumbs:!1,swipeable:a,emulateTouch:a,infiniteLoop:a},o.map(s=>{const l=(r==null?void 0:r(s))??b.createElement("img",{draggable:!1,src:s});return b.createElement("div",{className:"gdg-centering-container",key:s},l)})),n&&i&&b.createElement("button",{className:"gdg-edit-icon",onClick:i},b.createElement(Ui,null)))},zb={getAccessibilityString:e=>e.data.join(", "),kind:ve.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>Nb(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:i}=e,r=i??Wb;return b.createElement(r,{urls:t.data,canWrite:t.readonly!==!0,onCancel:n,onChange:o=>{n({...t,data:[o]})}})},onPaste:(e,t)=>{e=e.trim();const i=e.split(",").map(r=>{try{return new URL(r),r}catch{return}}).filter(r=>r!==void 0);if(!(i.length===t.data.length&&i.every((r,o)=>r===t.data[o])))return{...t,data:i}}},fi=4;function Nb(e,t,n,i){const{rect:r,col:o,row:a,theme:s,ctx:l,imageLoader:c}=e,{x:u,y:h,height:p,width:f}=r,d=p-s.cellVerticalPadding*2,v=[];let m=0;for(let g=0;g<t.length;g++){const w=t[g];if(w.length===0)continue;const C=c.loadOrGetImage(w,o,a);if(C!==void 0){v[g]=C;const S=C.width*(d/C.height);m+=S+fi}}if(m===0)return;m-=fi;let y=u+s.cellHorizontalPadding;i==="right"?y=Math.floor(u+f-s.cellHorizontalPadding-m):i==="center"&&(y=Math.floor(u+f/2-m/2));for(const g of v){if(g===void 0)continue;const w=g.width*(d/g.height);n>0&&(l.beginPath(),Et(l,y,h+s.cellVerticalPadding,w,d,n),l.save(),l.clip()),l.drawImage(g,y,h+s.cellVerticalPadding,w,d),n>0&&l.restore(),y+=w+fi}}function Xb(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const jb={getAccessibilityString:()=>"",kind:ve.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:i,ctx:r,rect:o,theme:a}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let s=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(s+=Math.round(Xb(n,i)*t.skeletonWidthVariability));const l=a.cellHorizontalPadding;s+l*2>=o.width&&(s=o.width-l*2-1);const c=t.skeletonHeight??Math.min(18,o.height-2*a.cellVerticalPadding);Et(r,o.x+l,o.y+(o.height-c)/2,s,c,a.roundingRadius??3),r.fillStyle=Mn(a.textDark,.1),r.fill()},onPaste:()=>{}},Ub=It("div")({name:"MarkdownContainer",class:"m1ec5h7p",propsAsIs:!1});class Yb extends Yn.PureComponent{constructor(){super(...arguments);ee(this,"targetElement",null);ee(this,"containerRefHook",n=>{this.targetElement=n,this.renderMarkdownIntoDiv()})}renderMarkdownIntoDiv(){const{targetElement:n,props:i}=this;if(n===null)return;const{contents:r,createNode:o}=i,a=Zs(r),s=document.createRange();s.selectNodeContents(n),s.deleteContents();let l=o==null?void 0:o(a);if(l===void 0){const u=document.createElement("template");u.innerHTML=a,l=u.content}n.append(l);const c=n.getElementsByTagName("a");for(const u of c)u.target="_blank",u.rel="noreferrer noopener"}render(){return this.renderMarkdownIntoDiv(),Yn.createElement(Ub,{ref:this.containerRefHook})}}const Gb=It("textarea")({name:"InputBox",class:"iotb8b8",propsAsIs:!1}),qb=It("div")({name:"ShadowBox",class:"s1xtsfdl",propsAsIs:!1}),Kb=It("div")({name:"GrowingEntryStyle",class:"g1d7u5bt",propsAsIs:!1});let Pa=0;const no=e=>{const{placeholder:t,value:n,onKeyDown:i,highlight:r,altNewline:o,validatedSelection:a,autoFocus:s,...l}=e,{onChange:c,className:u}=l,h=b.useRef(null),{isGhostMode:p,ghostValue:f}=b.useContext(xn),d=p&&f?f:n??"";Rt(c!==void 0,"GrowingEntry must be a controlled input area");const[v]=b.useState(()=>"input-box-"+(Pa=(Pa+1)%1e7));b.useEffect(()=>{if(p)return;const g=h.current;if(g===null||g.disabled)return;const w=d.toString().length;g.focus(),g.setSelectionRange(r?0:w,w)},[p]),b.useLayoutEffect(()=>{var g;if(a!==void 0){const w=typeof a=="number"?[a,null]:a;(g=h.current)==null||g.setSelectionRange(w[0],w[1])}},[a]);const m=b.useCallback(g=>{g.key==="Enter"&&g.shiftKey&&o===!0||i==null||i(g)},[o,i]),y=p?{visibility:"hidden"}:void 0;return b.createElement(Kb,{className:"gdg-growing-entry"},b.createElement(qb,{className:u},d+`
`),b.createElement(Gb,{...l,className:(u??"")+" gdg-input",id:v,ref:h,onKeyDown:m,value:d,placeholder:t,dir:"auto",style:y}))},Vb=()=>e=>e.targetWidth,ka=It("div")({name:"MarkdownOverlayEditorStyle",class:"mmv7gx6",propsAsIs:!1,vars:{"mmv7gx6-0":[Vb(),"px"]}}),Jb=e=>{const{value:t,onChange:n,forceEditMode:i,createNode:r,targetRect:o,onFinish:a,validatedSelection:s}=e,{isGhostMode:l}=b.useContext(xn),c=t.data,u=t.readonly===!0,[h,p]=b.useState(c===""||i),f=b.useCallback(()=>{p(v=>!v)},[]),d=c?"gdg-ml-6":"";return h?b.createElement(ka,{targetWidth:o.width-20},b.createElement(no,{autoFocus:!l,highlight:!1,validatedSelection:s,value:c,onKeyDown:v=>{v.key==="Enter"&&v.stopPropagation()},onChange:n}),b.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${d}`,onClick:()=>a(t)},b.createElement(lh,null))):b.createElement(ka,{targetWidth:o.width},b.createElement(Yb,{contents:c,createNode:r}),!u&&b.createElement(b.Fragment,null,b.createElement("div",{className:"spacer"}),b.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${d}`,onClick:f},b.createElement(Ui,null))),b.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!l}))},Zb={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ve.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:Fr,measure:(e,t,n)=>{const i=t.data.split(`
`)[0];return e.measureText(i).width+2*n.cellHorizontalPadding},draw:e=>Wt(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:i,onFinishedEditing:r,markdownDivCreateNode:o,forceEditMode:a,validatedSelection:s}=e;return b.createElement(Jb,{onFinish:r,targetRect:i,value:n,validatedSelection:s,onChange:l=>t({...n,data:l.target.value}),forceEditMode:a,createNode:o})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},Qb={getAccessibilityString:e=>e.row.toString(),kind:zt.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:ew,measure:()=>44,draw:e=>nw(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle,e.cell.disabled),onClick:e=>{const{bounds:t,cell:n,posX:i,posY:r}=e;if(n.disabled===!0)return;const{width:o,height:a}=t,s=n.drawHandle?7+(o-7)/2:o/2,l=a/2;if(Math.abs(i-s)<=10&&Math.abs(r-l)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function ew(e,t){const{ctx:n,theme:i}=e,r=i.markerFontFull,o=t??{};return(o==null?void 0:o.font)!==r&&(n.font=r,o.font=r),o.deprep=tw,n.textAlign="center",o}function tw(e){const{ctx:t}=e;t.textAlign="start"}function nw(e,t,n,i,r,o,a){if(a){const{ctx:m,rect:y,theme:g}=e,{x:w,y:C,width:S,height:I}=y,A=i==="checkbox"?"checkbox-visible":i;if(A!=="number"&&(m.globalAlpha=n?1:.4,_r(m,g,n,r?w+7:w,C,r?S-7:S,I,!1,-20,-20,g.checkboxMaxSize,"center",o,!0),m.globalAlpha=1),A==="number"||A==="both"&&!n){const E=t.toString(),M=g.markerFontFull,$=w+S/2;m.fillStyle="#cccccc",m.font=M,m.fillText(E,$,C+I/2+ct(m,M))}if(r){m.globalAlpha=.4,m.beginPath();for(const E of[3,6])for(const M of[-5,-1,3])m.rect(w+E,C+I/2+M,2,2);m.fillStyle="#cccccc",m.fill(),m.beginPath(),m.globalAlpha=1}return}const{ctx:s,rect:l,hoverAmount:c,theme:u}=e,{x:h,y:p,width:f,height:d}=l,v=n?1:i==="checkbox-visible"?.6+.4*c:c;if(i!=="number"&&v>0){s.globalAlpha=v;const m=7*(n?c:1);if(_r(s,u,n,r?h+m:h,p,r?f-m:f,d,!0,void 0,void 0,u.checkboxMaxSize,"center",o,a),r){s.globalAlpha=c,s.beginPath();for(const y of[3,6])for(const g of[-5,-1,3])s.rect(h+y,p+d/2+g,2,2);s.fillStyle=u.textLight,s.fill(),s.beginPath()}s.globalAlpha=1}if(i==="number"||i==="both"&&!n){const m=t.toString(),y=u.markerFontFull,g=h+f/2;i==="both"&&c!==0&&(s.globalAlpha=1-c),s.fillStyle=u.textLight,s.font=y,s.fillText(m,g,p+d/2+ct(s,y)),c!==0&&(s.globalAlpha=1)}}const rw={getAccessibilityString:()=>"",kind:zt.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>iw(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function iw(e,t,n){const{ctx:i,rect:r,hoverAmount:o,theme:a,spriteManager:s}=e,{x:l,y:c,width:u,height:h}=r;i.beginPath(),i.globalAlpha=o,i.rect(l+1,c+1,u,h-2),i.fillStyle=a.bgHeaderHovered,i.fill(),i.globalAlpha=1,i.beginPath();const p=t!=="";let f=0;if(n!==void 0){const v=h-8,m=l+8/2,y=c+8/2;s.drawSprite(n,"normal",i,m,y,v,a,p?1:o),f=v}else{f=24;const d=12,v=p?d:o*d,m=p?0:(1-o)*d*.5,y=a.cellHorizontalPadding+4;v>0&&(i.moveTo(l+y+m,c+h/2),i.lineTo(l+y+m+v,c+h/2),i.moveTo(l+y+m+v*.5,c+h/2-v*.5),i.lineTo(l+y+m+v*.5,c+h/2+v*.5),i.lineWidth=2,i.strokeStyle=a.bgIconHeader,i.lineCap="round",i.stroke())}i.fillStyle=a.textMedium,i.fillText(t,f+l+a.cellHorizontalPadding+.5,c+h/2+ct(i,a)),i.beginPath()}function Es(e,t,n,i,r,o,a){e.textBaseline="alphabetic";const s=ow(e,r,i,t,(n==null?void 0:n.fullSize)??!1);e.beginPath(),Et(e,s.x,s.y,s.width,s.height,t.roundingRadius??4),e.globalAlpha=o,e.fillStyle=(n==null?void 0:n.bgColor)??Mn(t.textDark,.1),e.fill(),e.globalAlpha=1,e.fillStyle=t.textDark,e.textBaseline="middle",a==null||a("text")}function ow(e,t,n,i,r){const o=i.cellHorizontalPadding,a=i.cellVerticalPadding;if(r)return{x:t.x+o/2,y:t.y+a/2+1,width:t.width-o,height:t.height-a-1};const s=cn(n,e,i.baseFontFull,"alphabetic"),l=t.height-a,c=Math.min(l,s.actualBoundingBoxAscent*2.5);return{x:t.x+o/2,y:t.y+(t.height-c)/2+1,width:s.width+o*3,height:c-1}}const aw=b.lazy(async()=>await el(()=>import("./number-overlay-editor-QoLfD9CZ.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),sw={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ve.Number,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,useLabel:!0,drawPrep:Fr,draw:e=>{const{hoverAmount:t,cell:n,ctx:i,theme:r,rect:o,overrideCursor:a}=e,{hoverEffect:s,displayData:l,hoverEffectTheme:c}=n;s===!0&&t>0&&Es(i,r,c,l,o,t,a),Wt(e,e.cell.displayData,e.cell.contentAlign)},measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,onFinishedEditing:i,value:r,validatedSelection:o}=e;return b.createElement(b.Suspense,{fallback:null},b.createElement(aw,{highlight:t,disabled:r.readonly===!0,value:r.data,fixedDecimals:r.fixedDecimals,allowNegative:r.allowNegative,thousandSeparator:r.thousandSeparator,decimalSeparator:r.decimalSeparator,validatedSelection:o,onChange:a=>n({...r,data:Number.isNaN(a.floatValue??0)?0:a.floatValue}),onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey?(a.preventDefault(),i(r,[0,1])):a.key==="Tab"?(a.preventDefault(),i(r,[a.shiftKey?-1:1,0])):a.key==="Escape"&&(a.preventDefault(),i(void 0,[0,0]))}}))},onPaste:(e,t,n)=>{const i=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(i)||t.data===i))return{...t,data:i,displayData:n.formattedString??t.displayData}}},lw={getAccessibilityString:()=>"",measure:()=>108,kind:ve.Protected,needsHover:!1,needsHoverPosition:!1,draw:cw,onPaste:()=>{}};function cw(e){const{ctx:t,theme:n,rect:i}=e,{x:r,y:o,height:a}=i;t.beginPath();const s=2.5;let l=r+n.cellHorizontalPadding+s;const c=o+a/2,u=Math.cos(Do(30))*s,h=Math.sin(Do(30))*s;for(let p=0;p<12;p++)t.moveTo(l,c-s),t.lineTo(l,c+s),t.moveTo(l+u,c-h),t.lineTo(l-u,c+h),t.moveTo(l-u,c-h),t.lineTo(l+u,c+h),l+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const uw={getAccessibilityString:e=>e.rowId??"",kind:zt.RowId,needsHover:!1,needsHoverPosition:!1,measure:(e,t,n)=>cn(t.rowId??"",e,n.baseFontStyle).width+n.cellHorizontalPadding*2,draw:e=>{const{ctx:t,rect:n,cell:i,theme:r}=e,o=i.rowId;if(!o)return;t.fillStyle=r.textDark,t.font=r.baseFontStyle,t.textAlign="left";const a=n.x+r.cellHorizontalPadding,s=n.y+n.height/2;t.fillText(o,a,s+ct(t,r))},onClick:()=>{},onPaste:()=>{}},dw={getAccessibilityString:e=>e.rowId??"",kind:zt.RowId,needsHover:!1,needsHoverPosition:!1,drawPrep:fw,measure:()=>80,draw:e=>pw(e,e.cell.rowId),onClick:()=>{},onPaste:()=>{}};function fw(e,t){const{ctx:n}=e,i="12px sans-serif",r=t??{};return(r==null?void 0:r.font)!==i&&(n.font=i,r.font=i),r.deprep=hw,n.textAlign="left",r}function hw(e){const{ctx:t}=e;t.textAlign="start"}function pw(e,t){if(!t)return;const{ctx:n,rect:i,theme:r}=e,{x:o,y:a,height:s}=i;n.fillStyle=r.textDark,n.font="12px sans-serif";const l=o+8,c=a+s/2;n.fillText(t,l,c+ct(n,n.font))}const gw={getAccessibilityString:e=>e.status??"",kind:zt.RowStatus,needsHover:!1,needsHoverPosition:!1,drawPrep:vw,measure:()=>40,draw:e=>yw(e,e.cell.status),onClick:()=>{},onPaste:()=>{}};function vw(e,t){const{ctx:n}=e,i="bold 14px sans-serif",r=t??{};return(r==null?void 0:r.font)!==i&&(n.font=i,r.font=i),r.deprep=mw,n.textAlign="center",r}function mw(e){const{ctx:t}=e;t.textAlign="start"}function yw(e,t){if(!t)return;const{ctx:n,rect:i}=e,{x:r,y:o,width:a,height:s}=i,l={A:"#2e7d32",U:"#f9a825",D:"#c62828"};n.fillStyle=l[t],n.font="bold 14px sans-serif";const c=r+a/2,u=o+s/2;n.fillText(t,c,u+ct(n,n.font))}const bw={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ve.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:Fr,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:i,ctx:r,rect:o,theme:a,overrideCursor:s}=e,{displayData:l,contentAlign:c,hoverEffect:u,allowWrapping:h,hoverEffectTheme:p}=t;u===!0&&n>0&&Es(r,a,p,l,o,n,s),Wt(e,l,c,h,i)},measure:(e,t,n)=>{const i=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let r=0;for(const o of i)r=Math.max(r,e.measureText(o).width);return r+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:i,value:r,validatedSelection:o}=t;return b.createElement(no,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:r.readonly!==!0,disabled:r.readonly===!0,altNewline:!0,value:r.data,validatedSelection:o,onChange:a=>i({...r,data:a.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},ww=It("div")({name:"UriOverlayEditorStyle",class:"uwr6ffw",propsAsIs:!1}),Sw=e=>{const{uri:t,onChange:n,forceEditMode:i,readonly:r,validatedSelection:o,preview:a}=e,{isGhostMode:s}=b.useContext(xn),[l,c]=b.useState(!r&&(t===""||i)),u=b.useCallback(()=>{c(!0)},[]);return l?b.createElement(no,{validatedSelection:o,highlight:!0,autoFocus:!s,value:t,onChange:n}):b.createElement(ww,null,b.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},a),!r&&b.createElement("div",{className:"gdg-edit-icon",onClick:u},b.createElement(Ui,null)),b.createElement("textarea",{className:"gdg-input",autoFocus:!s}))};function Is(e,t,n,i){let r=n.cellHorizontalPadding;const o=t.height/2-e.actualBoundingBoxAscent/2,a=e.width,s=e.actualBoundingBoxAscent;return i==="right"?r=t.width-a-n.cellHorizontalPadding:i==="center"&&(r=t.width/2-a/2),{x:r,y:o,width:a,height:s}}function xa(e){const{cell:t,bounds:n,posX:i,posY:r,theme:o}=e,a=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return!1;const s=Va(a,o.baseFontFull);if(s===void 0)return!1;const l=Is(s,n,o,t.contentAlign);return nn({x:l.x-4,y:l.y-4,width:l.width+8,height:l.height+8},i,r)}const Cw={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:ve.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:Fr,draw:e=>{const{cell:t,theme:n,overrideCursor:i,hoverX:r,hoverY:o,rect:a,ctx:s}=e,l=t.displayData??t.data,c=t.hoverEffect===!0;if(i!==void 0&&c&&r!==void 0&&o!==void 0){const u=cn(l,s,n.baseFontFull),h=Is(u,a,n,t.contentAlign),{x:p,y:f,width:d,height:v}=h;if(r>=p-4&&r<=p-4+d+8&&o>=f-4&&o<=f-4+v+8){const m=ct(s,n.baseFontFull);i("pointer");const y=5,g=f-m;s.beginPath(),s.moveTo(a.x+p,Math.floor(a.y+g+v+y)+.5),s.lineTo(a.x+p+d,Math.floor(a.y+g+v+y)+.5),s.strokeStyle=n.linkColor,s.stroke(),s.save(),s.fillStyle=e.cellFillColor,Wt({...e,rect:{...a,x:a.x-1}},l,t.contentAlign),Wt({...e,rect:{...a,x:a.x-2}},l,t.contentAlign),Wt({...e,rect:{...a,x:a.x+1}},l,t.contentAlign),Wt({...e,rect:{...a,x:a.x+2}},l,t.contentAlign),s.restore()}}s.fillStyle=c?n.linkColor:n.textDark,Wt(e,l,t.contentAlign)},onSelect:e=>{xa(e)&&e.preventDefault()},onClick:e=>{var i;const{cell:t}=e;xa(e)&&((i=t.onClickUri)==null||i.call(t,e))},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:i,forceEditMode:r,validatedSelection:o}=t;return b.createElement(Sw,{forceEditMode:i.readonly!==!0&&(r||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:i.data,preview:i.displayData??i.data,validatedSelection:o,readonly:i.readonly===!0,onChange:a=>n({...i,data:a.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},e1=[Qb,rw,gw,dw,_y,Hy,zy,zb,jb,Zb,sw,lw,uw,bw,Cw];var _w=za,Ew=sn,Iw="Expected a function";function Mw(e,t,n){var i=!0,r=!0;if(typeof e!="function")throw new TypeError(Iw);return Ew(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_w(e,t,{leading:i,maxWait:t,trailing:r})}var Pw=Mw;const kw=an(Pw),hi=[];class t1 extends es{constructor(){super(...arguments);ee(this,"imageLoaded",()=>{});ee(this,"loadedLocations",[]);ee(this,"cache",{});ee(this,"sendLoaded",kw(()=>{this.imageLoaded(new bn(this.loadedLocations)),this.loadedLocations=[]},20));ee(this,"clearOutOfWindow",()=>{const n=Object.keys(this.cache);for(const i of n){const r=this.cache[i];let o=!1;for(let a=0;a<r.cells.length;a++){const s=r.cells[a];if(this.isInWindow(s)){o=!0;break}}o?r.cells=r.cells.filter(this.isInWindow):(r.cancel(),delete this.cache[i])}})}setCallback(n){this.imageLoaded=n}loadImage(n,i,r,o){let a=!1;const s=hi.pop()??new Image;let l=!1;const c={img:void 0,cells:[mt(i,r)],url:n,cancel:()=>{l||(l=!0,hi.length<12?hi.unshift(s):a||(s.src=""))}},u=new Promise(h=>s.addEventListener("load",()=>h(null)));requestAnimationFrame(async()=>{try{s.src=n,await u,await s.decode();const h=this.cache[o];if(h!==void 0&&!l){h.img=s;for(const p of h.cells)this.loadedLocations.push(Ki(p));a=!0,this.sendLoaded()}}catch{c.cancel()}}),this.cache[o]=c}loadOrGetImage(n,i,r){const o=n,a=this.cache[o];if(a!==void 0){const s=mt(i,r);return a.cells.includes(s)||a.cells.push(s),a.img}else this.loadImage(n,i,r,o)}}export{nn as $,e1 as A,Nw as B,gi as C,Ww as D,zw as E,Bn as F,ve as G,Wh as H,mr as I,Zt as J,Sh as K,yi as L,bh as M,on as N,Mn as O,ah as P,Fo as Q,Bh as R,In as S,is as T,Vw as U,fy as V,Yw as W,ga as X,Sr as Y,zt as Z,Ef as _,Bd as a,Xw as a0,Fw as a1,zd as a2,Bi as a3,t1 as a4,qw as a5,pa as a6,uy as a7,Bw as a8,Dw as a9,Xf as aa,Bf as ab,xn as ac,Qw as ad,St as b,rn as c,Cf as d,vf as e,yf as f,jw as g,xr as h,vr as i,Mt as j,La as k,Mf as l,Qb as m,Rt as n,gy as o,Hw as p,Gw as q,Lw as r,Wd as s,Cy as t,Uw as u,Kw as v,Jw as w,Jf as x,zi as y,Zw as z};
