const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./image-window-loader-DuEXGL_L.js","./iframe-DfFb5Ign.js","./preload-helper-C1FmrZbK.js","./throttle-ByAiyUNP.js","./marked.esm-CIUALPyN.js","./index-KG-dsUoR.js","./image-window-loader-Bm61kU6i.css"])))=>i.map(i=>d[i]);
import{r as n,R as _e}from"./iframe-DfFb5Ign.js";import{_ as hi}from"./preload-helper-C1FmrZbK.js";import{r as gi}from"./index-KG-dsUoR.js";import{G as ee,d as Xo,e as mi,f as Oo,r as hr,h as qo,C as ze,t as xr,j as Wt,k as gr,l as vi,b as kn,m as Yo,i as go,n as mr,g as kr,o as pi,w as Dt,p as Ci,q as Jt,s as wi,v as yi,x as bi,y as xi,z as ki,A as Ri,B as Mi,D as Rn,E as vr,I as Pt,F as Si,H as Ti,J as Ei,K as pr,L as Ii,M as zi,N as Cr,O as Li,P as Di,Q as Hi,R as Fi,T as $i,S as Ai,U as Gi}from"./image-window-loader-DuEXGL_L.js";import{r as Qt,m as Nt,g as Ki}from"./throttle-ByAiyUNP.js";import{u as Pi,f as wr}from"./flatten-By6_WT6j.js";import{G as Ni}from"./scrolling-data-grid-DuhwYF3j.js";import{s as Zo}from"./marked.esm-CIUALPyN.js";const Ge='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',Wi=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}<rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${o}"/></svg>`},Vi=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}<rect x="2" y="2" width="16" height="16" rx="4" fill="${l}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${o}"/></svg>`},Bi=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${l}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${o}"/>
  </svg>`},Ui=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${l}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${o}"/>
</svg>`},Oi=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${l}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${o}"
    />
</svg>`},Rr=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${l}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${o}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${o}"/>
</svg>
  `},_i=e=>{const o=e.bgColor;return`${Ge}
    <path stroke="${o}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${o}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${o}"/>
  </svg>
`},Xi=Rr,Yi=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${l}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${o}"/>
</svg>`},qi=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${o}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${o}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${o}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${l}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${o}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${o}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${o}"/>
  </svg>`},Zi=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${l}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${o}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${o}"/>
</svg>`},Ji=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <path fill="${o}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${l}"/>
  </svg>`},Qi=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${l}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${o}"/>
  </svg>`},ji=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${l}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${o}"/>
</svg>`},es=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${l}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${o}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${o}"/>
  </svg>`},ts=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${o}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${o}"/>
</svg>`},os=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${l}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${l}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${o}"/>
  </svg>`},ns=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <path fill="${o}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${l}"/>
</svg>`},rs=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${o}"/>
  </svg>`},ls=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${o}"/>
  </svg>`},is=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${o}"/>
</svg>`},ss=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${o}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${o}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${o}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${o}"/>
</svg>`},cs=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${l}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${o}"/>
  </svg>`},as=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${o}"/>
</svg>`},us=e=>{const o=e.fgColor,l=e.bgColor;return`
    ${Ge}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${o}"/>
  </svg>`},ds=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${l}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${o}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${o}"/>
</svg>`},fs=e=>{const o=e.fgColor,l=e.bgColor;return`${Ge}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${l}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${o}"/>
</svg>`},hs=e=>{const o=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${o}" stroke-width="2"/>
  </svg>`},gs=e=>{const o=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${o}" stroke-width="2"/>
  </svg>
`},ms=e=>(e.fgColor,`
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${e.bgColor}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" >
 <g transform="scale(0.833) translate(2, 2)">
    <path d="M8 18L12 22L16 18"/>
    <path d="M12 2V22"/>
  </g>
</svg>
  `),vs=e=>(e.fgColor,`
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${e.bgColor}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" >
  <g transform="scale(0.833) translate(-4, 2)">
    <path d="M8 6L12 2L16 6"/>
    <path d="M12 2V22"/>
  </g>
</svg>
`),ps={headerRowID:Wi,headerNumber:Bi,headerCode:Vi,headerString:Ui,headerBoolean:Oi,headerAudioUri:Xi,headerVideoUri:Yi,headerEmoji:qi,headerImage:Zi,headerUri:Rr,headerPhone:Ji,headerMarkdown:Qi,headerDate:ji,headerTime:es,headerEmail:ts,headerReference:os,headerIfThenElse:ns,headerSingleValue:rs,headerLookup:ls,headerTextTemplate:is,headerMath:ss,headerRollup:cs,headerJoinStrings:as,headerSplitString:us,headerGeoDistance:ds,headerArray:fs,rowOwnerOverlay:hs,protectedColumnOverlay:gs,renameIcon:_i,headerArrowDown:ms,headerArrowUp:vs},Cs=Zo("div")({name:"SearchWrapper",class:"slyseh9",propsAsIs:!1}),ws=n.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},n.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),ys=n.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},n.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),bs=n.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},n.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),xs=10,ks=e=>{const{canvasRef:o,cellYOffset:l,rows:s,columns:u,searchInputRef:m,searchValue:z,searchResults:f,onSearchValueChange:w,getCellsForSelection:E,onSearchResultsChanged:c,showSearch:d=!1,onSearchClose:C}=e,[R]=n.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[$,H]=n.useState(""),oe=z??$,we=n.useCallback(k=>{H(k),w==null||w(k)},[w]),[F,S]=n.useState(),q=n.useRef(F);q.current=F,n.useEffect(()=>{f!==void 0&&(f.length>0?S(k=>({rowsSearched:s,results:f.length,selectedIndex:(k==null?void 0:k.selectedIndex)??-1})):S(void 0))},[s,f]);const ye=n.useRef();ye.current===void 0&&(ye.current=new AbortController);const p=n.useRef(),[K,P]=n.useState([]),Q=f??K,L=n.useCallback(()=>{p.current!==void 0&&(window.cancelAnimationFrame(p.current),p.current=void 0),ye.current!==void 0&&ye.current.abort(),ye.current=new AbortController},[]),ie=n.useRef(l);ie.current=l;const fe=n.useCallback(k=>{const Y=new RegExp(k.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let he=ie.current,Le=Math.min(10,s),Ke=0;S(void 0),P([]);const de=[],v=async()=>{var et;if(E===void 0)return;const be=performance.now(),I=s-Ke;let ae=E({x:0,y:he,width:u.length,height:Math.min(Le,I,s-he)},ye.current.signal);typeof ae=="function"&&(ae=await ae());let We=!1;for(const[xt,b]of ae.entries())for(const[De,N]of b.entries()){let j;switch(N.kind){case ee.Text:case ee.Number:j=N.displayData;break;case ee.Uri:case ee.Markdown:j=N.data;break;case ee.Boolean:j=typeof N.data=="boolean"?N.data.toString():void 0;break;case ee.Image:case ee.Bubble:j=N.data.join("üê≥");break;case ee.Custom:j=N.copyData;break}j!==void 0&&Y.test(j)&&(de.push([De,xt+he]),We=!0)}const Xe=performance.now();We&&P([...de]),Ke+=ae.length,Xo(Ke<=s);const W=((et=q.current)==null?void 0:et.selectedIndex)??-1;S({results:de.length,rowsSearched:Ke,selectedIndex:W}),c==null||c(de,W),he+Le>=s?he=0:he+=Le;const te=Xe-be,ne=Math.max(te,1),ut=xs/ne;Le=Math.ceil(Le*ut),Ke<s&&de.length<1e3&&(p.current=window.requestAnimationFrame(v))};L(),p.current=window.requestAnimationFrame(v)},[L,u.length,E,c,s]),V=n.useCallback(()=>{var k;C==null||C(),S(void 0),P([]),c==null||c([],-1),L(),(k=o==null?void 0:o.current)==null||k.focus()},[L,o,C,c]),T=n.useCallback(k=>{we(k.target.value),f===void 0&&(k.target.value===""?(S(void 0),P([]),L()):fe(k.target.value))},[fe,L,we,f]);n.useEffect(()=>{m.current!==null&&(we(""),S(void 0),K.length>0&&(P([]),c==null||c([],-1)),d?m.current.focus({preventScroll:!0}):L())},[d,m]);const X=n.useCallback(k=>{var he;if((he=k==null?void 0:k.stopPropagation)==null||he.call(k),F===void 0||F.results===0)return;const Y=(F.selectedIndex+1)%F.results;S({...F,selectedIndex:Y}),c==null||c(Q,Y)},[F,c,Q]),ce=n.useCallback(k=>{var he;if((he=k==null?void 0:k.stopPropagation)==null||he.call(k),F===void 0||F.results===0)return;let Y=(F.selectedIndex-1)%F.results;Y<0&&(Y+=F.results),S({...F,selectedIndex:Y}),c==null||c(Q,Y)},[c,Q,F]),ke=n.useCallback(k=>{(k.ctrlKey||k.metaKey)&&k.nativeEvent.code==="KeyF"||k.key==="Escape"?(V(),k.stopPropagation(),k.preventDefault()):k.key==="Enter"&&(k.shiftKey?ce():X())},[V,X,ce]);n.useEffect(()=>()=>{L()},[L]);const[U,O]=n.useState(!1);n.useEffect(()=>{if(d)O(!0);else{const k=setTimeout(()=>O(!1),150);return()=>clearTimeout(k)}},[d]);const se=n.useMemo(()=>{if(!d&&!U)return null;let k;F!==void 0&&(k=F.results>=1e3?"over 1000":`${F.results} result${F.results!==1?"s":""}`,F.selectedIndex>=0&&(k=`${F.selectedIndex+1} of ${k}`));const Y=Ke=>{Ke.stopPropagation()},Le={width:`${s>0?Math.floor(((F==null?void 0:F.rowsSearched)??0)/s*100):0}%`};return n.createElement(Cs,{className:"gdg-search-bar"+(d?"":" out"),onMouseDown:Y,onMouseMove:Y,onMouseUp:Y,onClick:Y},n.createElement("div",{className:"gdg-search-bar-inner"},n.createElement("input",{id:R,"aria-hidden":!d,"data-testid":"search-input",ref:m,onChange:T,value:oe,tabIndex:d?void 0:-1,onKeyDownCapture:ke}),n.createElement("button",{type:"button","aria-label":"Previous Result","aria-hidden":!d,tabIndex:d?void 0:-1,onClick:ce,disabled:((F==null?void 0:F.results)??0)===0},ws),n.createElement("button",{type:"button","aria-label":"Next Result","aria-hidden":!d,tabIndex:d?void 0:-1,onClick:X,disabled:((F==null?void 0:F.results)??0)===0},ys),C!==void 0&&n.createElement("button",{type:"button","aria-label":"Close Search","aria-hidden":!d,"data-testid":"search-close-button",tabIndex:d?void 0:-1,onClick:V},bs)),F!==void 0?n.createElement(n.Fragment,null,n.createElement("div",{className:"gdg-search-status"},n.createElement("div",{"data-testid":"search-result-area"},k)),n.createElement("div",{className:"gdg-search-progress",style:Le})):n.createElement("div",{className:"gdg-search-status"},n.createElement("label",{htmlFor:R},"Type to search")))},[d,U,F,s,R,m,T,oe,ke,ce,X,C,V]);return n.createElement(n.Fragment,null,n.createElement(Ni,{prelightCells:Q,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,groupLevels:e.groupLevels,groupHeaderHeights:e.groupHeaderHeights,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}),se)},Rs=()=>e=>Math.max(16,e.targetHeight-10),Ms=Zo("input")({name:"RenameInput",class:"r1fzhvm4",propsAsIs:!1,vars:{"r1fzhvm4-0":[Rs(),"px"]}}),Ss=e=>{const{bounds:o,group:l,onClose:s,canvasBounds:u,onFinish:m}=e,[z,f]=_e.useState(l);return _e.createElement(mi,{style:{position:"absolute",left:o.x-u.left+1,top:o.y-u.top,width:o.width-2,height:o.height},className:"c181oggi",onClickOutside:s},_e.createElement(Ms,{targetHeight:o.height,"data-testid":"group-rename-input",value:z,onBlur:s,onFocus:w=>w.target.setSelectionRange(0,z.length),onChange:w=>f(w.target.value),onKeyDown:w=>{w.key==="Enter"?m(z):w.key==="Escape"&&s()},autoFocus:!0}))},Sn=150;function Ts(e,o,l,s){var m;const u=s(o);return((m=u==null?void 0:u.measure)==null?void 0:m.call(u,e,o,l))??Sn}function Mr(e,o,l,s,u,m,z,f,w){let E=0;const c=u===void 0?[]:u.map(R=>{const $=Ts(e,R[s],o,w);return E=Math.max(E,$),$});if(c.length>5&&f){E=0;let R=0;for(const H of c)R+=H;const $=R/c.length;for(let H=0;H<c.length;H++)c[H]>=$*2?c[H]=0:E=Math.max(E,c[H])}const d=e.font;e.font=o.headerFontFull,E=Math.max(E,e.measureText(l.title).width+o.cellHorizontalPadding*2+(l.icon===void 0?0:28)),e.font=d;const C=Math.max(Math.ceil(m),Math.min(Math.floor(z),Math.ceil(E)));return{...l,width:C}}function Es(e,o,l,s,u,m,z,f,w){const E=n.useRef(o),c=n.useRef(l),d=n.useRef(z);E.current=o,c.current=l,d.current=z;const[C,R]=n.useMemo(()=>{if(typeof window>"u")return[null,null];const F=document.createElement("canvas");return F.style.display="none",F.style.opacity="0",F.style.position="fixed",[F,F.getContext("2d",{alpha:!1})]},[]);n.useLayoutEffect(()=>(C&&document.documentElement.append(C),()=>{C==null||C.remove()}),[C]);const $=n.useRef({}),H=n.useRef(),[oe,we]=n.useState();return n.useLayoutEffect(()=>{const F=c.current;if(F===void 0||e.every(Oo))return;let S=Math.max(1,10-Math.floor(e.length/1e4)),q=0;S<E.current&&S>1&&(S--,q=1);const ye={x:0,y:0,width:e.length,height:Math.min(E.current,S)},p={x:0,y:E.current-1,width:e.length,height:1};(async()=>{const P=F(ye,w.signal),Q=q>0?F(p,w.signal):void 0;let L;typeof P=="object"?L=P:L=await hr(P),Q!==void 0&&(typeof Q=="object"?L=[...L,...Q]:L=[...L,...await hr(Q)]),H.current=e,we(L)})()},[w.signal,e]),n.useMemo(()=>{let S=e.every(Oo)?e:R===null?e.map(K=>Oo(K)?K:{...K,width:Sn}):(R.font=d.current.baseFontFull,e.map((K,P)=>{if(Oo(K))return K;if($.current[K.id]!==void 0)return{...K,width:$.current[K.id]};if(oe===void 0||H.current!==e||K.id===void 0)return{...K,width:Sn};const Q=Mr(R,z,K,P,oe,u,m,!0,f);return $.current[K.id]=Q.width,Q})),q=0,ye=0;const p=[];for(const[K,P]of S.entries())q+=P.width,P.grow!==void 0&&P.grow>0&&(ye+=P.grow,p.push(K));if(q<s&&p.length>0){const K=[...S],P=s-q;let Q=P;for(let L=0;L<p.length;L++){const ie=p[L],fe=(S[ie].grow??0)/ye,V=L===p.length-1?Q:Math.min(Q,Math.floor(P*fe));K[ie]={...S[ie],growOffset:V,width:S[ie].width+V},Q-=V}S=K}return{sizedColumns:S,nonGrowWidth:q}},[s,e,R,oe,z,u,m,f])}function Is(e,o){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===o.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===o.keyCode:e===o.key}function re(e,o,l){const s=Sr(e,o);return s&&(l.didMatch=!0),s}function Sr(e,o){if(e.length===0)return!1;if(e.includes("|")){const w=e.split("|");for(const E of w)if(Sr(E,o))return!0;return!1}let l=!1,s=!1,u=!1,m=!1;const z=e.split("+"),f=z.pop();if(!Is(f,o))return!1;if(z[0]==="any")return!0;for(const w of z)switch(w){case"ctrl":l=!0;break;case"shift":s=!0;break;case"alt":u=!0;break;case"meta":m=!0;break;case"primary":qo.value?m=!0:l=!0;break}return o.altKey===u&&o.ctrlKey===l&&o.shiftKey===s&&o.metaKey===m}function zs(e){const{state:o,keybindings:l,overlayOpen:s,columnSelect:u,rowSelect:m,rangeSelect:z,editOnType:f,trapFocus:w,showTrailingBlankRow:E,columnsInLength:c,rowGroupingNavBehavior:d,mapper:C,onKeyDownIn:R,onSelectionCleared:$,onCellActivated:H,onDelete:oe,getCellContent:we,setSelectedColumns:F,setSelectedRows:S,setShowSearchInner:q,searchInputRef:ye,adjustSelection:p,updateSelectedCell:K,deleteRange:P,fillDown:Q,fillRight:L,appendRow:ie,getCustomNewRowTargetColumn:fe,scrollToRef:V}=e,{gridSelection:T,gridRef:X,visibleRegionRef:ce,rowMarkerOffset:ke,rows:U,setGridSelection:O,getMangledCellContent:se,mangledOnCellsEdited:k,setOverlay:Y,reselect:he,focus:Le}=o,Ke=n.useCallback(v=>{var j,He,Be,$e;const be=()=>{v.stopPropagation(),v.preventDefault()},I={didMatch:!1},{bounds:ae}=v,We=T.columns,Xe=T.rows,W=l;if(!s&&re(W.clear,v,I)){const _=((j=T.current)==null?void 0:j.cell)??[ke,0];O({columns:ze.empty(),rows:ze.empty(),current:{cell:_,range:{x:_[0],y:_[1],width:1,height:1},rangeStack:[]}},!1),$==null||$(),Le()}else if(!s&&re(W.selectAll,v,I))O({columns:ze.empty(),rows:ze.empty(),current:{cell:((He=T.current)==null?void 0:He.cell)??[ke,0],range:{x:ke,y:0,width:c,height:U},rangeStack:[]}},!1);else if(re(W.search,v,I))(Be=ye==null?void 0:ye.current)==null||Be.focus({preventScroll:!0}),q(!0);else if(re(W.delete,v,I)){const _=(oe==null?void 0:oe(T))??!0;if(_!==!1){const Re=_===!0?T:_;if(Re.current!==void 0){P(Re.current.range);for(const ge of Re.current.rangeStack)P(ge)}for(const ge of Re.rows)P({x:ke,y:ge,width:c,height:1});for(const ge of Re.columns)P({x:ge,y:0,width:1,height:U})}}if(I.didMatch)return be(),!0;if(T.current===void 0)return!1;let[te,ne]=T.current.cell;const[,ut]=T.current.cell;let et=!1,xt=!1;if(re(W.scrollToSelectedCell,v,I))V.current(te-ke,ne);else if(u!=="none"&&re(W.selectColumn,v,I))We.hasIndex(te)?F(We.remove(te),void 0,!0):u==="single"?F(ze.fromSingleSelection(te),void 0,!0):F(void 0,te,!0);else if(m!=="none"&&re(W.selectRow,v,I))Xe.hasIndex(ne)?S(Xe.remove(ne),void 0,!0):m==="single"?S(ze.fromSingleSelection(ne),void 0,!0):S(void 0,ne,!0);else if(!s&&ae!==void 0&&re(W.activateCell,v,I))if(ne===U&&E)window.setTimeout(()=>{const _=fe(te);ie(_??te)},0);else{const _={inputType:"keyboard",key:v.key},Re=se([te,ne]);Re.kind===ee.Boolean&&Re.readonly!==!0?(H==null||H([te-ke,ne],_),k([{location:[te,ne],value:{...Re,data:xr(Re.data)}}]),($e=X.current)==null||$e.damage([{cell:[te,ne]}])):(H==null||H([te-ke,ne],_),he(ae,_))}else T.current.range.height>1&&re(W.downFill,v,I)?Q():T.current.range.width>1&&re(W.rightFill,v,I)?L():re(W.goToNextPage,v,I)?ne+=Math.max(1,ce.current.height-4):re(W.goToPreviousPage,v,I)?ne-=Math.max(1,ce.current.height-4):re(W.goToFirstCell,v,I)?(Y(void 0),ne=0,te=0):re(W.goToLastCell,v,I)?(Y(void 0),ne=Number.MAX_SAFE_INTEGER,te=Number.MAX_SAFE_INTEGER):re(W.selectToFirstCell,v,I)?(Y(void 0),p([-2,-2])):re(W.selectToLastCell,v,I)?(Y(void 0),p([2,2])):s?(re(W.closeOverlay,v,I)&&Y(void 0),re(W.acceptOverlayDown,v,I)&&(Y(void 0),ne++),re(W.acceptOverlayUp,v,I)&&(Y(void 0),ne--),re(W.acceptOverlayLeft,v,I)&&(Y(void 0),te--),re(W.acceptOverlayRight,v,I)&&(Y(void 0),te++)):(re(W.goDownCell,v,I)?ne+=1:re(W.goUpCell,v,I)?ne-=1:re(W.goRightCell,v,I)?te+=1:re(W.goLeftCell,v,I)?te-=1:re(W.goDownCellRetainSelection,v,I)?(ne+=1,et=!0):re(W.goUpCellRetainSelection,v,I)?(ne-=1,et=!0):re(W.goRightCellRetainSelection,v,I)?(te+=1,et=!0):re(W.goLeftCellRetainSelection,v,I)?(te-=1,et=!0):re(W.goToLastRow,v,I)?ne=U-1:re(W.goToFirstRow,v,I)?ne=Number.MIN_SAFE_INTEGER:re(W.goToLastColumn,v,I)?te=Number.MAX_SAFE_INTEGER:re(W.goToFirstColumn,v,I)?te=Number.MIN_SAFE_INTEGER:(z==="rect"||z==="multi-rect")&&(re(W.selectGrowDown,v,I)?p([0,1]):re(W.selectGrowUp,v,I)?p([0,-1]):re(W.selectGrowRight,v,I)?p([1,0]):re(W.selectGrowLeft,v,I)?p([-1,0]):re(W.selectToLastRow,v,I)?p([0,2]):re(W.selectToFirstRow,v,I)?p([0,-2]):re(W.selectToLastColumn,v,I)?p([2,0]):re(W.selectToFirstColumn,v,I)&&p([-2,0])),xt=I.didMatch);if(d!==void 0&&d!=="normal"&&ne!==ut){const _=d==="skip-up"||d==="skip"||d==="block",Re=d==="skip-down"||d==="skip"||d==="block",ge=ne<ut;if(ge&&_){for(;ne>=0&&C(ne).isGroupHeader;)ne--;ne<0&&(ne=ut)}else if(!ge&&Re){for(;ne<U&&C(ne).isGroupHeader;)ne++;ne>=U&&(ne=ut)}}const De=K(te,ne,!1,et),N=I.didMatch;return N&&(De||!xt||w)&&be(),N},[d,s,T,l,u,m,z,ke,C,U,K,O,$,c,oe,w,P,F,S,E,fe,ie,H,he,Q,L,p,se,k,X,Y,Le,ce,ye,q,V]),de=n.useCallback(v=>{let be=!1;if(R!==void 0&&R({...v,...v.location&&{location:[v.location[0]-ke,v.location[1]]},cancel:()=>{be=!0}}),be||Ke(v)||T.current===void 0)return;const[I,ae]=T.current.cell,We=ce.current,Xe=v.keyCode===229,W=f&&!v.metaKey&&!v.ctrlKey&&v.key.length===1&&/[\p{L}\p{M}\p{N}\p{S}\p{P}]/u.test(v.key);if((Xe||W)&&v.bounds!==void 0&&Wt(we([I-ke,Math.max(0,Math.min(ae,U-1))]))){if((!E||ae!==U)&&(We.y>ae||ae>We.y+We.height||We.x>I||I>We.x+We.width))return;if(v.stopPropagation(),v.preventDefault(),Xe){const te={inputType:"keyboard",key:""};H==null||H([I-ke,ae],te),he(v.bounds,te,"")}else{const te={inputType:"keyboard",key:v.key};H==null||H([I-ke,ae],te),he(v.bounds,te,v.key)}}},[f,R,Ke,T,we,ke,U,E,H,he,ce]);return{handleFixedKeybindings:Ke,onKeyDown:de}}function Ls(e,o,l,s,u,m,z){const f=_e.useCallback((c,d,C,R)=>{var S;(m==="cell"||m==="multi-cell")&&c!==void 0&&(c={...c,range:{x:c.cell[0],y:c.cell[1],width:1,height:1}}),!z&&c!==void 0&&c.range.width>1&&(c={...c,range:{...c.range,width:1,x:c.cell[0]}});const $=l==="mixed"&&(C||R==="drag")||l==="additive",H=(s==="mixed"||s==="additive")&&$,oe=C||(u==="mixed"||u==="additive")&&$;let we={current:c===void 0?void 0:{...c,rangeStack:R==="drag"?((S=e.current)==null?void 0:S.rangeStack)??[]:[]},columns:H?e.columns:ze.empty(),rows:oe?e.rows:ze.empty()};C&&(m==="multi-rect"||m==="multi-cell")&&we.current!==void 0&&e.current!==void 0&&(we={...we,current:{...we.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),o(we,d)},[s,e,l,m,z,u,o]),w=_e.useCallback((c,d,C)=>{c=c??e.rows,d!==void 0&&(c=c.add(d));let R;if(u==="exclusive"&&c.length>0)R={current:void 0,columns:ze.empty(),rows:c};else{const $=C&&l==="mixed"||l==="additive",H=C&&s==="mixed"||s==="additive";R={current:$?e.current:void 0,columns:H?e.columns:ze.empty(),rows:c}}o(R,!1)},[s,e,l,u,o]),E=_e.useCallback((c,d,C)=>{c=c??e.columns,d!==void 0&&(c=c.add(d));let R;if(s==="exclusive"&&c.length>0)R={current:void 0,rows:ze.empty(),columns:c};else{const $=C&&l==="mixed"||l==="additive",H=C&&u==="mixed"||u==="additive";R={current:$?e.current:void 0,rows:H?e.rows:ze.empty(),columns:c}}o(R,!1)},[s,e,l,u,o]);return[f,w,E]}function Ds(e,o,l,s,u){const m=n.useCallback(E=>{if(e===!0){const c=[];for(let d=E.y;d<E.y+E.height;d++){const C=[];for(let R=E.x;R<E.x+E.width;R++)R<0||d>=u?C.push({kind:ee.Loading,allowOverlay:!1}):C.push(o([R,d]));c.push(C)}return c}return(e==null?void 0:e(E,s.signal))??[]},[s.signal,o,e,u]),z=e!==void 0?m:void 0,f=n.useCallback(E=>{if(z===void 0)return[];const c={...E,x:E.x-l};if(c.x<0){c.x=0,c.width--;const d=z(c,s.signal);return typeof d=="function"?async()=>(await d()).map(C=>[{kind:ee.Loading,allowOverlay:!1},...C]):d.map(C=>[{kind:ee.Loading,allowOverlay:!1},...C])}return z(c,s.signal)},[s.signal,z,l]);return[e!==void 0?f:void 0,z]}function yr(e){return typeof e=="string"?e:`${e}px`}const Hs=()=>e=>e.innerWidth,Fs=()=>e=>e.innerHeight,$s=Zo("div")({name:"Wrapper",class:"w2q57ts",propsAsIs:!1,vars:{"w2q57ts-0":[Hs()],"w2q57ts-1":[Fs()]}}),As=e=>{const{inWidth:o,inHeight:l,children:s,...u}=e;return n.createElement($s,{innerHeight:yr(l),innerWidth:yr(o),...u},s)},Gs=2,Ks=1300;function Ps(e,o,l){const s=_e.useRef(0),[u,m]=e??[0,0];_e.useEffect(()=>{if(u===0&&m===0){s.current=0;return}let z=!1,f=0;const w=E=>{var c;if(!z){if(f===0)f=E;else{const d=E-f;s.current=Math.min(1,s.current+d/Ks);const C=s.current**1.618*d*Gs;(c=o.current)==null||c.scrollBy(u*C,m*C),f=E,l==null||l()}window.requestAnimationFrame(w)}};return window.requestAnimationFrame(w),()=>{z=!0}},[o,u,m,l])}function Ns(e){const{state:o,keybindings:l,getCellsForSelection:s,coercePasteValue:u,onPaste:m,copyHeaders:z,columnsIn:f,onDelete:w,deleteRange:E,safeWindow:c}=e,{gridSelection:d,gridRef:C,scrollRef:R,canvasRef:$,abortControllerRef:H,rowMarkerOffset:oe,mangledCols:we,mangledRows:F,rows:S,getMangledCellContent:q,mangledOnCellsEdited:ye,getCellRenderer:p}=o,K=n.useCallback(async L=>{var ce,ke,U;if(!l.paste)return;function ie(O,se,k,Y){var Le,Ke;const he=typeof k=="object"?(k==null?void 0:k.join(`
`))??"":(k==null?void 0:k.toString())??"";if(!Yo(O)&&Wt(O)&&O.readonly!==!0){const de=u==null?void 0:u(he,O);if(de!==void 0&&go(de))return{location:se,value:de};const v=p(O);if(v===void 0)return;if(v.kind===ee.Custom){Xo(O.kind===ee.Custom);const be=(Le=v.onPaste)==null?void 0:Le.call(v,he,O.data);return be===void 0?void 0:{location:se,value:{...O,data:be}}}else{const be=(Ke=v.onPaste)==null?void 0:Ke.call(v,he,O,{formatted:Y,formattedString:typeof Y=="string"?Y:Y==null?void 0:Y.join(`
`),rawValue:k});return be===void 0?void 0:(Xo(be.kind===O.kind),{location:se,value:be})}}}const fe=d.columns,V=d.rows,T=((ce=R.current)==null?void 0:ce.contains(document.activeElement))===!0||((ke=$.current)==null?void 0:ke.contains(document.activeElement))===!0;let X;if(d.current!==void 0?X=[d.current.range.x,d.current.range.y]:fe.length===1?X=[fe.first()??0,0]:V.length===1&&(X=[oe,V.first()??0]),T&&X!==void 0){let O,se;const k="text/plain",Y="text/html";if(navigator.clipboard.read!==void 0){const de=await navigator.clipboard.read();for(const v of de){if(v.types.includes(Y)){const I=await(await v.getType(Y)).text(),ae=gr(I);if(ae!==void 0){O=ae;break}}v.types.includes(k)&&(se=await(await v.getType(k)).text())}}else if(navigator.clipboard.readText!==void 0)se=await navigator.clipboard.readText();else if(L!==void 0&&(L==null?void 0:L.clipboardData)!==null){if(L.clipboardData.types.includes(Y)){const de=L.clipboardData.getData(Y);O=gr(de)}O===void 0&&L.clipboardData.types.includes(k)&&(se=L.clipboardData.getData(k))}else return;const[he,Le]=X,Ke=[];do{if(m===void 0){const de=q(X),v=se??(O==null?void 0:O.map(I=>I.map(ae=>ae.rawValue).join("	")).join("	"))??"",be=ie(de,X,v,void 0);be!==void 0&&Ke.push(be);break}if(O===void 0){if(se===void 0)return;O=vi(se)}if(m===!1||typeof m=="function"&&(m==null?void 0:m([X[0]-oe,X[1]],O.map(de=>de.map(v=>{var be;return((be=v.rawValue)==null?void 0:be.toString())??""}))))!==!0)return;for(const[de,v]of O.entries()){if(de+Le>=S)break;for(const[be,I]of v.entries()){const ae=[be+he,de+Le],[We,Xe]=ae;if(We>=we.length||Xe>=F)continue;const W=q(ae),te=ie(W,ae,I.rawValue,I.formatted);te!==void 0&&Ke.push(te)}}}while(!1);ye(Ke),(U=C.current)==null||U.damage(Ke.map(de=>({cell:de.location})))}},[u,p,q,d,l.paste,R,$,we.length,ye,F,m,oe,S,C]);kn("paste",K,c,!1,!0);const P=n.useCallback(async(L,ie)=>{var ce,ke;if(!l.copy)return;const fe=ie===!0||((ce=R.current)==null?void 0:ce.contains(document.activeElement))===!0||((ke=$.current)==null?void 0:ke.contains(document.activeElement))===!0,V=d.columns,T=d.rows,X=(U,O)=>{if(!z)mr(U,O,L);else{const se=O.map(k=>({kind:ee.Text,data:f[k].title,displayData:f[k].title,allowOverlay:!1}));mr([se,...U],O,L)}};if(fe&&s!==void 0){if(d.current!==void 0){let U=s(d.current.range,H.current.signal);typeof U!="object"&&(U=await U()),X(U,Qt(d.current.range.x-oe,d.current.range.x+d.current.range.width-oe))}else if(T!==void 0&&T.length>0){const O=[...T].map(se=>{const k=s({x:oe,y:se,width:f.length,height:1},H.current.signal);return typeof k=="object"?k[0]:k().then(Y=>Y[0])});if(O.some(se=>se instanceof Promise)){const se=await Promise.all(O);X(se,Qt(f.length))}else X(O,Qt(f.length))}else if(V.length>0){const U=[],O=[];for(const se of V){let k=s({x:se,y:0,width:1,height:S},H.current.signal);typeof k!="object"&&(k=await k()),U.push(k),O.push(se-oe)}if(U.length===1)X(U[0],O);else{const se=U.reduce((k,Y)=>k.map((he,Le)=>[...he,...Y[Le]]));X(se,O)}}}},[f,s,d,l.copy,oe,R,$,H,S,z]);kn("copy",P,c,!1,!1);const Q=n.useCallback(async L=>{var fe,V;if(!(!l.cut||!(((fe=R.current)==null?void 0:fe.contains(document.activeElement))===!0||((V=$.current)==null?void 0:V.contains(document.activeElement))===!0))&&(await P(L),d.current!==void 0)){let T={current:{cell:d.current.cell,range:d.current.range,rangeStack:[]},rows:ze.empty(),columns:ze.empty()};const X=w==null?void 0:w(T);if(X===!1||(T=X===void 0||X===!0?T:X,T.current===void 0))return;E(T.current.range)}},[E,d,l.cut,P,R,$,w]);return kn("cut",Q,c,!1,!1),{onCopy:P,onCut:Q,onPasteInternal:K}}function Ws({rowHeight:e,headerHeight:o,groupHeaderHeight:l,theme:s,overscrollX:u,overscrollY:m,scaleToRem:z,remSize:f}){const[w,E,c,d,C,R]=_e.useMemo(()=>{if(!z||f===16)return[e,o,l,s,u,m];const $=f/16,H=e,oe=kr();return[typeof H=="number"?H*$:we=>Math.ceil(H(we)*$),Math.ceil(o*$),Math.ceil(l*$),{...s,headerIconSize:((s==null?void 0:s.headerIconSize)??oe.headerIconSize)*$,cellHorizontalPadding:((s==null?void 0:s.cellHorizontalPadding)??oe.cellHorizontalPadding)*$,cellVerticalPadding:((s==null?void 0:s.cellVerticalPadding)??oe.cellVerticalPadding)*$},Math.ceil((u??0)*$),Math.ceil((m??0)*$)]},[l,o,u,m,f,e,z,s]);return{rowHeight:w,headerHeight:E,groupHeaderHeight:c,theme:d,overscrollX:C,overscrollY:R}}const zt={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function le(e,o){return e===!0?o:e===!1?"":e}function br(e){const o=qo.value;return{activateCell:le(e.activateCell," |Enter|shift+Enter"),clear:le(e.clear,"any+Escape"),closeOverlay:le(e.closeOverlay,"any+Escape"),acceptOverlayDown:le(e.acceptOverlayDown,"Enter"),acceptOverlayUp:le(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:le(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:le(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:le(e.delete,o?"Backspace|Delete":"Delete"),downFill:le(e.downFill,"primary+_68"),scrollToSelectedCell:le(e.scrollToSelectedCell,"primary+Enter"),goDownCell:le(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:le(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:le(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:le(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:le(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:le(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:le(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:le(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:le(e.goToFirstCell,"primary+Home"),goToFirstColumn:le(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:le(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:le(e.goToLastCell,"primary+End"),goToLastColumn:le(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:le(e.goToLastRow,"primary+ArrowDown"),goToNextPage:le(e.goToNextPage,"PageDown"),goToPreviousPage:le(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:le(e.rightFill,"primary+_82"),search:le(e.search,"primary+f"),selectAll:le(e.selectAll,"primary+a"),selectColumn:le(e.selectColumn,"ctrl+ "),selectGrowDown:le(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:le(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:le(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:le(e.selectGrowUp,"shift+ArrowUp"),selectRow:le(e.selectRow,"shift+ "),selectToFirstCell:le(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:le(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:le(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:le(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:le(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:le(e.selectToLastRow,"primary+shift+ArrowDown")}}function Vs(e){const o=pi(e);return _e.useMemo(()=>{if(o===void 0)return br(zt);const l={...o,goToNextPage:(o==null?void 0:o.goToNextPage)??(o==null?void 0:o.pageDown)??zt.goToNextPage,goToPreviousPage:(o==null?void 0:o.goToPreviousPage)??(o==null?void 0:o.pageUp)??zt.goToPreviousPage,goToFirstCell:(o==null?void 0:o.goToFirstCell)??(o==null?void 0:o.first)??zt.goToFirstCell,goToLastCell:(o==null?void 0:o.goToLastCell)??(o==null?void 0:o.last)??zt.goToLastCell,selectToFirstCell:(o==null?void 0:o.selectToFirstCell)??(o==null?void 0:o.first)??zt.selectToFirstCell,selectToLastCell:(o==null?void 0:o.selectToLastCell)??(o==null?void 0:o.last)??zt.selectToLastCell};return br({...zt,...l})},[o])}function Bs(e){function o(s,u,m){if(typeof s=="number")return{headerIndex:s,isCollapsed:!1,depth:u,path:m};const z={headerIndex:s.headerIndex,isCollapsed:s.isCollapsed,depth:u,path:m};return s.subGroups!==void 0&&(z.subGroups=s.subGroups.map((f,w)=>o(f,u+1,[...m,w])).sort((f,w)=>f.headerIndex-w.headerIndex)),z}return e.map((s,u)=>o(s,0,[u])).sort((s,u)=>s.headerIndex-u.headerIndex)}function En(e,o){const l=[];function s(f,w,E=!1){let c=w!==null?w-f.headerIndex:o-f.headerIndex;if(f.subGroups!==void 0&&(c=f.subGroups[0].headerIndex-f.headerIndex),c--,l.push({rowIndex:-1,headerIndex:f.headerIndex,contentIndex:-1,skip:E,isCollapsed:f.isCollapsed,depth:f.depth,path:f.path,rows:c}),f.subGroups)for(let d=0;d<f.subGroups.length;d++){const C=d<f.subGroups.length-1?f.subGroups[d+1].headerIndex:w;s(f.subGroups[d],C,E||f.isCollapsed)}}const u=Bs(e.groups);for(let f=0;f<u.length;f++){const w=f<u.length-1?u[f+1].headerIndex:null;s(u[f],w)}let m=0,z=0;for(const f of l)f.contentIndex=z,z+=f.rows,f.rowIndex=m,m+=f.isCollapsed?1:f.rows+1;return l.filter(f=>f.skip===!1).map(f=>{const{skip:w,...E}=f;return E})}function Tn(e,o){if(o===void 0||En.length===0)return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1};let l=e;for(const s of o){if(l===0)return{path:[...s.path,-1],originalIndex:s.headerIndex,isGroupHeader:!0,groupIndex:-1,contentIndex:-1,groupRows:s.rows};if(s.isCollapsed)l--;else{if(l<=s.rows)return{path:[...s.path,l-1],originalIndex:s.headerIndex+l,isGroupHeader:!1,groupIndex:l-1,contentIndex:s.contentIndex+l-1,groupRows:s.rows};l=l-s.rows-1}}return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1}}function Us(e,o,l,s){const u=_e.useMemo(()=>e===void 0?void 0:En(e,o),[e,o]),m=_e.useMemo(()=>u==null?void 0:u.reduce((c,d)=>(c[d.rowIndex]=d,c),{}),[u]),z=_e.useMemo(()=>u===void 0?o:u.reduce((c,d)=>c+(d.isCollapsed?1:d.rows+1),0),[u,o]),f=_e.useMemo(()=>e===void 0||typeof l=="number"&&e.height===l?l:c=>m!=null&&m[c]?e.height:typeof l=="number"?l:l(c),[m,e,l]),w=_e.useCallback(c=>{if(u===void 0)return c;let d=c;for(const C of u){if(d===0)return;if(d--,!C.isCollapsed){if(d<C.rows)return C.contentIndex+d;d-=C.rows}}return c},[u]),E=Dt(s??(e==null?void 0:e.themeOverride),_e.useCallback(c=>{if(e===void 0)return s==null?void 0:s(c,c,c);if(s===void 0&&(e==null?void 0:e.themeOverride)===void 0)return;const{isGroupHeader:d,contentIndex:C,groupIndex:R}=Tn(c,u);return d?e.themeOverride:s==null?void 0:s(c,R,C)},[u,s,e]));return e===void 0?{rowHeight:f,rows:o,rowNumberMapper:w,getRowThemeOverride:E}:{rowHeight:f,rows:z,rowNumberMapper:w,getRowThemeOverride:E}}function Os(e,o){const l=_e.useMemo(()=>e===void 0?void 0:En(e,o),[e,o]);return{getRowGroupingForPath:Er,updateRowGroupingByPath:Tr,mapper:_e.useCallback(s=>{if(typeof s=="number")return Tn(s,l);const u=Tn(s[1],l);return{...u,originalIndex:[s[0],u.originalIndex]}},[l])}}function Tr(e,o,l){const[s,...u]=o;return u[0]===-1?e.map((m,z)=>z===s?{...m,...l}:m):e.map((m,z)=>z===s?{...m,subGroups:Tr(m.subGroups??[],u,l)}:m)}function Er(e,o){const[l,...s]=o;return s[0]===-1?e[l]:Er(e[l].subGroups??[],s)}function _s(e,o){const[l]=n.useState(()=>({value:e,callback:o,facade:{get current(){return l.value},set current(s){const u=l.value;u!==s&&(l.value=s,l.callback(s,u))}}}));return l.callback=o,l.facade}function Xs(e,o,l,s,u){const[m,z]=n.useMemo(()=>[o!==void 0&&typeof l=="number"?Math.floor(o/l):0,o!==void 0&&typeof l=="number"?-(o%l):0],[o,l]),f=n.useMemo(()=>({x:s.current.x,y:m,width:s.current.width??1,height:s.current.height??1,ty:z}),[s,z,m]),[w,E,c]=Ci(f),d=n.useRef(u);d.current=u;const C=_s(null,H=>{H!==null&&o!==void 0?H.scrollTop=o:H!==null&&e!==void 0&&(H.scrollLeft=e)}),R=(w.height??1)>1;n.useLayoutEffect(()=>{if(o!==void 0&&C.current!==null&&R){if(C.current.scrollTop===o)return;C.current.scrollTop=o,C.current.scrollTop!==o&&c(),d.current()}},[o,R,c,C]);const $=(w.width??1)>1;return n.useLayoutEffect(()=>{if(e!==void 0&&C.current!==null&&$){if(C.current.scrollLeft===e)return;C.current.scrollLeft=e,C.current.scrollLeft!==e&&c(),d.current()}},[e,$,c,C]),{visibleRegion:w,setVisibleRegion:E,scrollRef:C}}const Ys=Zo("textarea")({name:"GhostInputBox",class:"gxeqqyx",propsAsIs:!1}),qs=(e,o)=>{const{onInput:l,onCompositionStart:s,onCompositionEnd:u,onKeyDown:m,onKeyUp:z,onFocus:f,onBlur:w,disabled:E=!1}=e,c=n.useRef(null),d=n.useRef(!1),C=n.useRef({width:0,height:0}),R=n.useCallback(()=>{const S=c.current;if(!S||S.style.opacity==="0")return;const q=C.current.width,ye=C.current.height;S.style.width=`${q}px`,S.style.height=`${ye}px`;const p=Math.max(q,S.scrollWidth+2),K=Math.max(ye,S.scrollHeight+2);S.style.width=`${p}px`,S.style.height=`${K}px`},[]);n.useImperativeHandle(o,()=>({focus:()=>{var S;(S=c.current)==null||S.focus({preventScroll:!0})},blur:()=>{var S;(S=c.current)==null||S.blur()},clear:()=>{c.current&&(c.current.value="",c.current.setSelectionRange(0,0))},getValue:()=>{var S;return((S=c.current)==null?void 0:S.value)??""},setValue:S=>{if(c.current){c.current.value=S;const q=S.length;c.current.setSelectionRange(q,q)}},setPosition:(S,q,ye,p)=>{const K=c.current;K&&(C.current={width:ye,height:p},K.style.left=`${S}px`,K.style.top=`${q}px`,K.style.width=`${ye}px`,K.style.height=`${p}px`)},setVisible:S=>{const q=c.current;q&&(S?(q.style.opacity="1",q.style.pointerEvents="auto",q.style.zIndex="10000"):(q.style.left="-9999px",q.style.top="0",q.style.width="1px",q.style.height="1px",q.style.opacity="0",q.style.pointerEvents="none",q.style.zIndex="0"))}}));const $=n.useCallback(S=>{const q=S.currentTarget;l(q.value,d.current),R()},[l,R]),H=n.useCallback(()=>{d.current=!0,s()},[s]),oe=n.useCallback(S=>{d.current=!1,u(S.currentTarget.value)},[u]),we=n.useCallback(S=>{m(S)},[m]),F=n.useCallback(S=>{z==null||z(S)},[z]);return n.createElement(Ys,{ref:c,defaultValue:"",tabIndex:E?-1:0,disabled:E,onInput:$,onCompositionStart:H,onCompositionEnd:oe,onKeyDown:we,onKeyUp:F,onFocus:f,onBlur:w,"aria-label":"Grid input",wrap:"off",rows:1,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})},Zs=n.memo(n.forwardRef(qs));function Js(e){const{state:o,onKeyDown:l,onFinishEditing:s,onKeyUpIn:u,onCellActivated:m,setIsFocused:z}=e,{gridSelection:f,overlayRef:w,ghostInputRef:E,ghostInputVisibleRef:c,gridRef:d,rowMarkerOffset:C,getMangledCellContent:R,reselect:$}=o,H=n.useCallback((p,K)=>{var P;if(w.current===void 0&&!K&&p.length>0&&p.trim().length>0&&f.current!==void 0){const[Q,L]=f.current.cell,ie=R([Q,L]);if(ie.kind===ee.Custom){const fe=ie.data,V=fe==null?void 0:fe.kind;if(V!=="number-cell"&&V!=="date-picker-cell")return}if(ie.allowOverlay&&Wt(ie)&&ie.readonly!==!0){const fe=(P=d.current)==null?void 0:P.getBounds(Q,L);if(fe!==void 0){const V={inputType:"keyboard",key:p};m==null||m([Q-C,L],V),$(fe,V,p)}}}},[f,R,C,m,$,d,w]),oe=n.useCallback(()=>{var Q,L,ie,fe,V;if(f.current===void 0)return;const[p,K]=f.current.cell,P=(Q=w.current)==null?void 0:Q.cell;if(P!==void 0&&(P[0]!==p||P[1]!==K)&&((L=E.current)==null||L.clear(),(ie=E.current)==null||ie.setVisible(!1),o.setGhostInputVisible(!1),w.current=void 0,o.setOverlay(void 0)),w.current===void 0){const T=R([p,K]);if(T.kind===ee.Custom){const X=T.data,ce=X==null?void 0:X.kind;if(ce!=="number-cell"&&ce!=="date-picker-cell")return}if(T.allowOverlay&&Wt(T)&&T.readonly!==!0){const X=(fe=d.current)==null?void 0:fe.getBounds(p,K);if(X!==void 0){(V=E.current)==null||V.clear();const ce={inputType:"keyboard",key:""};m==null||m([p-C,K],ce),$(X,ce,"")}}}},[f,R,C,m,$,E,d,w,o]),we=n.useCallback(p=>{},[]),F=n.useCallback(p=>{var ie,fe;if(p.nativeEvent.isComposing)return;if(w.current!==void 0&&c.current){const V=p.key;if(w.current.content.kind===ee.Custom){const X=p.key;(X==="Enter"||X==="Tab"||X==="Escape")&&(p.preventDefault(),p.stopPropagation());return}if(V==="Escape"){p.preventDefault(),p.stopPropagation(),s(void 0,[0,0]);return}if(V==="Enter"&&!p.shiftKey){p.preventDefault(),p.stopPropagation(),s(void 0,[0,1]);return}if(V==="Tab"){p.preventDefault(),p.stopPropagation(),s(void 0,p.shiftKey?[-1,0]:[1,0]);return}}{const V=p.key;if(V.length===1&&!p.ctrlKey&&!p.metaKey&&!p.altKey)if(V===" "&&f.current!==void 0){const X=f.current.cell,ce=R(X);if(!(ce.kind===ee.Boolean&&ce.readonly!==!0))return}else return}if(w.current!==void 0&&c.current){const V=p.key;if(V==="Backspace"||V==="Delete"||(V==="ArrowLeft"||V==="ArrowRight"||V==="ArrowUp"||V==="ArrowDown"||V==="Home"||V==="End"))return}const K=(ie=f.current)==null?void 0:ie.cell,P=K!==void 0?(fe=d.current)==null?void 0:fe.getBounds(K[0],K[1]):void 0;let Q=!1;const L={bounds:P,cancel:()=>{Q=!0},stopPropagation:()=>p.stopPropagation(),preventDefault:()=>p.preventDefault(),ctrlKey:p.ctrlKey,metaKey:p.metaKey,shiftKey:p.shiftKey,altKey:p.altKey,key:p.key,keyCode:p.keyCode,rawEvent:p,location:K};l(L),Q&&(p.preventDefault(),p.stopPropagation())},[f,l,s,R,w,c,d]),S=n.useCallback(p=>{var L,ie;const K=(L=f.current)==null?void 0:L.cell,Q={bounds:K!==void 0?(ie=d.current)==null?void 0:ie.getBounds(K[0],K[1]):void 0,cancel:()=>{},stopPropagation:()=>p.stopPropagation(),preventDefault:()=>p.preventDefault(),ctrlKey:p.ctrlKey,metaKey:p.metaKey,shiftKey:p.shiftKey,altKey:p.altKey,key:p.key,keyCode:p.keyCode,rawEvent:p,location:K};u==null||u(Q)},[f,u,d]),q=n.useCallback(()=>{z(!0)},[z]),ye=n.useCallback(()=>{z(!1)},[z]);return{onGhostInput:H,onGhostCompositionStart:oe,onGhostCompositionEnd:we,onGhostKeyDown:F,onGhostKeyUp:S,onGhostFocus:q,onGhostBlur:ye}}function Qs(e){const{state:o,mouseState:l,setMouseState:s,fillHighlightRegion:u,setFillHighlightRegion:m,setScrollDir:z,handleSelect:f,onMouseMove:w,onCellClicked:E,onCellActivated:c,onCellContextMenu:d,onHeaderContextMenu:C,onGroupHeaderContextMenu:R,onHeaderClicked:$,onGroupHeaderClicked:H,onColumnResize:oe,onFillPattern:we,cellActivationBehavior:F,columnSelect:S,columnSelectionMode:q,columns:ye,mergedTheme:p,minColumnWidth:K,maxColumnWidth:P,themeForCell:Q,getCellsForSelection:L,setSelectedColumns:ie,visibleRegion:fe,lastMouseSelectLocation:V}=e,{gridSelection:T,gridRef:X,visibleRegionRef:ce,abortControllerRef:ke,rowMarkerOffset:U,mangledCols:O,rows:se,setGridSelection:k,getMangledCellContent:Y,mangledOnCellsEdited:he,reselect:Le,focus:Ke,getCellRenderer:de}=o,v=n.useRef(!1),be=n.useRef(fe),I=n.useRef(void 0),ae=n.useRef(!1),We=n.useCallback(b=>{if(ae.current=!1,be.current=ce.current,b.button!==0&&b.button!==1){I.current=void 0;return}const De=performance.now();I.current={button:b.button,time:De,location:b.location},(b==null?void 0:b.kind)==="header"&&(v.current=!0);const N=b.kind==="cell"&&b.isFillHandle;!N&&b.kind!=="cell"&&b.isEdge||(s({previousSelection:T,fillHandle:N}),V.current=void 0,!b.isTouch&&b.button===0&&!N?f(b):!b.isTouch&&b.button===1&&(V.current=b.location))},[T,f]),Xe=n.useCallback(b=>{if(b.kind!==Jt||S!=="multi")return;const De=qo.value?b.metaKey:b.ctrlKey,[N,j]=b.location,He=T.columns;if(N<U)return;const Be=O[N];let $e=N,_=N;const Re=j<=-2?-(j+2):0,ge=Array.isArray(Be.group)?Be.group.length:1,nt=(Ne,me)=>ge>1?ki(Ne,me,Re,ge):Ri(Ne,me);for(let Ne=N-1;Ne>=U&&nt(Be.group,O[Ne].group);Ne--)$e--;for(let Ne=N+1;Ne<O.length&&nt(Be.group,O[Ne].group);Ne++)_++;if(Ke(),De||b.isTouch||q==="multi")if(He.hasAll([$e,_+1])){let Ne=He;for(let me=$e;me<=_;me++)Ne=Ne.remove(me);ie(Ne,void 0,De)}else ie(void 0,[$e,_+1],De);else ie(ze.fromSingleSelection([$e,_+1]),void 0,De)},[S,Ke,T.columns,O,U,ie,q]),W=n.useCallback(async b=>{if(L!==void 0&&oe!==void 0){const De=ce.current.y,N=ce.current.height;let j=L({x:b,y:De,width:1,height:Math.min(N,se-De)},ke.current.signal);typeof j!="object"&&(j=await j());const He=ye[b-U],$e=document.createElement("canvas").getContext("2d",{alpha:!1});if($e!==null){$e.font=p.baseFontFull;const _=Mr($e,p,He,0,j,K,P,!1,de);oe==null||oe(He,_.width,b,_.width)}}},[ye,L,P,p,K,oe,U,se,de]),te=n.useCallback(async(b,De)=>{var _,Re;const N=(_=b.current)==null?void 0:_.range;if(N===void 0||L===void 0||De.current===void 0)return;const j=De.current.range;if(we!==void 0){let ge=!1;if(we({fillDestination:{...j,x:j.x-U},patternSource:{...N,x:N.x-U},preventDefault:()=>ge=!0}),ge)return}let He=L(N,ke.current.signal);typeof He!="object"&&(He=await He());const Be=He,$e=[];for(let ge=0;ge<j.width;ge++)for(let nt=0;nt<j.height;nt++){const Ne=[j.x+ge,j.y+nt];if(wi(Ne,N))continue;const me=Be[nt%N.height][ge%N.width];Yo(me)||!Wt(me)||$e.push({location:Ne,value:{...me}})}he($e),(Re=X.current)==null||Re.damage($e.map(ge=>({cell:ge.location})))},[L,he,we,U]),ne=n.useCallback(()=>{if(T.current===void 0||T.current.range.width<=1)return;const b={...T,current:{...T.current,range:{...T.current.range,width:1}}};te(b,T)},[te,T]),ut=n.useCallback(()=>{if(T.current===void 0||T.current.range.height<=1)return;const b={...T,current:{...T.current,range:{...T.current.range,height:1}}};te(b,T)},[te,T]),et=n.useCallback((b,De)=>{var nt,Ne;const N=l;if(s(void 0),m(void 0),z(void 0),v.current=!1,De)return;if((N==null?void 0:N.fillHandle)===!0&&T.current!==void 0&&((nt=N.previousSelection)==null?void 0:nt.current)!==void 0){if(u===void 0)return;const me={...T,current:{...T.current,range:yi(N.previousSelection.current.range,u)}};te(N.previousSelection,me),k(me,!0);return}const[j,He]=b.location,[Be,$e]=V.current??[],_=()=>{ae.current=!0},Re=me=>{var mo,vo,po;const dt=me.isTouch||Be===j&&$e===He;if(dt&&(E==null||E([j-U,He],{...me,preventDefault:_})),me.button===1)return!ae.current;if(!ae.current){const qe=Y(b.location),jt=de(qe);if(jt!==void 0&&jt.onClick!==void 0&&dt){const rt=jt.onClick({...me,cell:qe,posX:me.localEventX,posY:me.localEventY,bounds:me.bounds,theme:Q(qe,b.location),preventDefault:_});rt!==void 0&&!Yo(rt)&&go(rt)&&(he([{location:me.location,value:rt}]),(mo=X.current)==null||mo.damage([{cell:me.location}]))}if(ae.current||T.current===void 0)return!1;let Ht=!1;switch(qe.activationBehaviorOverride??F){case"double-click":case"second-click":{if(((po=(vo=N==null?void 0:N.previousSelection)==null?void 0:vo.current)==null?void 0:po.cell)===void 0)break;const[rt,vt]=T.current.cell,[Vt,Bt]=N.previousSelection.current.cell;Ht=j===rt&&j===Vt&&He===vt&&He===Bt&&(me.isDoubleClick===!0||F==="second-click");break}case"single-click":{Ht=!0;break}}if(Ht){const vt={inputType:"pointer",pointerActivation:me.isDoubleClick===!0?"double-click":qe.activationBehaviorOverride??F,pointerType:me.isTouch?"touch":"mouse"};return c==null||c([j-U,He],vt),Le(me.bounds,vt),!0}}return!1},ge=b.location[0]-U;if(b.isTouch){const me=ce.current,dt=be.current;if(me.x!==dt.x||me.y!==dt.y)return;if(b.isLongTouch===!0){if(b.kind==="cell"&&bi((Ne=T.current)==null?void 0:Ne.cell,b.location)){d==null||d([ge,b.location[1]],{...b,preventDefault:_});return}else if(b.kind==="header"&&T.columns.hasIndex(j)){C==null||C(ge,{...b,preventDefault:_});return}else if(b.kind===Jt){if(ge<0)return;R==null||R(ge,{...b,preventDefault:_});return}}b.kind==="cell"?Re(b)||f(b):b.kind===Jt?H==null||H(ge,{...b,preventDefault:_}):(b.kind===xi&&($==null||$(ge,{...b,preventDefault:_})),f(b));return}if(b.kind==="header"){if(ge<0)return;b.isEdge?b.isDoubleClick===!0&&W(j):b.button===0&&j===Be&&He===$e&&($==null||$(ge,{...b,preventDefault:_}))}if(b.kind===Jt){if(ge<0)return;b.button===0&&j===Be&&He===$e&&(H==null||H(ge,{...b,preventDefault:_}),ae.current||Xe(b))}b.kind==="cell"&&(b.button===0||b.button===1)&&Re(b),V.current=void 0},[l,T,U,u,te,k,E,Y,de,F,Q,he,c,Le,d,C,R,f,H,$,W,Xe]),xt=n.useCallback(b=>{const De={...b,location:[b.location[0]-U,b.location[1]]};w==null||w(De),l!==void 0&&b.buttons===0&&(s(void 0),m(void 0),z(void 0),v.current=!1),z(N=>{var j;return v.current?[b.scrollEdge[0],0]:b.scrollEdge[0]===(N==null?void 0:N[0])&&b.scrollEdge[1]===N[1]?N:l===void 0||(((j=I.current)==null?void 0:j.location[0])??0)<U?void 0:b.scrollEdge})},[l,w,U]);return{onMouseDown:We,onMouseUp:et,onMouseMoveImpl:xt,handleGroupHeaderSelection:Xe,normalSizeColumn:W,fillDown:ut,fillRight:ne,mouseDownData:I,isActivelyDraggingHeader:v}}const js=n.lazy(async()=>await hi(()=>import("./image-window-loader-DuEXGL_L.js").then(e=>e.$),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url));let ec=0;function tc(e){return Pi(wr(wr(e).filter(o=>o.span!==void 0).map(o=>{var l,s;return Qt((((l=o.span)==null?void 0:l[0])??0)+1,(((s=o.span)==null?void 0:s[1])??0)+1)})))}function _o(e,o){return e===void 0||o===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+o,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+o},rangeStack:e.current.rangeStack.map(l=>({...l,x:l.x+o}))},rows:e.rows,columns:e.columns.offset(o)}}const Lt={kind:ee.Loading,allowOverlay:!1},Mn={columns:ze.empty(),rows:ze.empty(),current:void 0},oc=(e,o)=>{var ur,dr,fr;const[l,s]=n.useState(Mn),[u,m]=n.useState(),z=n.useRef(null),f=n.useRef(null),[w,E]=n.useState(),[c,d]=n.useState(),C=n.useRef(void 0),R=n.useRef(null),[$,H]=n.useState(!1),oe=n.useRef($);oe.current=$;const we=n.useRef(u);we.current=u;const F=typeof window>"u"?null:window,{imageEditorOverride:S,getRowThemeOverride:q,markdownDivCreateNode:ye,width:p,height:K,columns:P,rows:Q,getCellContent:L,onCellClicked:ie,onCellActivated:fe,onFillPattern:V,onFinishedEditing:T,coercePasteValue:X,drawHeader:ce,drawCell:ke,editorBloom:U,onHeaderClicked:O,onColumnProposeMove:se,rangeSelectionColumnSpanning:k=!0,spanRangeBehavior:Y="default",onGroupHeaderClicked:he,onCellContextMenu:Le,className:Ke,onHeaderContextMenu:de,getCellsForSelection:v,onGroupHeaderContextMenu:be,onGroupHeaderRenamed:I,onCellEdited:ae,onCellsEdited:We,onSearchResultsChanged:Xe,searchResults:W,onSearchValueChange:te,searchValue:ne,onKeyDown:ut,onKeyUp:et,keybindings:xt,editOnType:b=!0,onRowAppended:De,onColumnAppended:N,onColumnMoved:j,validateCell:He,highlightRegions:Be,rangeSelect:$e="rect",columnSelect:_="multi",rowSelect:Re="multi",rangeSelectionBlending:ge="exclusive",columnSelectionBlending:nt="exclusive",rowSelectionBlending:Ne="exclusive",onDelete:me,onDragStart:dt,onMouseMove:mo,onPaste:vo,copyHeaders:po=!1,freezeColumns:qe=0,cellActivationBehavior:jt="second-click",rowSelectionMode:Ht="auto",columnSelectionMode:rt="auto",onHeaderMenuClick:vt,onHeaderIndicatorClick:Vt,getGroupDetails:Bt,rowGrouping:pt,onSearchClose:Jo,onItemHovered:Co,onSelectionCleared:eo,showSearch:Ir,onVisibleRegionChanged:wo,gridSelection:Ft,onGridSelectionChange:Qo,minColumnWidth:zr=50,maxColumnWidth:Lr=500,maxColumnAutoWidth:Dr,provideEditor:Hr,trailingRowOptions:Me,freezeTrailingRows:Ct=0,allowedFillDirections:In="orthogonal",scrollOffsetX:Fr,scrollOffsetY:$r,verticalBorder:Ut,onDragOverCell:Ar,onDrop:Gr,onColumnResize:to,onColumnResizeEnd:oo,onColumnResizeStart:no,customRenderers:yo,fillHandle:Kr,experimental:Ue,fixedShadowX:Pr,fixedShadowY:Nr,headerIcons:Wr,imageWindowLoader:Vr,initialSize:Br,isDraggable:Ur,onDragLeave:Or,onRowMoved:ro,overscrollX:_r,overscrollY:Xr,preventDiagonalScrolling:Yr,rightElement:qr,rightElementProps:Zr,trapFocus:Jr=!1,smoothScrollX:Qr,smoothScrollY:jr,scaleToRem:el=!1,rowHeight:tl=34,headerHeight:zn=36,groupHeaderHeight:ol=zn,theme:nl,isOutsideClick:rl,renderers:jo,resizeIndicator:ll,scrollToActiveCell:Ln=!0,drawFocusRing:Dn=!0,portalElementRef:bo,onRowStatus:xo,onRowId:ko}=e,Hn=Dn==="no-editor"?u===void 0:Dn,J=typeof e.rowMarkers=="string"?void 0:e.rowMarkers,il=(J==null?void 0:J.rowNumber)??!1;let Ro=(J==null?void 0:J.kind)??e.rowMarkers??"none",lt=il;(Ro==="both"||Ro==="checkbox-and-number")&&(Ro="checkbox",lt=!0);const st=Ro,sl=(J==null?void 0:J.width)??e.rowMarkerWidth,en=(J==null?void 0:J.startIndex)??e.rowMarkerStartIndex??1,tn=(J==null?void 0:J.theme)??e.rowMarkerTheme,on=J==null?void 0:J.headerTheme,Fn=J==null?void 0:J.headerAlwaysVisible,Mo=Re!=="multi"||(J==null?void 0:J.headerDisabled)===!0,Ot=(J==null?void 0:J.checkboxStyle)??"square",cl=(J==null?void 0:J.rowStatus)??!1,nn=(J==null?void 0:J.rowStatusWidth)??40,So=J==null?void 0:J.rowStatusTheme,al=(J==null?void 0:J.rowId)??!1,rn=(J==null?void 0:J.rowIdWidth)??80,To=J==null?void 0:J.rowIdTheme,lo=Math.max(zr,20),ln=Math.max(Lr,lo),ul=Math.max(Dr??ln,lo),$n=n.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),{rows:ve,rowNumberMapper:sn,rowHeight:dl,getRowThemeOverride:wt}=Us(pt,Q,tl,q),fl=n.useMemo(()=>Number.parseFloat($n.fontSize),[$n]),{rowHeight:kt,headerHeight:An,groupHeaderHeight:cn,theme:Gn,overscrollX:hl,overscrollY:gl}=Ws({groupHeaderHeight:ol,headerHeight:zn,overscrollX:_r,overscrollY:Xr,remSize:fl,rowHeight:dl,scaleToRem:el,theme:nl}),Kn=Vs(xt),io=sl??(Q>1e4?48:Q>1e3?44:Q>100?36:32),ct=st!=="none",_t=cl===!0,Xt=al===!0,g=(ct?lt?2:1:0)+(_t?1:0)+(Xt?1:0),an=(ct?(lt?2:1)*io:0)+(_t?nn:0)+(Xt?rn:0),Oe=Me!==void 0,so=(Me==null?void 0:Me.sticky)===!0,[ml,Pn]=n.useState(!1),vl=Ir??ml,pl=n.useCallback(()=>{Jo!==void 0?Jo():Pn(!1)},[Jo]),D=n.useMemo(()=>Ft===void 0?void 0:_o(Ft,g),[Ft,g])??l,Rt=n.useRef(new AbortController);n.useEffect(()=>()=>Rt==null?void 0:Rt.current.abort(),[]);const[Mt,Cl]=Ds(v,L,g,Rt.current,ve),wl=n.useCallback((t,r,a)=>{if(He===void 0)return!0;const i=[t[0]-g,t[1]];return He==null?void 0:He(i,r,a)},[g,He]),Eo=n.useRef(Ft),St=n.useCallback((t,r)=>{r&&(t=Mi(t,Mt,g,Y,Rt.current)),Qo!==void 0?(Eo.current=_o(t,-g),Qo(Eo.current)):s(t)},[Qo,Mt,g,Y]),Nn=Dt(to,n.useCallback((t,r,a,i)=>{to==null||to(P[a-g],r,a-g,i)},[to,g,P])),yl=Dt(oo,n.useCallback((t,r,a,i)=>{oo==null||oo(P[a-g],r,a-g,i)},[oo,g,P])),bl=Dt(no,n.useCallback((t,r,a,i)=>{no==null||no(P[a-g],r,a-g,i)},[no,g,P])),xl=Dt(ce,n.useCallback((t,r)=>(ce==null?void 0:ce({...t,columnIndex:t.columnIndex-g},r))??!1,[ce,g])),kl=Dt(ke,n.useCallback((t,r)=>(ke==null?void 0:ke({...t,col:t.col-g},r))??!1,[ke,g])),Wn=n.useCallback(t=>{if(me!==void 0){const r=me(_o(t,-g));return typeof r=="boolean"?r:_o(r,g)}return!0},[me,g]),[Ye,it,tt]=Ls(D,St,ge,nt,Ne,$e,k),Je=n.useMemo(()=>Rn(kr(),Gn),[Gn]),[un,Rl]=n.useState([0,0,0]),Vn=n.useMemo(()=>{if(jo===void 0)return{};const t={};for(const r of jo)t[r.kind]=r;return t},[jo]),ft=n.useCallback(t=>t.kind!==ee.Custom?Vn[t.kind]:yo==null?void 0:yo.find(r=>r.isMatch(t)),[yo,Vn]);let{sizedColumns:at,nonGrowWidth:Bn}=Es(P,ve,Cl,un[0]-an-un[2],lo,ul,Je,ft,Rt.current);Bn+=an;const co=n.useMemo(()=>{let t=0;for(const r of at)r.group!==void 0&&(typeof r.group=="string"?t=Math.max(t,1):t=Math.max(t,r.group.length));return t},[at]),Un=co>0,On=n.useMemo(()=>co===0?[]:Array(co).fill(cn),[co,cn]),Ml=On.reduce((t,r)=>t+r,0),ao=An+Ml,_n=D.rows.length,Xn=st==="none"?void 0:_n===0?!1:_n===ve?!0:void 0,Ie=n.useMemo(()=>{const t=[];return st!=="none"&&(lt&&t.push({title:"",width:io,icon:void 0,hasMenu:!1,style:"normal",themeOverride:tn,rowMarker:Ot,rowMarkerChecked:!1,headerRowMarkerTheme:on,headerRowMarkerAlwaysVisible:!1,headerRowMarkerDisabled:!0}),t.push({title:"",width:io,icon:void 0,hasMenu:!1,style:"normal",themeOverride:tn,rowMarker:Ot,rowMarkerChecked:Xn,headerRowMarkerTheme:on,headerRowMarkerAlwaysVisible:Fn,headerRowMarkerDisabled:Mo})),_t&&t.push({title:"",width:nn,icon:void 0,hasMenu:!1,style:"normal",themeOverride:So}),Xt&&t.push({title:"ID",width:rn,icon:void 0,hasMenu:!1,style:"normal",themeOverride:To}),[...t,...at]},[_t,nn,So,Xt,rn,To,st,at,io,tn,Ot,Xn,on,Fn,Mo,lt]),Tt=n.useRef({height:1,width:1,x:0,y:0}),Io=n.useRef(!1),{setVisibleRegion:Yn,visibleRegion:$t,scrollRef:Ae}=Xs(Fr,$r,kt,Tt,()=>Io.current=!0);Tt.current=$t;const Sl=$t.x+g,zo=$t.y,Qe=n.useRef(null),je=n.useCallback(t=>{var r;t===!0?(r=R.current)==null||r.focus():window.requestAnimationFrame(()=>{var a;(a=R.current)==null||a.focus()})},[]),Ze=Oe?ve+1:ve,At=n.useCallback(t=>{const r=g===0?t:t.map(i=>({...i,location:[i.location[0]-g,i.location[1]]})),a=We==null?void 0:We(r);if(a!==!0)for(const i of r)ae==null||ae(i.location,i.value);return a},[ae,We,g]),[uo,qn]=n.useState(),Lo=D.current!==void 0&&D.current.range.width*D.current.range.height>1?D.current.range:void 0,Yt=Hn?(ur=D.current)==null?void 0:ur.cell:void 0,Do=Yt==null?void 0:Yt[0],Ho=Yt==null?void 0:Yt[1],Tl=n.useMemo(()=>{if((Be===void 0||Be.length===0)&&(Lo??Do??Ho??uo)===void 0)return;const t=[];if(Be!==void 0)for(const r of Be){const a=Ie.length-r.range.x-g;a>0&&t.push({color:r.color,range:{...r.range,x:r.range.x+g,width:Math.min(a,r.range.width)},style:r.style})}return uo!==void 0&&t.push({color:vr(Je.accentColor,0),range:uo,style:"dashed"}),Lo!==void 0&&t.push({color:vr(Je.accentColor,.5),range:Lo,style:"solid-outline"}),Do!==void 0&&Ho!==void 0&&t.push({color:Je.accentColor,range:{x:Do,y:Ho,width:1,height:1},style:"solid-outline"}),t.length>0?t:void 0},[uo,Lo,Do,Ho,Be,Ie.length,Je.accentColor,g]),Zn=n.useRef(Ie);Zn.current=Ie;const yt=n.useCallback(([t,r],a=!1)=>{var B,Z,Se,xe,pe,G,Ee,Te,ue;const i=Oe&&r===Ze-1;let h=0,y=-1,x=-1,M=-1,A=-1;if(ct&&lt&&(y=h++),ct&&(x=h++),_t&&(M=h++),Xt&&(A=h++),t===y){if(i)return Lt;const Ce=sn(r);return Ce===void 0?Lt:{kind:Pt.Marker,allowOverlay:!1,checkboxStyle:Ot,checked:!1,markerKind:"number",row:en+Ce,drawHandle:!1,cursor:void 0,disabled:((B=e.disabledRows)==null?void 0:B.call(e,r))===!0}}if(t===x){if(i)return Lt;const Ce=sn(r);if(Ce===void 0)return Lt;let Ve;return lt?Ve=st==="checkbox-visible"?"checkbox-visible":"checkbox":st==="clickable-number"?Ve="number":Ve=st,{kind:Pt.Marker,allowOverlay:!1,checkboxStyle:Ot,checked:(D==null?void 0:D.rows.hasIndex(r))===!0,markerKind:Ve,row:en+Ce,drawHandle:ro!==void 0,cursor:lt?void 0:st==="clickable-number"?"pointer":void 0,disabled:((Z=e.disabledRows)==null?void 0:Z.call(e,r))===!0}}if(t===M){if(i)return Lt;const Ce=xo==null?void 0:xo(r);return{kind:Pt.RowStatus,allowOverlay:!1,status:Ce,themeOverride:So}}if(t===A){if(i)return Lt;const Ce=ko==null?void 0:ko(r);return{kind:Pt.RowId,allowOverlay:!1,rowId:Ce,themeOverride:To}}if(i){const Ve=t===g?(Me==null?void 0:Me.hint)??"":"",Fe=Zn.current[t];if(((Se=Fe==null?void 0:Fe.trailingRowOptions)==null?void 0:Se.disabled)===!0)return Lt;{const ot=((xe=Fe==null?void 0:Fe.trailingRowOptions)==null?void 0:xe.hint)??Ve,gt=((pe=Fe==null?void 0:Fe.trailingRowOptions)==null?void 0:pe.addIcon)??(Me==null?void 0:Me.addIcon);return{kind:Pt.NewRow,hint:ot,allowOverlay:!1,icon:gt}}}else{const Ce=t-g;if(a||(Ue==null?void 0:Ue.strict)===!0){const Fe=Tt.current,ot=Fe.x>Ce||Ce>Fe.x+Fe.width||Fe.y>r||r>Fe.y+Fe.height||r>=gn.current,gt=Ce===((Ee=(G=Fe.extras)==null?void 0:G.selected)==null?void 0:Ee[0])&&r===((Te=Fe.extras)==null?void 0:Te.selected[1]);let mt=!1;if(((ue=Fe.extras)==null?void 0:ue.freezeRegions)!==void 0){for(const It of Fe.extras.freezeRegions)if(Si(It,Ce,r)){mt=!0;break}}if(ot&&!gt&&!mt)return Lt}let Ve=L([Ce,r]);return g!==0&&Ve.span!==void 0&&(Ve={...Ve,span:[Ve.span[0]+g,Ve.span[1]+g]}),Ve}},[Oe,Ze,_t,xo,So,Xt,ko,To,ct,sn,Ot,D==null?void 0:D.rows,st,en,ro,g,Me==null?void 0:Me.hint,Me==null?void 0:Me.addIcon,Ue==null?void 0:Ue.strict,L,lt]),dn=n.useCallback(t=>{let r=(Bt==null?void 0:Bt(t))??{name:t};return I!==void 0&&t!==""&&(r={icon:r.icon,name:r.name,overrideTheme:r.overrideTheme,actions:[...r.actions??[],{title:"Rename",icon:"renameIcon",onClick:a=>pn({group:r.name,bounds:a.bounds})}]}),r},[Bt,I]),Fo=n.useCallback(t=>{var M;const[r,a]=t.cell,i=Ie[r],h=(i==null?void 0:i.group)!==void 0?(M=dn(i.group))==null?void 0:M.overrideTheme:void 0,y=i==null?void 0:i.themeOverride,x=wt==null?void 0:wt(a);m({...t,theme:Rn(Je,h,y,x,t.content.themeOverride)})},[wt,Ie,dn,Je]),El=n.useCallback((t,r,a)=>{var x,M,A,B,Z,Se,xe;if(D.current===void 0)return;const[i,h]=D.current.cell,y=yt([i,h]);if(y.kind!==ee.Boolean&&y.allowOverlay){let pe=y;if(a!==void 0)switch(pe.kind){case ee.Number:{const Te=Ti(()=>a==="-"?-0:Number.parseFloat(a),0);pe={...pe,data:Number.isNaN(Te)?0:Te};break}case ee.Text:case ee.Markdown:case ee.Uri:pe={...pe,data:a};break}Fo({target:t,content:pe,initialValue:a,cell:[i,h],highlight:a===void 0,forceEditMode:a!==void 0,activation:r});const G=pe.kind===ee.Custom;a!==void 0&&!G?((x=R.current)==null||x.setPosition(t.x,t.y,t.width,t.height),a.length>0&&((M=R.current)==null||M.setValue(a)),(A=R.current)==null||A.setVisible(!0),H(!0)):G&&a!==void 0&&((B=R.current)==null||B.clear(),(Z=R.current)==null||Z.setVisible(!1),(Se=R.current)==null||Se.blur(),H(!1))}else y.kind===ee.Boolean&&r.inputType==="keyboard"&&y.readonly!==!0&&(At([{location:D.current.cell,value:{...y,data:xr(y.data)}}]),(xe=Qe.current)==null||xe.damage([{cell:D.current.cell}]))},[yt,D,At,Fo]),Jn=n.useCallback((t,r)=>{var h;const a=(h=Qe.current)==null?void 0:h.getBounds(t,r);if(a===void 0||Ae.current===null)return;const i=yt([t,r]);i.allowOverlay&&Fo({target:a,content:i,initialValue:void 0,highlight:!0,cell:[t,r],forceEditMode:!0,activation:{inputType:"keyboard",key:"Enter"}})},[yt,Ae,Fo]),Pe=n.useCallback((t,r,a="both",i=0,h=0,y=void 0)=>{if(Ae.current!==null){const x=Qe.current,M=f.current,A=typeof t!="number"?t.unit==="cell"?t.amount:void 0:t,B=typeof r!="number"?r.unit==="cell"?r.amount:void 0:r,Z=typeof t!="number"&&t.unit==="px"?t.amount:void 0,Se=typeof r!="number"&&r.unit==="px"?r.amount:void 0;if(x!==null&&M!==null){let xe={x:0,y:0,width:0,height:0},pe=0,G=0;if((A!==void 0||B!==void 0)&&(xe=x.getBounds((A??0)+g,B??0)??xe,xe.width===0||xe.height===0))return;const Ee=M.getBoundingClientRect(),Te=Ee.width/M.offsetWidth;if(Z!==void 0&&(xe={...xe,x:Z-Ee.left-Ae.current.scrollLeft,width:1}),Se!==void 0&&(xe={...xe,y:Se+Ee.top-Ae.current.scrollTop,height:1}),xe!==void 0){const ue={x:xe.x-i,y:xe.y-h,width:xe.width+2*i,height:xe.height+2*h};let Ce=0;for(let xn=0;xn<qe;xn++)Ce+=at[xn].width;let Ve=0;const Fe=Ct+(so?1:0);Fe>0&&(Ve=Ei(Ze,Fe,kt));let ot=Ce*Te+Ee.left+an*Te,gt=Ee.right,mt=Ee.top+ao*Te,It=Ee.bottom-Ve*Te;const Bo=xe.width+i*2;switch(y==null?void 0:y.hAlign){case"start":gt=ot+Bo;break;case"end":ot=gt-Bo;break;case"center":ot=Math.floor((ot+gt)/2)-Bo/2,gt=ot+Bo;break}const Uo=xe.height+h*2;switch(y==null?void 0:y.vAlign){case"start":It=mt+Uo;break;case"end":mt=It-Uo;break;case"center":mt=Math.floor((mt+It)/2)-Uo/2,It=mt+Uo;break}ot>ue.x?pe=ue.x-ot:gt<ue.x+ue.width&&(pe=ue.x+ue.width-gt),mt>ue.y?G=ue.y-mt:It<ue.y+ue.height&&(G=ue.y+ue.height-It),a==="vertical"||typeof t=="number"&&t<qe?pe=0:(a==="horizontal"||typeof r=="number"&&r>=Ze-Fe)&&(G=0),(pe!==0||G!==0)&&(Te!==1&&(pe/=Te,G/=Te),Ae.current.scrollTo({left:pe+Ae.current.scrollLeft,top:G+Ae.current.scrollTop,behavior:(y==null?void 0:y.behavior)??"auto"}))}}}},[g,Ct,io,Ae,ao,qe,at,Ze,so,kt]),$o=n.useRef(Pe);$o.current=Pe;const fn=n.useRef(Jn),hn=n.useRef(L);fn.current=Jn,hn.current=L;const gn=n.useRef(ve);gn.current=ve;const Qn=n.useRef(Ie.length);Qn.current=Ie.length;const Gt=n.useCallback(async(t,r=!0,a)=>{var B;const i=Ie[t];if(((B=i==null?void 0:i.trailingRowOptions)==null?void 0:B.disabled)===!0)return;const h=De==null?void 0:De();let y,x=!0;h!==void 0&&(y=await h,y==="top"&&(x=!1),typeof y=="number"&&(x=!1));let M=0;const A=()=>{if(gn.current<=ve){M<500&&window.setTimeout(A,M),M=50+M*2;return}const Z=typeof y=="number"?y:x?ve:0;$o.current(t-g,Z,"both",0,20,a?{behavior:a}:void 0),Ye({cell:[t,Z],range:{x:t,y:Z,width:1,height:1}},!1,!1,"edit");const Se=hn.current([t-g,Z]);Se.allowOverlay&&Wt(Se)&&Se.readonly!==!0&&r&&window.setTimeout(()=>{fn.current(t,Z)},0)};A()},[Ie,De,g,ve,Ye]),Ao=n.useCallback(async(t,r=!0)=>{const a=N==null?void 0:N();let i,h=!0;a!==void 0&&(i=await a,i==="left"&&(h=!1),typeof i=="number"&&(h=!1));let y=0;const x=()=>{if(Qn.current<=Ie.length){y<500&&window.setTimeout(x,y),y=50+y*2;return}const M=typeof i=="number"?i:h?Ie.length:0;Pe(M-g,t),Ye({cell:[M,t],range:{x:M,y:t,width:1,height:1}},!1,!1,"edit");const A=hn.current([M-g,t]);A.allowOverlay&&Wt(A)&&A.readonly!==!0&&r&&window.setTimeout(()=>{fn.current(M,t)},0)};x()},[Ie,N,g,Pe,Ye]),fo=n.useCallback(t=>{var a,i;const r=((i=(a=at[t])==null?void 0:a.trailingRowOptions)==null?void 0:i.targetColumn)??(Me==null?void 0:Me.targetColumn);if(typeof r=="number")return r+(ct?1:0);if(typeof r=="object"){const h=P.indexOf(r);if(h>=0)return h+(ct?1:0)}},[at,P,ct,Me==null?void 0:Me.targetColumn]),Et=n.useRef(void 0),qt=n.useRef(void 0),Go=n.useCallback((t,r)=>{var h;const[a,i]=r;return Rn(Je,(h=Ie[a])==null?void 0:h.themeOverride,wt==null?void 0:wt(i),t.themeOverride)},[wt,Ie,Je]),{mapper:ho}=Os(pt,Q),mn=pt==null?void 0:pt.navigationBehavior,Ko=n.useRef(void 0),Il=n.useCallback(t=>{var B,Z,Se;const r=qo.value?t.metaKey:t.ctrlKey,a=r&&Re==="multi",[i,h]=t.location,y=D.columns,x=D.rows,[M,A]=((B=D.current)==null?void 0:B.cell)??[];if(t.kind==="cell"){if(qt.current=void 0,Ko.current=[i,h],i===(lt?1:0)&&ct){if(Oe===!0&&h===ve||st==="number"||Re==="none")return;const G=yt(t.location);if(G.kind!==Pt.Marker||G.disabled===!0)return;if(ro!==void 0){const ue=ft(G);Xo((ue==null?void 0:ue.kind)===Pt.Marker);const Ce=(Z=ue==null?void 0:ue.onClick)==null?void 0:Z.call(ue,{...t,cell:G,posX:t.localEventX,posY:t.localEventY,bounds:t.bounds,theme:Go(G,t.location),preventDefault:()=>{}});if(Ce===void 0||Ce.checked===G.checked)return}m(void 0),je();const Ee=x.hasIndex(h),Te=Et.current;if(Re==="multi"&&(t.shiftKey||t.isLongTouch===!0)&&Te!==void 0&&x.hasIndex(Te)){const ue=[Math.min(Te,h),Math.max(Te,h)+1];a||Ht==="multi"?it(void 0,ue,!0):it(ze.fromSingleSelection(ue),void 0,a)}else Re==="multi"&&(a||t.isTouch||Ht==="multi")?Ee?it(x.remove(h),void 0,!0):(it(void 0,h,!0),Et.current=h):Ee&&x.length===1?it(ze.empty(),void 0,r):(it(ze.fromSingleSelection(h),void 0,r),Et.current=h)}else if(i>=g&&Oe&&h===ve){const G=fo(i);Gt(G??i)}else if(M!==i||A!==h){const G=yt(t.location),Ee=ft(G);if((Ee==null?void 0:Ee.onSelect)!==void 0){let Ce=!1;if(Ee.onSelect({...t,cell:G,posX:t.localEventX,posY:t.localEventY,bounds:t.bounds,preventDefault:()=>Ce=!0,theme:Go(G,t.location)}),Ce)return}if(mn==="block"&&ho(h).isGroupHeader)return;const Te=so&&h===ve,ue=so&&D!==void 0&&((Se=D.current)==null?void 0:Se.cell[1])===ve;if((t.shiftKey||t.isLongTouch===!0)&&M!==void 0&&A!==void 0&&D.current!==void 0&&!ue){if(Te)return;const Ce=Math.min(i,M),Ve=Math.max(i,M),Fe=Math.min(h,A),ot=Math.max(h,A);Ye({...D.current,range:{x:Ce,y:Fe,width:Ve-Ce+1,height:ot-Fe+1}},!0,r,"click"),Et.current=void 0,je()}else{const Ce=D.rows.length>0;Ye({cell:[i,h],range:{x:i,y:h,width:1,height:1}},!0,r||Ce,"click"),Et.current=void 0,m(void 0),je()}}}else if(t.kind==="header")if(Ko.current=[i,h],m(void 0),ct&&i===(lt?1:0))Et.current=void 0,qt.current=void 0,!Mo&&Re==="multi"&&(x.length!==ve?it(ze.fromSingleSelection([0,ve]),void 0,r):it(ze.empty(),void 0,r),je());else{const pe=qt.current;if(_==="multi"&&(t.shiftKey||t.isLongTouch===!0)&&pe!==void 0&&y.hasIndex(pe)){const G=[Math.min(pe,i),Math.max(pe,i)+1];r||t.isTouch||rt==="multi"?tt(void 0,G,r):tt(ze.fromSingleSelection(G),void 0,r)}else _==="multi"&&(r||t.isTouch||rt==="multi")?(y.hasIndex(i)?tt(y.remove(i),void 0,r):tt(void 0,i,r),qt.current=i):_!=="none"&&(y.hasIndex(i)?tt(y.remove(i),void 0,r):tt(ze.fromSingleSelection(i),void 0,r),qt.current=i);Et.current=void 0,je()}else t.kind===Jt?Ko.current=[i,h]:t.kind===pr&&!t.isMaybeScrollbar&&(St(Mn,!1),m(void 0),je(),eo==null||eo(),Et.current=void 0,qt.current=void 0)},[Re,_,D,ct,g,Oe,lt,ve,st,yt,ro,je,Ht,rt,ft,Go,it,fo,Gt,mn,ho,so,Ye,Mo,tt,St,eo]),Po={gridSelection:D,overlay:u,gridRef:Qe,ghostInputRef:R,overlayRef:we,ghostInputVisibleRef:oe,scrollRef:Ae,canvasRef:f,visibleRegionRef:Tt,abortControllerRef:Rt,rowMarkerOffset:g,mangledCols:Ie,mangledRows:Ze,rows:ve,setGridSelection:St,getMangledCellContent:yt,mangledOnCellsEdited:At,setOverlay:m,focus:je,setGhostInputVisible:H,reselect:El,getCellRenderer:ft},{onMouseDown:zl,onMouseUp:Ll,onMouseMoveImpl:Dl,normalSizeColumn:jn,fillDown:Hl,fillRight:Fl,mouseDownData:bt,isActivelyDraggingHeader:$l}=Qs({state:Po,mouseState:w,setMouseState:E,fillHighlightRegion:uo,setFillHighlightRegion:qn,setScrollDir:d,handleSelect:Il,onMouseMove:mo,onCellClicked:ie,onCellActivated:fe,onCellContextMenu:Le,onHeaderContextMenu:de,onGroupHeaderContextMenu:be,onHeaderClicked:O,onGroupHeaderClicked:he,onColumnResize:Nn,onFillPattern:V,cellActivationBehavior:jt,columnSelect:_,columnSelectionMode:rt,columns:at,mergedTheme:Je,minColumnWidth:lo,maxColumnWidth:ln,themeForCell:Go,getCellsForSelection:Mt,setSelectedColumns:tt,visibleRegion:$t,lastMouseSelectLocation:Ko}),[vn,pn]=n.useState(),Al=n.useCallback((t,r)=>{vt==null||vt(t-g,r)},[vt,g]),Gl=n.useCallback((t,r)=>{Vt==null||Vt(t-g,r)},[Vt,g]);n.useEffect(()=>{if(u===void 0)return;const t=i=>{const h=[];let y=i.parentElement;for(;y&&y!==document.documentElement;){const x=window.getComputedStyle(y),M=x.overflow+x.overflowY+x.overflowX;(M.includes("scroll")||M.includes("auto"))&&h.push(y),y=y.parentElement}return h},r=i=>{const h=i.target;Ae.current&&!Ae.current.contains(h)&&m(void 0)},a=[];if(Ae.current){const i=t(Ae.current);a.push(...i)}return a.forEach(i=>{i.addEventListener("scroll",r)}),window.addEventListener("scroll",r),document.addEventListener("scroll",r,!0),()=>{a.forEach(i=>{i.removeEventListener("scroll",r)}),window.removeEventListener("scroll",r),document.removeEventListener("scroll",r,!0)}},[u,m,Ae]);const ht=(dr=D==null?void 0:D.current)==null?void 0:dr.cell,Kl=n.useCallback((t,r,a,i,h,y)=>{if(Io.current=!1,u!==void 0){const Z=Tt.current;(Z.x!==t.x||Z.y!==t.y)&&m(void 0)}let x=ht;x!==void 0&&(x=[x[0]-g,x[1]]);const M=qe===0?void 0:{x:0,y:t.y,width:qe,height:t.height},A=[];M!==void 0&&A.push(M),Ct>0&&(A.push({x:t.x-g,y:ve-Ct,width:t.width,height:Ct}),qe>0&&A.push({x:0,y:ve-Ct,width:qe,height:Ct}));const B={x:t.x-g,y:t.y,width:t.width,height:Oe&&t.y+t.height>=ve?t.height-1:t.height,tx:h,ty:y,extras:{selected:x,freezeRegion:M,freezeRegions:A}};Tt.current=B,Yn(B),Rl([r,a,i]),wo==null||wo(B,B.tx,B.ty,B.extras)},[ht,u,g,Oe,ve,qe,Ct,m,Yn,wo]),Pl=Dt(se,n.useCallback((t,r)=>(se==null?void 0:se(t-g,r-g))!==!1,[se,g])),Nl=Dt(j,n.useCallback((t,r)=>{j==null||j(t-g,r-g),_!=="none"&&tt(ze.fromSingleSelection(r),void 0,!0)},[_,j,g,tt])),Cn=n.useRef(!1),Wl=n.useCallback(t=>{if(t.location[0]===0&&g>0){t.preventDefault();return}dt==null||dt({...t,location:[t.location[0]-g,t.location[1]]}),t.defaultPrevented()||(Cn.current=!0),E(void 0)},[dt,g]),Vl=n.useCallback(()=>{Cn.current=!1},[]),er=pt==null?void 0:pt.selectionBehavior,No=n.useCallback(t=>{if(er!=="block-spanning")return;const{isGroupHeader:r,path:a,groupRows:i}=ho(t);if(r)return[t,t];const h=a[a.length-1],y=t-h,x=t+i-h-1;return[y,x]},[ho,er]),wn=n.useRef(void 0),yn=n.useCallback(t=>{var r,a,i;if(!Ii(t,wn.current)&&(wn.current=t,!(((r=bt==null?void 0:bt.current)==null?void 0:r.button)!==void 0&&bt.current.button>=1))){if(t.buttons!==0&&w!==void 0&&((a=bt.current)==null?void 0:a.location[0])===0&&g===1&&Re==="multi"&&w.previousSelection&&!w.previousSelection.rows.hasIndex(bt.current.location[1])&&D.rows.hasIndex(bt.current.location[1])){const h=Math.min(bt.current.location[1],t.location[1]),y=Math.max(bt.current.location[1],t.location[1])+1;it(ze.fromSingleSelection([h,y]),void 0,!1)}else if(t.buttons!==0&&w!==void 0&&D.current!==void 0&&!Cn.current&&!$l.current&&($e==="rect"||$e==="multi-rect")){const[h,y]=D.current.cell;let[x,M]=t.location;if(M<0&&(M=Tt.current.y),w.fillHandle===!0&&((i=w.previousSelection)==null?void 0:i.current)!==void 0){const A=w.previousSelection.current.range;M=Math.min(M,Oe?ve-1:ve);const B=zi(A,x,M,In);qn(B)}else{if(Oe&&y===ve)return;if(Oe&&M===ve)if(t.kind===pr)M--;else return;x=Math.max(x,g);const Z=No(y);M=Z===void 0?M:Nt(M,Z[0],Z[1]);const Se=x-h,xe=M-y,pe={x:Se>=0?h:x,y:xe>=0?y:M,width:Math.abs(Se)+1,height:Math.abs(xe)+1};Ye({...D.current,range:pe},!0,!1,"drag")}}Co==null||Co({...t,location:[t.location[0]-g,t.location[1]]})}},[w,g,Re,D,$e,Co,it,Oe,ve,In,No,Ye]),Bl=n.useCallback(()=>{var x,M;const t=wn.current;if(t===void 0)return;const[r,a]=t.scrollEdge;let[i,h]=t.location;const y=Tt.current;r===-1?i=((M=(x=y.extras)==null?void 0:x.freezeRegion)==null?void 0:M.x)??y.x:r===1&&(i=y.x+y.width),a===-1?h=Math.max(0,y.y):a===1&&(h=Math.min(ve-1,y.y+y.height)),i=Nt(i,0,Ie.length-1),h=Nt(h,0,ve-1),yn({...t,location:[i,h]})},[Ie.length,yn,ve]);Ps(c,Ae,Bl);const Ul=n.useCallback(t=>{if(D.current===void 0)return;const[r,a]=t,[i,h]=D.current.cell,y=D.current.range;let x=y.x,M=y.x+y.width,A=y.y,B=y.y+y.height;const[Z,Se]=No(h)??[0,ve-1],xe=Se+1;if(a!==0)switch(a){case 2:{B=xe,A=h,Pe(0,B,"vertical");break}case-2:{A=Z,B=h+1,Pe(0,A,"vertical");break}case 1:{A<h?(A++,Pe(0,A,"vertical")):(B=Math.min(xe,B+1),Pe(0,B,"vertical"));break}case-1:{B>h+1?(B--,Pe(0,B,"vertical")):(A=Math.max(Z,A-1),Pe(0,A,"vertical"));break}default:Cr()}if(r!==0)if(r===2)M=Ie.length,x=i,Pe(M-1-g,0,"horizontal");else if(r===-2)x=g,M=i+1,Pe(x-g,0,"horizontal");else{let pe=[];if(Mt!==void 0){const G=Mt({x,y:A,width:M-x-g,height:B-A},Rt.current.signal);typeof G=="object"&&(pe=tc(G))}if(r===1){let G=!1;if(x<i){if(pe.length>0){const Ee=Qt(x+1,i+1).find(Te=>!pe.includes(Te-g));Ee!==void 0&&(x=Ee,G=!0)}else x++,G=!0;G&&Pe(x,0,"horizontal")}G||(M=Math.min(Ie.length,M+1),Pe(M-1-g,0,"horizontal"))}else if(r===-1){let G=!1;if(M>i+1){if(pe.length>0){const Ee=Qt(M-1,i,-1).find(Te=>!pe.includes(Te-g));Ee!==void 0&&(M=Ee,G=!0)}else M--,G=!0;G&&Pe(M-g,0,"horizontal")}G||(x=Math.max(g,x-1),Pe(x-g,0,"horizontal"))}else Cr()}Ye({cell:D.current.cell,range:{x,y:A,width:M-x,height:B-A}},!0,!1,"keyboard-select")},[Mt,No,D,Ie.length,g,ve,Pe,Ye]),bn=n.useRef(Ln);bn.current=Ln;const Kt=n.useCallback((t,r,a,i)=>{const h=Ze-(a?0:1);t=Nt(t,g,at.length-1+g),r=Nt(r,0,h);const y=ht==null?void 0:ht[0],x=ht==null?void 0:ht[1];if(t===y&&r===x)return!1;if(i&&D.current!==void 0){const M=[...D.current.rangeStack];(D.current.range.width>1||D.current.range.height>1)&&M.push(D.current.range),St({...D,current:{cell:[t,r],range:{x:t,y:r,width:1,height:1},rangeStack:M}},!0)}else Ye({cell:[t,r],range:{x:t,y:r,width:1,height:1}},!0,!1,"keyboard-nav");return C.current!==void 0&&C.current[0]===t&&C.current[1]===r&&(C.current=void 0),bn.current&&Pe(t-g,r,"both",0,20),!0},[Ze,g,at.length,ht,D,Pe,St,Ye]),tr=n.useCallback((t,r)=>{var Z,Se,xe,pe;const a=we.current;oe.current;let i=t;const h=((Z=R.current)==null?void 0:Z.getValue())??"",y=((Se=a==null?void 0:a.content)==null?void 0:Se.kind)===ee.Custom;if((a==null?void 0:a.cell)!==void 0&&h.length>0&&a.content!==void 0&&!y){const G=a.content;if(G.kind===ee.Text)i={...G,data:h,displayData:h};else if(G.kind===ee.Number){const Ee=Number.parseFloat(h),Te=Number.isNaN(Ee)?0:Ee;i={...G,data:Te,displayData:Te.toLocaleString()}}else G.kind===ee.Uri?i={...G,data:h,displayData:h}:G.kind===ee.Markdown&&(i={...G,data:h})}else y&&(i=t);if(i!==void 0&&h.length===0)if(i.kind===ee.Text&&i.data!==i.displayData)i={...i,displayData:i.data};else if(i.kind===ee.Number){const G=i.data!==void 0?i.data.toLocaleString():"0";i.displayData!==G&&(i={...i,displayData:G})}else i.kind===ee.Uri&&i.data!==i.displayData&&(i={...i,displayData:i.data});const x=a==null?void 0:a.content,M=()=>{if(i===void 0||x===void 0)return!1;if(i.kind!==x.kind)return!0;switch(i.kind){case ee.Text:case ee.Uri:case ee.Markdown:return i.data!==x.data;case ee.Number:return i.data!==x.data;case ee.Boolean:return i.data!==x.data;default:return!0}};(a==null?void 0:a.cell)!==void 0&&i!==void 0&&go(i)&&M()&&(At([{location:a.cell,value:i}]),window.requestAnimationFrame(()=>{var G;(G=Qe.current)==null||G.damage([{cell:a.cell}])})),(xe=R.current)==null||xe.clear(),(pe=R.current)==null||pe.setVisible(!1),H(!1),je(!0),we.current=void 0,m(void 0);const[A,B]=r;if(D.current!==void 0&&(A!==0||B!==0)){const G=D.current.cell[1]===Ze-1;if(G&&B===1){T==null||T(t,[0,0]);return}const Ee=D.current.cell[0]===Ie.length-1&&t!==void 0;let Te=!0;if(G&&B===1&&De!==void 0){Te=!1;const ue=D.current.cell[0]+A,Ce=fo(ue);Gt(Ce??ue,!1)}if(Ee&&A===1&&N!==void 0){Te=!1;const ue=D.current.cell[1]+B;Ao(ue,!1)}if(Te){const ue=Nt(D.current.cell[0]+A,g,Ie.length-1),Ce=Nt(D.current.cell[1]+B,0,Ze-1);Kt(ue,Ce,G,!1),window.requestAnimationFrame(()=>{var Ve;(Ve=R.current)==null||Ve.focus()})}}T==null||T(t,r)},[je,D,T,At,Ze,Kt,Ie.length,Gt,Ao,De,N,fo,g]),Ol=n.useMemo(()=>`gdg-overlay-${ec++}`,[]),or=n.useCallback(t=>{var a,i,h,y;je();const r=[];for(let x=t.x;x<t.x+t.width;x++)for(let M=t.y;M<t.y+t.height;M++){const A=L([x-g,M]);if(!A.allowOverlay&&A.kind!==ee.Boolean)continue;let B;if(A.kind===ee.Custom){const Z=ft(A),Se=(a=Z==null?void 0:Z.provideEditor)==null?void 0:a.call(Z,{...A,location:[x-g,M]});(Z==null?void 0:Z.onDelete)!==void 0?B=Z.onDelete(A):Li(Se)&&(B=(i=Se==null?void 0:Se.deletedValue)==null?void 0:i.call(Se,A))}else if(go(A)&&A.allowOverlay||A.kind===ee.Boolean){const Z=ft(A);B=(h=Z==null?void 0:Z.onDelete)==null?void 0:h.call(Z,A)}B!==void 0&&!Yo(B)&&go(B)&&r.push({location:[x,M],value:B})}At(r),(y=Qe.current)==null||y.damage(r.map(x=>({cell:x.location})))},[je,L,ft,At,g]),_l=u!==void 0,{onKeyDown:Zt}=zs({state:Po,keybindings:Kn,overlayOpen:_l,columnSelect:_,rowSelect:Re,rangeSelect:$e,editOnType:b,trapFocus:Jr,showTrailingBlankRow:Oe,columnsInLength:P.length,rowGroupingNavBehavior:mn,mapper:ho,onKeyDownIn:ut,onSelectionCleared:eo,onCellActivated:fe,onDelete:Wn,getCellContent:L,setSelectedColumns:tt,setSelectedRows:it,setShowSearchInner:Pn,searchInputRef:z,adjustSelection:Ul,updateSelectedCell:Kt,deleteRange:or,fillDown:Hl,fillRight:Fl,appendRow:Gt,getCustomNewRowTargetColumn:fo,scrollToRef:$o}),[Xl,nr]=n.useState(!1),rr=n.useRef(Ki(t=>{nr(t)},5)),{onGhostInput:Yl,onGhostCompositionStart:ql,onGhostCompositionEnd:Zl,onGhostKeyDown:Jl,onGhostKeyUp:Ql,onGhostFocus:jl,onGhostBlur:ei}=Js({state:Po,onKeyDown:Zt,onFinishEditing:tr,onKeyUpIn:et,onCellActivated:fe,setIsFocused:nr}),ti=n.useCallback((t,r)=>{const a=t.location[0]-g;if(t.kind==="header"&&(de==null||de(a,{...t,preventDefault:r})),t.kind===Jt){if(a<0)return;be==null||be(a,{...t,preventDefault:r})}if(t.kind==="cell"){const[i,h]=t.location;Le==null||Le([a,h],{...t,preventDefault:r}),Di(D,t.location)||Kt(i,h,!1,!1)}},[D,Le,be,de,g,Kt]),{onCopy:lr,onPasteInternal:ir}=Ns({state:Po,keybindings:Kn,getCellsForSelection:Mt,coercePasteValue:X,onPaste:vo,copyHeaders:po,columnsIn:P,onDelete:Wn,deleteRange:or,safeWindow:F}),oi=n.useCallback((t,r)=>{if(Xe!==void 0){g!==0&&(t=t.map(h=>[h[0]-g,h[1]])),Xe(t,r);return}if(t.length===0||r===-1)return;const[a,i]=t[r];C.current!==void 0&&C.current[0]===a&&C.current[1]===i||(C.current=[a,i],Kt(a,i,!1,!1))},[Xe,g,Kt]),[Wo,Vo]=((fr=Ft==null?void 0:Ft.current)==null?void 0:fr.cell)??[];n.useLayoutEffect(()=>{var t,r,a,i;bn.current&&!Io.current&&Wo!==void 0&&Vo!==void 0&&(Wo!==((r=(t=Eo.current)==null?void 0:t.current)==null?void 0:r.cell[0])||Vo!==((i=(a=Eo.current)==null?void 0:a.current)==null?void 0:i.cell[1]))&&$o.current(Wo,Vo),Io.current=!1},[Wo,Vo]);const sr=D.current!==void 0&&(D.current.cell[0]>=Ie.length||D.current.cell[1]>=Ze);n.useLayoutEffect(()=>{sr&&St(Mn,!1)},[sr,St]);const ni=n.useMemo(()=>Oe===!0&&(Me==null?void 0:Me.tint)===!0?ze.fromSingleSelection(Ze-1):ze.empty(),[Ze,Oe,Me==null?void 0:Me.tint]),ri=n.useCallback(t=>typeof Ut=="boolean"?Ut:(Ut==null?void 0:Ut(t-g))??!0,[g,Ut]),li=n.useMemo(()=>{if(vn===void 0||f.current===null)return null;const{bounds:t,group:r}=vn,a=f.current.getBoundingClientRect();return n.createElement(Ss,{bounds:t,group:r,canvasBounds:a,onClose:()=>pn(void 0),onFinish:i=>{pn(void 0),I==null||I(r,i)}})},[I,vn]),ii=Math.min(Ie.length,qe+g);n.useImperativeHandle(o,()=>({appendRow:(t,r)=>Gt(t+g,r),appendColumn:(t,r)=>Ao(t,r),updateCells:t=>{var r;return g!==0&&(t=t.map(a=>({cell:[a.cell[0]+g,a.cell[1]]}))),(r=Qe.current)==null?void 0:r.damage(t)},getBounds:(t,r)=>{var a;if(!((f==null?void 0:f.current)===null||(Ae==null?void 0:Ae.current)===null)){if(t===void 0&&r===void 0){const i=f.current.getBoundingClientRect(),h=i.width/Ae.current.clientWidth;return{x:i.x-Ae.current.scrollLeft*h,y:i.y-Ae.current.scrollTop*h,width:Ae.current.scrollWidth*h,height:Ae.current.scrollHeight*h}}return(a=Qe.current)==null?void 0:a.getBounds((t??0)+g,r)}},focus:()=>{var t;return(t=Qe.current)==null?void 0:t.focus()},emit:async t=>{switch(t){case"delete":Zt({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":Zt({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":Zt({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await lr(void 0,!0);break;case"paste":await ir();break}},scrollTo:Pe,remeasureColumns:t=>{for(const r of t)jn(r+g)},getMouseArgsForPosition:(t,r,a)=>{if((Qe==null?void 0:Qe.current)===null)return;const i=Qe.current.getMouseArgsForPosition(t,r,a);if(i!==void 0)return{...i,location:[i.location[0]-g,i.location[1]]}}}),[Gt,Ao,jn,Ae,lr,Zt,ir,g,Pe]);const[cr,ar]=ht??[],si=n.useCallback(t=>{const[r,a]=t;if(a===-1){_!=="none"&&(tt(ze.fromSingleSelection(r),void 0,!1),je());return}cr===r&&ar===a||(Ye({cell:t,range:{x:r,y:a,width:1,height:1}},!0,!1,"keyboard-nav"),Pe(r,a))},[_,je,Pe,cr,ar,Ye,tt]),ci=n.useCallback(()=>{rr.current(!0),D.current===void 0&&D.columns.length===0&&D.rows.length===0&&w===void 0&&Ye({cell:[g,zo],range:{x:g,y:zo,width:1,height:1}},!0,!1,"keyboard-select")},[zo,D,w,g,Ye]),ai=n.useCallback(()=>{rr.current(!1)},[]),[ui,di]=n.useMemo(()=>{let t;const r=(Ue==null?void 0:Ue.scrollbarWidthOverride)??Hi(),a=ve+(Oe?1:0);if(typeof kt=="number")t=ao+a*kt;else{let h=0;const y=Math.min(a,10);for(let x=0;x<y;x++)h+=kt(x);h=Math.floor(h/y),t=ao+a*h}t+=r;const i=Ie.reduce((h,y)=>y.width+h,0)+r;return[`${Math.min(1e5,i)}px`,`${Math.min(1e5,t)}px`]},[Ie,Ue==null?void 0:Ue.scrollbarWidthOverride,kt,ve,Oe,ao]),fi=n.useMemo(()=>Fi(Je),[Je]);return n.createElement($i.Provider,{value:Je},n.createElement(As,{style:fi,className:Ke,inWidth:p??ui,inHeight:K??di},n.createElement(ks,{fillHandle:Kr,drawFocusRing:Hn,experimental:Ue,fixedShadowX:Pr,fixedShadowY:Nr,getRowThemeOverride:wt,headerIcons:Wr,imageWindowLoader:Vr,initialSize:Br,isDraggable:Ur,onDragLeave:Or,onRowMoved:ro,overscrollX:hl,overscrollY:gl,preventDiagonalScrolling:Yr,rightElement:qr,rightElementProps:Zr,smoothScrollX:Qr,smoothScrollY:jr,className:Ke,enableGroups:Un,onCanvasFocused:ci,onCanvasBlur:ai,canvasRef:f,onContextMenu:ti,theme:Je,cellXOffset:Sl,cellYOffset:zo,accessibilityHeight:$t.height,onDragEnd:Vl,columns:Ie,nonGrowWidth:Bn,drawHeader:xl,onColumnProposeMove:Pl,drawCell:kl,disabledRows:ni,freezeColumns:ii,lockColumns:g,firstColAccessible:g===0,getCellContent:yt,minColumnWidth:lo,maxColumnWidth:ln,searchInputRef:z,showSearch:vl,onSearchClose:pl,highlightRegions:Tl,getCellsForSelection:Mt,getGroupDetails:dn,headerHeight:An,isFocused:Xl,groupHeaderHeight:Un?cn:0,groupLevels:co,groupHeaderHeights:On,freezeTrailingRows:Ct+(Oe&&(Me==null?void 0:Me.sticky)===!0?1:0),hasAppendRow:Oe,onColumnResize:Nn,onColumnResizeEnd:yl,onColumnResizeStart:bl,onCellFocused:si,onColumnMoved:Nl,onDragStart:Wl,onHeaderMenuClick:Al,onHeaderIndicatorClick:Gl,onItemHovered:yn,isFilling:(w==null?void 0:w.fillHandle)===!0,onMouseMove:Dl,onKeyDown:Zt,onKeyUp:et,onMouseDown:zl,onMouseUp:Ll,onDragOverCell:Ar,onDrop:Gr,onSearchResultsChanged:oi,onVisibleRegionChanged:Kl,clientSize:un,rowHeight:kt,searchResults:W,searchValue:ne,onSearchValueChange:te,rows:Ze,scrollRef:Ae,selection:D,translateX:$t.tx,translateY:$t.ty,verticalBorder:ri,gridRef:Qe,getCellRenderer:ft,resizeIndicator:ll}),li,u!==void 0&&n.createElement(n.Suspense,{fallback:null},n.createElement(js,{...u,validateCell:wl,bloom:U,id:Ol,getCellRenderer:ft,className:(Ue==null?void 0:Ue.isSubGrid)===!0?"click-outside-ignore":void 0,provideEditor:Hr,imageEditorOverride:S,portalElementRef:bo,onFinishEditing:tr,markdownDivCreateNode:ye,isOutsideClick:rl,customEventTarget:Ue==null?void 0:Ue.eventTarget,isGhostMode:$}))),(()=>{const t=(bo==null?void 0:bo.current)??document.getElementById("portal");return t===null?null:gi.createPortal(n.createElement(Zs,{ref:R,onInput:Yl,onCompositionStart:ql,onCompositionEnd:Zl,onKeyDown:Jl,onKeyUp:Ql,onFocus:jl,onBlur:ei}),t)})())},nc=n.forwardRef(oc),rc=(e,o)=>{const l=n.useMemo(()=>({...ps,...e.headerIcons}),[e.headerIcons]),s=n.useMemo(()=>e.renderers??Ai,[e.renderers]),u=n.useMemo(()=>e.imageWindowLoader??new Gi,[e.imageWindowLoader]);return n.createElement(nc,{...e,renderers:s,headerIcons:l,ref:o,imageWindowLoader:u})},gc=n.forwardRef(rc);export{gc as D,zt as k,Os as u};
