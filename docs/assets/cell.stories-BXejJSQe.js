const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./data-grid-overlay-editor-DuUd1HMV.js","./iframe-DXOPYGgQ.js","./preload-helper-C1FmrZbK.js","./index-ngu0pMN8.js","./index-bI8WdHuM.js","./throttle-BQcim7ej.js","./toConsumableArray-Cg7-Q_9P.js","./flatten-B5nYkQZa.js","./marked.esm-BwtchnN9.js","./throttle--dN168Gr.js","./number-overlay-editor-UuX8qut-.js","./react-number-format.es-Dx4F3eNY.js","./article-cell-editor-BzMcExxA.js","./article-cell-editor-CFNg02LP.css"])))=>i.map(i=>d[i]);
var Pd=Object.defineProperty;var Od=(e,t,n)=>t in e?Pd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>Od(e,typeof t!="symbol"?t+"":t,n);import{s as It,m as Td}from"./index-bI8WdHuM.js";import{r as d,R as Mt}from"./iframe-DXOPYGgQ.js";import{h as Fd,d as gc,j as Hd,_ as Ld,v as Ad,g as zd,c as kn,r as Xn,t as $d}from"./throttle-BQcim7ej.js";import{_ as Ao,a as Vd,b as Kn,t as Bd,c as mc,d as Pe,e as mo}from"./toConsumableArray-Cg7-Q_9P.js";import{r as Nd}from"./index-ngu0pMN8.js";import{_ as fl}from"./preload-helper-C1FmrZbK.js";import{u as pc,f as rs}from"./flatten-B5nYkQZa.js";import{d as Wd}from"./marked.esm-BwtchnN9.js";import{t as _d,d as Gd}from"./throttle--dN168Gr.js";function vc(e="This should not happen"){throw new Error(e)}function vn(e,t="Assertion failed"){if(!e)return vc(t)}function No(e,t){return vc(t??"Hell froze over")}function Xd(e,t){try{return e()}catch{return t}}const os=Object.prototype.hasOwnProperty;function vo(e,t){let n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&vo(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(os.call(e,n)&&++r&&!os.call(t,n)||!(n in t)||!vo(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const Ti=null,hl=void 0;var U;(function(e){e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom"})(U||(U={}));var is;(function(e){e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay"})(is||(is={}));var Fi;(function(e){e.Triangle="triangle",e.Dots="dots"})(Fi||(Fi={}));function pi(e){return"width"in e&&typeof e.width=="number"}async function as(e){return typeof e=="object"?e:await e()}function so(e){return!(e.kind===U.Loading||e.kind===U.Bubble||e.kind===U.RowID||e.kind===U.Protected||e.kind===U.Drilldown)}function uo(e){return e.kind===Mn.Marker||e.kind===Mn.NewRow}function co(e){if(!so(e)||e.kind===U.Image)return!1;switch(e.kind){case U.Text:case U.Number:case U.Markdown:case U.Uri:case U.Custom:case U.Boolean:return e.readonly!==!0;default:No(e,"A cell was passed with an invalid kind")}}function Ud(e){return Fd(e,"editor")}function gl(e){return!(e.readonly??!1)}var Mn;(function(e){e.NewRow="new-row",e.Marker="marker"})(Mn||(Mn={}));const Hi={shape:"square",size:4,offsetX:-2,offsetY:-2,outline:0};function Ha(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(r,o){return r[0]-o[0]}),n.push([...t[0]]);for(const r of t.slice(1)){const o=n[n.length-1];o[1]<r[0]?n.push([...r]):o[1]<r[1]&&(o[1]=r[1])}return n}let ls;const un=class un{constructor(t){_e(this,"items");this.items=t}offset(t){if(t===0)return this;const n=this.items.map(r=>[r[0]+t,r[1]+t]);return new un(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,r=Ha([...this.items,n]);return new un(r)}remove(t){const n=[...this.items],r=typeof t=="number"?t:t[0],o=typeof t=="number"?t+1:t[1];for(const[i,l]of n.entries()){const[s,a]=l;if(s<=o&&r<=a){const u=[];s<r&&u.push([s,r]),o<a&&u.push([o,a]),n.splice(i,1,...u)}}return new un(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[r,o]=this.items[n];if(t>=r&&t<o)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const r=t.items[n],o=this.items[n];if(r[0]!==o[0]||r[1]!==o[1])return!1}return!0}toArray(){const t=[];for(const[n,r]of this.items)for(let o=n;o<r;o++)t.push(o);return t}get length(){let t=0;for(const[n,r]of this.items)t+=r-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let r=t;r<n;r++)yield r}};_e(un,"create",t=>new un(Ha(t))),_e(un,"empty",()=>ls??(ls=new un([]))),_e(un,"fromSingleSelection",t=>un.empty().add(t)),_e(un,"fromArray",t=>{if(t.length===0)return un.empty();const n=t.map(o=>[o,o+1]),r=Ha(n);return new un(r)});let ft=un;const Yd=It("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});function an(e,t,n,r,o=!1){const i=d.useRef();i.current=t,d.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const l=n,s=a=>{var u;(u=i.current)==null||u.call(l,a)};return l.addEventListener(e,s,{passive:r,capture:o}),()=>{l.removeEventListener(e,s,{capture:o})}},[e,n,r,o])}function Sr(e,t){return e===void 0?void 0:t}const Kd=Math.PI;function ss(e){return e*Kd/180}const bc=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),wc=(e,t,n,r,o)=>{switch(e){case"left":return Math.floor(t)+r+o/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-r-o/2}},yc=(e,t,n)=>Math.min(e,t-n*2),Cc=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,ml=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),d.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},jd=e=>{const t=e.fgColor??"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function qd(e,t,n){const[r,o]=d.useState(e),i=d.useRef(!0);d.useEffect(()=>()=>{i.current=!1},[]);const l=d.useRef(gc(s=>{i.current&&o(s)},n));return d.useLayoutEffect(()=>{i.current&&l.current(()=>e())},t),r}const Zd="֑-߿יִ-﷽ﹰ-ﻼ",Jd="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Qd=new RegExp("^[^"+Jd+"]*["+Zd+"]");function pl(e){return Qd.test(e)?"rtl":"not-rtl"}let vi;function Qa(){if(typeof document>"u")return 0;if(vi!==void 0)return vi;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),vi=n-r,vi}const Hr=Symbol();function ef(e){const t=d.useRef([Hr,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,r]=d.useState(e),[,o]=d.useState(),i=d.useCallback(s=>{const a=t.current[0];a!==Hr&&(s=typeof s=="function"?s(a):s,s===a)||(a!==Hr&&o({}),r(u=>typeof s=="function"?s(a===Hr?u:a):s),t.current[0]=Hr)},[]),l=d.useCallback(()=>{t.current[0]=Hr,o({})},[]);return[t.current[0]===Hr?n:t.current[0],i,l]}function Sc(e){if(e.length===0)return"";let t=0,n=0;for(const r of e){if(n+=r.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function tf(e){const t=d.useRef(e);return vo(e,t.current)||(t.current=e),t.current}const nf=e=>{const{urls:t,canWrite:n,onEditClick:r,renderImage:o}=e,i=t.filter(s=>s!=="");if(i.length===0)return null;const l=i.length>1;return d.createElement(Yd,{"data-testid":"GDG-default-image-overlay-editor"},d.createElement(Hd.Carousel,{showArrows:l,showThumbs:!1,swipeable:l,emulateTouch:l,infiniteLoop:l},i.map(s=>{const a=(o==null?void 0:o(s))??d.createElement("img",{draggable:!1,src:s});return d.createElement("div",{className:"gdg-centering-container",key:s},a)})),n&&r&&d.createElement("button",{className:"gdg-edit-icon",onClick:r},d.createElement(ml,null)))},rf=It("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class of extends Mt.PureComponent{constructor(){super(...arguments);_e(this,"targetElement",null);_e(this,"containerRefHook",n=>{this.targetElement=n,this.renderMarkdownIntoDiv()})}renderMarkdownIntoDiv(){const{targetElement:n,props:r}=this;if(n===null)return;const{contents:o,createNode:i}=r,l=Wd(o),s=document.createRange();s.selectNodeContents(n),s.deleteContents();let a=i==null?void 0:i(l);if(a===void 0){const c=document.createElement("template");c.innerHTML=l,a=c.content}n.append(a);const u=n.getElementsByTagName("a");for(const c of u)c.target="_blank",c.rel="noreferrer noopener"}render(){return this.renderMarkdownIntoDiv(),Mt.createElement(rf,{ref:this.containerRefHook})}}const af=It("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),lf=It("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),sf=It("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let cs=0;const $r=e=>{const{placeholder:t,value:n,onKeyDown:r,highlight:o,altNewline:i,validatedSelection:l,...s}=e,{onChange:a,className:u}=s,c=d.useRef(null),f=n??"";vn(a!==void 0,"GrowingEntry must be a controlled input area");const[p]=d.useState(()=>"input-box-"+(cs=(cs+1)%1e7));d.useEffect(()=>{const h=c.current;if(h===null||h.disabled)return;const m=f.toString().length;h.focus(),h.setSelectionRange(o?0:m,m)},[]),d.useLayoutEffect(()=>{var h;if(l!==void 0){const m=typeof l=="number"?[l,null]:l;(h=c.current)==null||h.setSelectionRange(m[0],m[1])}},[l]);const g=d.useCallback(h=>{h.key==="Enter"&&h.shiftKey&&i===!0||r==null||r(h)},[i,r]);return d.createElement(sf,{className:"gdg-growing-entry"},d.createElement(lf,{className:u},f+`
`),d.createElement(af,{...s,className:(u??"")+" gdg-input",id:p,ref:c,onKeyDown:g,value:f,placeholder:t,dir:"auto"}))},La={};let yr=null;function cf(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function Ar(e){const t=e.toLowerCase().trim();if(La[t]!==void 0)return La[t];yr=yr||cf(),yr.style.color="#000",yr.style.color=t;const n=getComputedStyle(yr).color;yr.style.color="#fff",yr.style.color=t;const r=getComputedStyle(yr).color;if(r!==n)return[0,0,0,1];let o=r.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return o.length<4&&o.push(1),o=o.map(i=>Number.isNaN(i)?0:i),La[t]=o,o}function zr(e,t){const[n,r,o]=Ar(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const us=new Map;function ds(e,t){const n=`${e}-${t}`,r=us.get(n);if(r!==void 0)return r;const o=dn(e,t);return us.set(n,o),o}function dn(e,t){if(t===void 0)return e;const[n,r,o,i]=Ar(e);if(i===1)return e;const[l,s,a,u]=Ar(t),c=i+u*(1-i),f=(i*n+u*l*(1-i))/c,p=(i*r+u*s*(1-i))/c,g=(i*o+u*a*(1-i))/c;return`rgba(${f}, ${p}, ${g}, ${c})`}function uf(e,t,n){if(n<=0)return e;if(n>=1)return t;const[r,o,i,l]=Ar(e),[s,a,u,c]=Ar(t),f=r*l,p=o*l,g=i*l,h=s*c,m=a*c,w=u*c,b=n,y=1-n,C=l*y+c*b;if(C===0)return"rgba(0, 0, 0, 0)";const D=Math.floor((f*y+h*b)/C),R=Math.floor((p*y+m*b)/C),I=Math.floor((g*y+w*b)/C);return`rgba(${D}, ${R}, ${I}, ${C})`}function el(e){if(e==="transparent")return 0;function t(i){const l=i/255;return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}const[n,r,o]=Ar(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function df(e,t){return Mt.useMemo(()=>e.map((n,r)=>({group:n.group,grow:n.grow,hasMenu:n.hasMenu,icon:n.icon,id:n.id,menuIcon:n.menuIcon,overlayIcon:n.overlayIcon,sourceIndex:r,sticky:r<t,indicatorIcon:n.indicatorIcon,style:n.style,themeOverride:n.themeOverride,title:n.title,trailingRowOptions:n.trailingRowOptions,width:n.width,growOffset:n.growOffset,rowMarker:n.rowMarker,rowMarkerChecked:n.rowMarkerChecked,headerRowMarkerTheme:n.headerRowMarkerTheme,headerRowMarkerAlwaysVisible:n.headerRowMarkerAlwaysVisible,headerRowMarkerDisabled:n.headerRowMarkerDisabled})),[e,t])}function ff(e,t){const[n,r]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(r))return!0;if(e.current!==void 0){if($o(e.current.cell,t))return!0;const o=[e.current.range,...e.current.rangeStack];for(const i of o)if(n>=i.x&&n<i.x+i.width&&r>=i.y&&r<i.y+i.height)return!0}return!1}function Wo(e,t){return(e??"")===(t??"")}function hf(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function xc(e,t){const[n,r]=e;return n>=t.x&&n<t.x+t.width&&r>=t.y&&r<t.y+t.height}function $o(e,t){return(e==null?void 0:e[0])===(t==null?void 0:t[0])&&(e==null?void 0:e[1])===(t==null?void 0:t[1])}function kc(e){return[e.x+e.width-1,e.y+e.height-1]}function fs(e,t,n){const r=n.x,o=n.x+n.width-1,i=n.y,l=n.y+n.height-1,[s,a]=e;if(a<i||a>l)return!1;if(t.span===void 0)return s>=r&&s<=o;const[u,c]=t.span;return u>=r&&u<=o||c>=r&&u<=o||u<r&&c>o}function gf(e,t,n,r){let o=0;if(n.current===void 0)return o;const i=n.current.range;(r||i.height*i.width>1)&&fs(e,t,i)&&o++;for(const l of n.current.rangeStack)fs(e,t,l)&&o++;return o}function Mc(e,t){let n=e;if(t!==void 0){let r=[...e];const o=n[t.src];t.src>t.dest?(r.splice(t.src,1),r.splice(t.dest,0,o)):(r.splice(t.dest+1,0,o),r.splice(t.src,1)),r=r.map((i,l)=>({...i,sticky:e[l].sticky})),n=r}return n}function bo(e,t){let n=0;const r=Mc(e,t);for(let o=0;o<r.length;o++){const i=r[o];if(i.sticky)n+=i.width;else break}return n}function Vr(e,t,n){if(typeof n=="number")return t*n;{let r=0;for(let o=e-t;o<e;o++)r+=n(o);return r}}function tl(e,t,n,r,o){const i=Mc(e,r),l=[];for(const u of i)if(u.sticky)l.push(u);else break;if(l.length>0)for(const u of l)n-=u.width;let s=t,a=o??0;for(;a<=n&&s<i.length;)a+=i[s].width,s++;for(let u=t;u<s;u++){const c=i[u];c.sticky||l.push(c)}return l}function mf(e,t,n){let r=0;for(const o of t){const i=o.sticky?r:r+(n??0);if(e<=i+o.width)return o.sourceIndex;r+=o.width}return-1}function pf(e,t,n,r,o,i,l,s,a,u){const c=r+o;if(n&&e<=o)return-2;if(e<=c)return-1;let f=t;for(let h=0;h<u;h++){const m=i-1-h,w=typeof l=="number"?l:l(m);if(f-=w,e>=f)return m}const p=i-u,g=e-(a??0);if(typeof l=="number"){const h=Math.floor((g-c)/l)+s;return h>=p?void 0:h}else{let h=c;for(let m=s;m<p;m++){const w=l(m);if(g<=h+w)return m;h+=w}return}}let Ei=0,Vo={};const vf=typeof window>"u";async function bf(){var e;vf||((e=document==null?void 0:document.fonts)==null?void 0:e.ready)===void 0||(await document.fonts.ready,Ei=0,Vo={},Ad())}bf();function Ec(e,t,n,r){return`${e}_${r??(t==null?void 0:t.font)}_${n}`}function fn(e,t,n,r="middle"){const o=Ec(e,t,r,n);let i=Vo[o];return i===void 0&&(i=t.measureText(e),Vo[o]=i,Ei++),Ei>1e4&&(Vo={},Ei=0),i}function Ic(e,t){const n=Ec(e,void 0,"middle",t);return Vo[n]}function Yt(e,t){return typeof t!="string"&&(t=t.baseFontFull),wf(e,t)}function hs(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const r=e.measureText(n);return e.restore(),r}const gs=[];function wf(e,t){for(const i of gs)if(i.key===t)return i.val;const n=hs(e,"alphabetic"),o=-(hs(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return gs.push({key:t,val:o}),o}function yf(e,t,n,r,o,i){const{ctx:l,rect:s,theme:a}=e;let u=Number.MAX_SAFE_INTEGER;const c=500;if(t!==void 0&&(u=n-t,u<c)){const f=1-u/c;l.globalAlpha=f,l.fillStyle=a.bgSearchResult,l.fillRect(s.x+1,s.y+1,s.width-(o?2:1),s.height-(i?2:1)),l.globalAlpha=1,r!==void 0&&(r.fillStyle=a.bgSearchResult)}return u<c}function Ko(e,t,n){const{ctx:r,theme:o}=e,i=t??{},l=n??o.textDark;return l!==i.fillStyle&&(r.fillStyle=l,i.fillStyle=l),i}function Cf(e,t,n,r,o){const{rect:i,ctx:l,theme:s}=e;l.fillStyle=s.textDark,Un({ctx:l,rect:i,theme:s},t,n,r,o)}function Rc(e,t,n,r,o,i,l,s,a){a==="right"?e.fillText(t,n+o-(s.cellHorizontalPadding+.5),r+i/2+l):a==="center"?e.fillText(t,n+o/2,r+i/2+l):e.fillText(t,n+s.cellHorizontalPadding+.5,r+i/2+l)}function vl(e,t){const n=fn("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function Sf(e,t){e.includes(`
`)&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function xf(e,t,n,r,o,i,l,s,a,u){const c=s.baseFontFull,f=Ld(e,t,c,o-s.cellHorizontalPadding*2,u??!1),p=vl(e,c),g=s.lineHeight*p,h=p+g*(f.length-1),m=h+s.cellVerticalPadding>i;m&&(e.save(),e.rect(n,r,o,i),e.clip());const w=r+i/2-h/2;let b=Math.max(r+s.cellVerticalPadding,w);for(const y of f)if(Rc(e,y,n,b,o,p,l,s,a),b+=g,b>r+i)break;m&&e.restore()}function Un(e,t,n,r,o){const{ctx:i,rect:l,theme:s}=e,{x:a,y:u,width:c,height:f}=l;r=r??!1,r||(t=Sf(t,c));const p=Yt(i,s),g=pl(t)==="rtl";if(n===void 0&&g&&(n="right"),g&&(i.direction="rtl"),t.length>0){let h=!1;n==="right"?(i.textAlign="right",h=!0):n!==void 0&&n!=="left"&&(i.textAlign=n,h=!0),r?xf(i,t,a,u,c,f,p,s,n,o):Rc(i,t,a,u,c,f,p,s,n),h&&(i.textAlign="start"),g&&(i.direction="inherit")}}function An(e,t,n,r,o,i){typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.max(0,Math.min(i.tl,o/2,r/2)),tr:Math.max(0,Math.min(i.tr,o/2,r/2)),bl:Math.max(0,Math.min(i.bl,o/2,r/2)),br:Math.max(0,Math.min(i.br,o/2,r/2))},e.moveTo(t+i.tl,n),e.arcTo(t+r,n,t+r,n+i.tr,i.tr),e.arcTo(t+r,n+o,t+r-i.br,n+o,i.br),e.arcTo(t,n+o,t,n+o-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}function kf(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function Mf(e,t,n){const r=function(s,a){const u=a.x-s.x,c=a.y-s.y,f=Math.sqrt(u*u+c*c),p=u/f,g=c/f;return{x:u,y:a.y-s.y,len:f,nx:p,ny:g,ang:Math.atan2(g,p)}};let o;const i=t.length;let l=t[i-1];for(let s=0;s<i;s++){let a=t[s%i];const u=t[(s+1)%i],c=r(a,l),f=r(a,u),p=c.nx*f.ny-c.ny*f.nx,g=c.nx*f.nx-c.ny*-f.ny;let h=Math.asin(p<-1?-1:p>1?1:p),m=1,w=!1;g<0?h<0?h=Math.PI+h:(h=Math.PI-h,m=-1,w=!0):h>0&&(m=-1,w=!0),o=a.radius!==void 0?a.radius:n;const b=h/2;let y=Math.abs(Math.cos(b)*o/Math.sin(b)),C;y>Math.min(c.len/2,f.len/2)?(y=Math.min(c.len/2,f.len/2),C=Math.abs(y*Math.sin(b)/Math.cos(b))):C=o;let D=a.x+f.nx*y,R=a.y+f.ny*y;D+=-f.ny*C*m,R+=f.nx*C*m,e.arc(D,R,C,c.ang+Math.PI/2*m,f.ang-Math.PI/2*m,w),l=a,a=u}e.closePath()}function nl(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h){const m={x:0,y:i+u,width:0,height:0};if(e>=g.length||t>=c||t<-2||e<0)return m;const w=i-o;if(e>=f){const b=l>e?-1:1,y=bo(g);m.x+=y+a;for(let C=l;C!==e;C+=b)m.x+=g[b===1?C:C-1].width*b}else for(let b=0;b<e;b++)m.x+=g[b].width;if(m.width=g[e].width+1,t===-1)m.y=o,m.height=w;else if(t===-2){m.y=0,m.height=o;let b=e;const y=g[e].group,C=g[e].sticky;for(;b>0&&Wo(g[b-1].group,y)&&g[b-1].sticky===C;){const R=g[b-1];m.x-=R.width,m.width+=R.width,b--}let D=e;for(;D+1<g.length&&Wo(g[D+1].group,y)&&g[D+1].sticky===C;){const R=g[D+1];m.width+=R.width,D++}if(!C){const R=bo(g),I=m.x-R;I<0&&(m.x-=I,m.width+=I),m.x+m.width>n&&(m.width=n-m.x)}}else if(t>=c-p){let b=c-t;for(m.y=r;b>0;){const y=t+b-1;m.height=typeof h=="number"?h:h(y),m.y-=m.height,b--}m.height+=1}else{const b=s>t?-1:1;if(typeof h=="number"){const y=t-s;m.y+=y*h}else for(let y=s;y!==t;y+=b)m.y+=h(y)*b;m.height=(typeof h=="number"?h:h(t))+1}return m}const bl=1<<21;function Ln(e,t){return(t+2)*bl+e}function Dc(e){return e%bl}function wl(e){return Math.floor(e/bl)-2}function yl(e){const t=Dc(e),n=wl(e);return[t,n]}class Pc{constructor(){_e(this,"visibleWindow",{x:0,y:0,width:0,height:0});_e(this,"freezeCols",0);_e(this,"freezeRows",[]);_e(this,"isInWindow",t=>{const n=Dc(t),r=wl(t),o=this.visibleWindow,i=n>=o.x&&n<=o.x+o.width||n<this.freezeCols,l=r>=o.y&&r<=o.y+o.height||this.freezeRows.includes(r);return i&&l})}setWindow(t,n,r){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&vo(this.freezeRows,r)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=r,this.clearOutOfWindow())}}class Ef extends Pc{constructor(){super(...arguments);_e(this,"cache",new Map);_e(this,"setValue",(n,r)=>{this.cache.set(Ln(n[0],n[1]),r)});_e(this,"getValue",n=>this.cache.get(Ln(n[0],n[1])));_e(this,"clearOutOfWindow",()=>{for(const[n]of this.cache.entries())this.isInWindow(n)||this.cache.delete(n)})}}class Bo{constructor(t=[]){_e(this,"cells");this.cells=new Set(t.map(n=>Ln(n[0],n[1])))}add(t){this.cells.add(Ln(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(Ln(t[0],t[1]))}remove(t){this.cells.delete(Ln(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(wl(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let r=t.x;r<t.x+t.width;r++)if(this.cells.has(Ln(r,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield yl(t)}}function If(e){return{"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":e.textGroupHeader??e.textHeader,"--gdg-bg-group-header":e.bgGroupHeader??e.bgHeader,"--gdg-bg-group-header-hovered":e.bgGroupHeaderHovered??e.bgHeaderHovered,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bubble-height":`${e.bubbleHeight}px`,"--gdg-bubble-padding":`${e.bubblePadding}px`,"--gdg-bubble-margin":`${e.bubbleMargin}px`,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":e.horizontalBorderColor??e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":`${e.cellHorizontalPadding}px`,"--gdg-cell-vertical-padding":`${e.cellVerticalPadding}px`,"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize,"--gdg-checkbox-max-size":`${e.checkboxMaxSize}px`,...e.resizeIndicatorColor===void 0?{}:{"--gdg-resize-indicator-color":e.resizeIndicatorColor},...e.headerBottomBorderColor===void 0?{}:{"--gdg-header-bottom-border-color":e.headerBottomBorderColor},...e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":`${e.roundingRadius}px`}}}const Oc={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bubbleHeight:20,bubblePadding:6,bubbleMargin:4,bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#353fb5",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4,checkboxMaxSize:18};function Tc(){return Oc}const Fc=Mt.createContext(Oc);function Hc(){return Mt.useContext(Fc)}function ar(e,...t){const n={...e};for(const r of t)if(r!==void 0)for(const o in r)r.hasOwnProperty(o)&&(o==="bgCell"?n[o]=dn(r[o],n[o]):n[o]=r[o]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull=`${n.headerFontStyle} ${n.fontFamily}`),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull=`${n.baseFontStyle} ${n.fontFamily}`),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull=`${n.markerFontStyle} ${n.fontFamily}`),n}const rl=150;function Rf(e,t,n,r){var i;const o=r(t);return((i=o==null?void 0:o.measure)==null?void 0:i.call(o,e,t,n))??rl}function Lc(e,t,n,r,o,i,l,s,a){let u=0;const c=o===void 0?[]:o.map(g=>{const h=Rf(e,g[r],t,a);return u=Math.max(u,h),h});if(c.length>5&&s){u=0;let g=0;for(const m of c)g+=m;const h=g/c.length;for(let m=0;m<c.length;m++)c[m]>=h*2?c[m]=0:u=Math.max(u,c[m])}const f=e.font;e.font=t.headerFontFull,u=Math.max(u,e.measureText(n.title).width+t.cellHorizontalPadding*2+(n.icon===void 0?0:28)),e.font=f;const p=Math.max(Math.ceil(i),Math.min(Math.floor(l),Math.ceil(u)));return{...n,width:p}}function Df(e,t,n,r,o,i,l,s,a){const u=d.useRef(t),c=d.useRef(n),f=d.useRef(l);u.current=t,c.current=n,f.current=l;const[p,g]=d.useMemo(()=>{if(typeof window>"u")return[null,null];const y=document.createElement("canvas");return y.style.display="none",y.style.opacity="0",y.style.position="fixed",[y,y.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>(p&&document.documentElement.append(p),()=>{p==null||p.remove()}),[p]);const h=d.useRef({}),m=d.useRef(),[w,b]=d.useState();return d.useLayoutEffect(()=>{const y=c.current;if(y===void 0||e.every(pi))return;let C=Math.max(1,10-Math.floor(e.length/1e4)),D=0;C<u.current&&C>1&&(C--,D=1);const R={x:0,y:0,width:e.length,height:Math.min(u.current,C)},I={x:0,y:u.current-1,width:e.length,height:1};(async()=>{const k=y(R,a.signal),S=D>0?y(I,a.signal):void 0;let L;typeof k=="object"?L=k:L=await as(k),S!==void 0&&(typeof S=="object"?L=[...L,...S]:L=[...L,...await as(S)]),m.current=e,b(L)})()},[a.signal,e]),d.useMemo(()=>{let C=e.every(pi)?e:g===null?e.map(x=>pi(x)?x:{...x,width:rl}):(g.font=f.current.baseFontFull,e.map((x,k)=>{if(pi(x))return x;if(h.current[x.id]!==void 0)return{...x,width:h.current[x.id]};if(w===void 0||m.current!==e||x.id===void 0)return{...x,width:rl};const S=Lc(g,l,x,k,w,o,i,!0,s);return h.current[x.id]=S.width,S})),D=0,R=0;const I=[];for(const[x,k]of C.entries())D+=k.width,k.grow!==void 0&&k.grow>0&&(R+=k.grow,I.push(x));if(D<r&&I.length>0){const x=[...C],k=r-D;let S=k;for(let L=0;L<I.length;L++){const $=I[L],H=(C[$].grow??0)/R,F=L===I.length-1?S:Math.min(S,Math.floor(k*H));x[$]={...C[$],growOffset:F,width:C[$].width+F},S-=F}C=x}return{sizedColumns:C,nonGrowWidth:D}},[r,e,g,w,l,o,i,s])}const Et='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',Pf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}<rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="${t}"/></svg>`},Of=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}<rect x="2" y="2" width="16" height="16" rx="4" fill="${n}"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="${t}"/></svg>`},Tf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="${t}"/>
  </svg>`},Ff=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="${t}"/>
</svg>`},Hf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
    <path
        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"
        fill="${n}"
    />
    <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"
        fill="${t}"
    />
</svg>`},Ac=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="${t}"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="${t}"/>
</svg>
  `},Lf=e=>{const t=e.bgColor;return`${Et}
    <path stroke="${t}" stroke-width="2" d="M12 3v14"/>
    <path stroke="${t}" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>
    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="${t}"/>
  </svg>
`},Af=Ac,zf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="${t}"/>
</svg>`},$f=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="${t}"/>
    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="${t}"/>
    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="${t}"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="${t}"/>
  </svg>`},Vf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="${t}"/>
</svg>`},Bf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <path fill="${t}" d="M3 3h14v14H3z"/>
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="${n}"/>
  </svg>`},Nf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="${t}"/>
  </svg>`},Wf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="${t}"/>
</svg>`},_f=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="${t}"/>
    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="${t}"/>
  </svg>`},Gf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="${t}"/>
</svg>`},Xf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <rect x="2" y="8" width="10" height="8" rx="2" fill="${n}"/>
    <rect x="8" y="4" width="10" height="8" rx="2" fill="${n}"/>
    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="${t}"/>
  </svg>`},Uf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <path fill="${t}" d="M4 3h12v14H4z"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="${n}"/>
</svg>`},Yf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="${t}"/>
  </svg>`},Kf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="${t}"/>
  </svg>`},jf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="${t}"/>
</svg>`},qf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="${t}"/>
  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="${t}"/>
</svg>`},Zf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="${n}"/>
    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="${t}"/>
  </svg>`},Jf=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="${t}"/>
</svg>`},Qf=e=>{const t=e.fgColor,n=e.bgColor;return`
    ${Et}
    <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="${t}"/>
  </svg>`},eh=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="${n}"/>
  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="${t}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="${t}"/>
</svg>`},th=e=>{const t=e.fgColor,n=e.bgColor;return`${Et}
  <rect x="2" y="2" width="16" height="16" rx="2" fill="${n}"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="${t}"/>
</svg>`},nh=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>`},rh=e=>{const t=e.fgColor;return`
    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="${e.bgColor}" stroke="${t}" stroke-width="2"/>
  </svg>
`},oh={headerRowID:Pf,headerNumber:Tf,headerCode:Of,headerString:Ff,headerBoolean:Hf,headerAudioUri:Af,headerVideoUri:zf,headerEmoji:$f,headerImage:Vf,headerUri:Ac,headerPhone:Bf,headerMarkdown:Nf,headerDate:Wf,headerTime:_f,headerEmail:Gf,headerReference:Xf,headerIfThenElse:Uf,headerSingleValue:Yf,headerLookup:Kf,headerTextTemplate:jf,headerMath:qf,headerRollup:Zf,headerJoinStrings:Jf,headerSplitString:Qf,headerGeoDistance:eh,headerArray:th,rowOwnerOverlay:nh,protectedColumnOverlay:rh,renameIcon:Lf};function ih(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class ah{constructor(t,n){_e(this,"onSettled");_e(this,"spriteMap",new Map);_e(this,"headerIcons");_e(this,"inFlight",0);this.onSettled=n,this.headerIcons=t??{}}drawSprite(t,n,r,o,i,l,s,a=1){const[u,c]=ih(n,s),f=l*Math.ceil(window.devicePixelRatio),p=`${u}_${c}_${f}_${t}`;let g=this.spriteMap.get(p);if(g===void 0){const h=this.headerIcons[t];if(h===void 0)return;g=document.createElement("canvas");const m=g.getContext("2d");if(m===null)return;const w=new Image;w.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(h({fgColor:c,bgColor:u}))}`,this.spriteMap.set(p,g);const b=w.decode();if(b===void 0)return;this.inFlight++,b.then(()=>{m.drawImage(w,0,0,f,f)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else a<1&&(r.globalAlpha=a),r.drawImage(g,0,0,f,f,o,i,l,l),a<1&&(r.globalAlpha=1)}}function zc(e){if(e.length===0)return;let t;for(const n of e)t=Math.min(t??n.y,n.y);return t}function Yi(e,t,n,r,o,i,l,s,a){s=s??t;let u=t,c=e;const f=r-i;let p=!1;for(;u<n&&c<f;){const g=o(c);if(u+g>s&&a(u,c,g,!1,l&&c===r-1)===!0){p=!0;break}u+=g,c++}if(!p){u=n;for(let g=0;g<i;g++){c=r-1-g;const h=o(c);u-=h,a(u,c,h,!0,l&&c===r-1)}}}function kr(e,t,n,r,o,i){let l=0,s=0;const a=o+r;for(const u of e){const c=u.sticky?s:l+n;if(i(u,c,a,u.sticky?0:s,t)===!0)break;l+=u.width,s+=u.sticky?u.width:0}}function $c(e,t,n,r,o){let i=0,l=0;for(let s=0;s<e.length;s++){const a=e[s];let u=s+1,c=a.width;for(a.sticky&&(l+=c);u<e.length&&Wo(e[u].group,a.group)&&e[u].sticky===e[s].sticky;){const m=e[u];c+=m.width,u++,s++,m.sticky&&(l+=m.width)}const f=a.sticky?0:n,p=i+f,g=a.sticky?0:Math.max(0,l-p),h=Math.min(c-g,t-(p+g));o([a.sourceIndex,e[u-1].sourceIndex],a.group??"",p+g,0,h,r),i+=c}}function Vc(e,t,n,r,o,i,l){var p;const[s,a]=e;let u,c;const f=((p=l.find(g=>!g.sticky))==null?void 0:p.sourceIndex)??0;if(a>f){const g=Math.max(s,f);let h=t,m=r;for(let w=i.sourceIndex-1;w>=g;w--)h-=l[w].width,m+=l[w].width;for(let w=i.sourceIndex+1;w<=a;w++)m+=l[w].width;c={x:h,y:n,width:m,height:o}}if(f>s){const g=Math.min(a,f-1);let h=t,m=r;for(let w=i.sourceIndex-1;w>=s;w--)h-=l[w].width,m+=l[w].width;for(let w=i.sourceIndex+1;w<=g;w++)m+=l[w].width;u={x:h,y:n,width:m,height:o}}return[u,c]}function lh(e,t,n,r){if(r==="any")return Bc(e,{x:t,y:n,width:1,height:1});if(r==="vertical"&&(t=e.x),r==="horizontal"&&(n=e.y),xc([t,n],e))return;const o=t-e.x,i=e.x+e.width-t,l=n-e.y+1,s=e.y+e.height-n,a=Math.min(r==="vertical"?Number.MAX_SAFE_INTEGER:o,r==="vertical"?Number.MAX_SAFE_INTEGER:i,r==="horizontal"?Number.MAX_SAFE_INTEGER:l,r==="horizontal"?Number.MAX_SAFE_INTEGER:s);return a===s?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:a===l?{x:e.x,y:n,width:e.width,height:e.y-n}:a===i?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function _o(e,t,n,r,o,i,l,s){return e<=o+l&&o<=e+n&&t<=i+s&&i<=t+r}function Lr(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function Bc(e,t){const n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),o=Math.max(e.x+e.width,t.x+t.width)-n,i=Math.max(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:o,height:i}}function sh(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function ch(e,t,n,r){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const o=-4,i=-4,l=t+4,s=n+4,a=o-e.x,u=e.x+e.width-l,c=i-e.y,f=e.y+e.height-s,p=a>0?e.x+Math.floor(a/r)*r:e.x,g=u>0?e.x+e.width-Math.floor(u/r)*r:e.x+e.width,h=c>0?e.y+Math.floor(c/r)*r:e.y,m=f>0?e.y+e.height-Math.floor(f/r)*r:e.y+e.height;return{x:p,y:h,width:g-p,height:m-h}}function uh(e,t,n,r,o){const[i,l,s,a]=t,[u,c,f,p]=o,{x:g,y:h,width:m,height:w}=e,b=[];if(m<=0||w<=0)return b;const y=g+m,C=h+w,D=g<i,R=h<l,I=g+m>s,x=h+w>a,k=g>=i&&g<s||y>i&&y<=s||g<i&&y>s,S=h>=l&&h<a||C>l&&C<=a||h<l&&C>a;if(k&&S){const $=Math.max(g,i),H=Math.max(h,l),F=Math.min(y,s),T=Math.min(C,a);b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:u,y:c,width:f-u+1,height:p-c+1}})}if(D&&R){const $=g,H=h,F=Math.min(y,i),T=Math.min(C,l);b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:0,y:0,width:u+1,height:c+1}})}if(R&&k){const $=Math.max(g,i),H=h,F=Math.min(y,s),T=Math.min(C,l);b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:u,y:0,width:f-u+1,height:c+1}})}if(R&&I){const $=Math.max(g,s),H=h,F=y,T=Math.min(C,l);b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:f,y:0,width:n-f+1,height:c+1}})}if(D&&S){const $=g,H=Math.max(h,l),F=Math.min(y,i),T=Math.min(C,a);b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:0,y:c,width:u+1,height:p-c+1}})}if(I&&S){const $=Math.max(g,s),H=Math.max(h,l),F=y,T=Math.min(C,a);b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:f,y:c,width:n-f+1,height:p-c+1}})}if(D&&x){const $=g,H=Math.max(h,a),F=Math.min(y,i),T=C;b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:0,y:p,width:u+1,height:r-p+1}})}if(x&&k){const $=Math.max(g,i),H=Math.max(h,a),F=Math.min(y,s),T=C;b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:u,y:p,width:f-u+1,height:r-p+1}})}if(I&&x){const $=Math.max(g,s),H=Math.max(h,a),F=y,T=C;b.push({rect:{x:$,y:H,width:F-$,height:T-H},clip:{x:f,y:p,width:n-f+1,height:r-p+1}})}return b}const dh={kind:U.Loading,allowOverlay:!1};function ms(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m,w,b,y,C,D,R,I,x,k,S,L,$,H,F,T,J,X,te,he){let ue=(C==null?void 0:C.size)??Number.MAX_SAFE_INTEGER;const Q=performance.now();let j=F.baseFontFull;e.font=j;const ae={ctx:e},Z=[0,0],se=w>0?Vr(a,w,u):0;let Oe,K;const ne=zc(y);return kr(t,s,i,l,o,(le,He,Ve,qe,at)=>{const Me=Math.max(0,qe-He),Le=He+Me,Te=o+1,wt=le.width-Me,yt=r-o-1;if(y.length>0){let et=!1;for(let Ue=0;Ue<y.length;Ue++){const tt=y[Ue];if(_o(Le,Te,wt,yt,tt.x,tt.y,tt.width,tt.height)){et=!0;break}}if(!et)return}const gt=()=>{e.save(),e.beginPath(),e.rect(Le,Te,wt,yt),e.clip()},ee=D.columns.hasIndex(le.sourceIndex),pe=f(le.group??"").overrideTheme,Ee=le.themeOverride===void 0&&pe===void 0?F:ar(F,pe,le.themeOverride),De=Ee.baseFontFull;De!==j&&(j=De,e.font=De),gt();let be;return Yi(at,Ve,r,a,u,w,b,ne,(et,Ue,tt,ce,we)=>{var je,$t,gn;if(Ue<0||(Z[0]=le.sourceIndex,Z[1]=Ue,C!==void 0&&!C.has(Z)))return;if(y.length>0){let ot=!1;for(let At=0;At<y.length;At++){const ut=y[At];if(_o(He,et,le.width,tt,ut.x,ut.y,ut.width,ut.height)){ot=!0;break}}if(!ot)return}const Ye=D.rows.hasIndex(Ue),Ke=g.hasIndex(Ue),rt=Ue<a?c(Z):dh;let Ct=He,lt=le.width,Be=!1,Pt=!1;if(rt.span!==void 0){const[ot,At]=rt.span,ut=`${Ue},${ot},${At},${le.sticky}`;if(K===void 0&&(K=new Set),K.has(ut)){ue--;return}else{const yn=Vc(rt.span,He,et,le.width,tt,le,n),nn=le.sticky?yn[0]:yn[1];if(!le.sticky&&yn[0]!==void 0&&(Pt=!0),nn!==void 0){Ct=nn.x,lt=nn.width,K.add(ut),e.restore(),be=void 0,e.save(),e.beginPath();const sn=Math.max(0,qe-nn.x);e.rect(nn.x+sn,et,nn.width-sn,tt),Oe===void 0&&(Oe=[]),Oe.push({x:nn.x+sn,y:et,width:nn.width-sn,height:tt}),e.clip(),Be=!0}}}const zt=p==null?void 0:p(Ue),jt=we&&((je=le.trailingRowOptions)==null?void 0:je.themeOverride)!==void 0?($t=le.trailingRowOptions)==null?void 0:$t.themeOverride:void 0,Rt=rt.themeOverride===void 0&&zt===void 0&&jt===void 0?Ee:ar(Ee,zt,jt,rt.themeOverride);e.beginPath();const Lt=hf(Z,rt,D);let Xt=gf(Z,rt,D,m);const En=rt.span!==void 0&&D.columns.some(ot=>rt.span!==void 0&&ot>=rt.span[0]&&ot<=rt.span[1]);Lt&&!h&&m?Xt=0:Lt&&m&&(Xt=Math.max(Xt,1)),En&&Xt++,Lt||(Ye&&Xt++,ee&&!we&&Xt++);const ln=rt.kind===U.Protected?Rt.bgCellMedium:Rt.bgCell;let mt;if((ce||ln!==F.bgCell)&&(mt=dn(ln,mt)),Xt>0||Ke){Ke&&(mt=dn(Rt.bgHeader,mt));for(let ot=0;ot<Xt;ot++)mt=dn(Rt.accentLight,mt)}else if(R!==void 0){for(const ot of R)if(ot[0]===le.sourceIndex&&ot[1]===Ue){mt=dn(Rt.bgSearchResult,mt);break}}if(I!==void 0)for(let ot=0;ot<I.length;ot++){const At=I[ot],ut=At.range;At.style!=="solid-outline"&&ut.x<=le.sourceIndex&&le.sourceIndex<ut.x+ut.width&&ut.y<=Ue&&Ue<ut.y+ut.height&&(mt=dn(At.color,mt))}let jn=!1;if(C!==void 0){const ot=et+1,ut=(ce?ot+tt-1:Math.min(ot+tt-1,r-se))-ot;(ut!==tt-1||Ct+1<=qe)&&(jn=!0,e.save(),e.beginPath(),e.rect(Ct+1,ot,lt-1,ut),e.clip()),mt=mt===void 0?Rt.bgCell:dn(mt,Rt.bgCell)}const In=le.sourceIndex===n.length-1,St=Ue===a-1;mt!==void 0&&(e.fillStyle=mt,be!==void 0&&(be.fillStyle=mt),C!==void 0?e.fillRect(Ct+1,et+1,lt-(In?2:1),tt-(St?2:1)):e.fillRect(Ct,et,lt,tt)),rt.style==="faded"&&(e.globalAlpha=.6);let Zt;for(let ot=0;ot<S.length;ot++){const At=S[ot];if(At.item[0]===le.sourceIndex&&At.item[1]===Ue){Zt=At;break}}if(lt>he&&!Pt){const ot=Rt.baseFontFull;ot!==j&&(e.font=ot,j=ot),be=Nc(e,rt,le.sourceIndex,Ue,In,St,Ct,et,lt,tt,Xt>0,Rt,mt??Rt.bgCell,x,k,(Zt==null?void 0:Zt.hoverAmount)??0,L,H,Q,$,be,T,J,X,te)}return jn&&e.restore(),rt.style==="faded"&&(e.globalAlpha=1),ue--,Be&&(e.restore(),(gn=be==null?void 0:be.deprep)==null||gn.call(be,ae),be=void 0,gt(),j=De,e.font=De),ue<=0}),e.restore(),ue<=0}),Oe}const Po=[0,0],Oo={x:0,y:0,width:0,height:0},Aa=[void 0,()=>{}];let ol=!1;function fh(){ol=!0}function Nc(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m,w,b,y,C,D,R,I,x,k){var J,X;let S,L;w!==void 0&&w[0][0]===n&&w[0][1]===r&&(S=w[1][0],L=w[1][1]);let $;Po[0]=n,Po[1]=r,Oo.x=l,Oo.y=s,Oo.width=a,Oo.height=u,Aa[0]=I.getValue(Po),Aa[1]=te=>I.setValue(Po,te),ol=!1;const H={ctx:e,theme:f,col:n,row:r,cell:t,rect:Oo,highlighted:c,cellFillColor:p,hoverAmount:m,frameTime:y,hoverX:S,drawState:Aa,hoverY:L,imageLoader:g,spriteManager:h,hyperWrapping:b,overrideCursor:S!==void 0?k:void 0,requestAnimationFrame:fh},F=yf(H,t.lastUpdated,y,D,o,i),T=x(t);if(T!==void 0){(D==null?void 0:D.renderer)!==T&&((J=D==null?void 0:D.deprep)==null||J.call(D,H),D=void 0);const te=(X=T.drawPrep)==null?void 0:X.call(T,H,D);C!==void 0&&!uo(H.cell)?C(H,()=>T.draw(H,t)):T.draw(H,t),$=te===void 0?void 0:{deprep:te==null?void 0:te.deprep,fillStyle:te==null?void 0:te.fillStyle,font:te==null?void 0:te.font,renderer:T}}return(F||ol)&&(R==null||R(Po)),$}function Cl(e,t,n,r,o,i,l,s,a=-20,u=-20,c=void 0,f="center",p="square"){const g=Math.floor(o+l/2),h=p==="circle"?1e4:t.roundingRadius??4;let m=yc(c??t.checkboxMaxSize,l,t.cellVerticalPadding),w=m/2;const b=wc(f,r,i,t.cellHorizontalPadding,m),y=bc(b,g,m),C=Cc(r+a,o+u,y);switch(n){case!0:{e.beginPath(),An(e,b-m/2,g-m/2,m,m,h),p==="circle"&&(w*=.8,m*=.8),e.fillStyle=s?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(b-w+m/4.23,g-w+m/1.97),e.lineTo(b-w+m/2.42,g-w+m/1.44),e.lineTo(b-w+m/1.29,g-w+m/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case Ti:case!1:{e.beginPath(),An(e,b-m/2+.5,g-m/2+.5,m-1,m-1,h),e.lineWidth=1,e.strokeStyle=C?t.textDark:t.textMedium,e.stroke();break}case hl:{e.beginPath(),An(e,b-m/2,g-m/2,m,m,h),e.fillStyle=C?t.textMedium:t.textLight,e.fill(),p==="circle"&&(w*=.8,m*=.8),e.beginPath(),e.moveTo(b-m/3,g),e.lineTo(b+m/3,g),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:No()}}function hh(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m,w,b,y){var S,L,$,H;const C=l+s;if(C<=0)return;e.fillStyle=f.bgHeader,e.fillRect(0,0,o,C);const D=(S=r==null?void 0:r[0])==null?void 0:S[0],R=(L=r==null?void 0:r[0])==null?void 0:L[1],I=($=r==null?void 0:r[1])==null?void 0:$[0],x=(H=r==null?void 0:r[1])==null?void 0:H[1],k=f.headerFontFull;e.font=k,kr(t,0,i,0,C,(F,T,J,X)=>{var le;if(w!==void 0&&!w.has([F.sourceIndex,-1]))return;const te=Math.max(0,X-T);e.save(),e.beginPath(),e.rect(T+te,s,F.width-te,l),e.clip();const he=m(F.group??"").overrideTheme,ue=F.themeOverride===void 0&&he===void 0?f:ar(f,he,F.themeOverride);ue.bgHeader!==f.bgHeader&&(e.fillStyle=ue.bgHeader,e.fill()),ue!==f&&(e.font=ue.headerFontFull);const Q=c.columns.hasIndex(F.sourceIndex),j=a!==void 0||u||F.headerRowMarkerDisabled===!0,ae=!j&&R===-1&&D===F.sourceIndex,Z=j?0:((le=g.find(He=>He.item[0]===F.sourceIndex&&He.item[1]===-1))==null?void 0:le.hoverAmount)??0,se=(c==null?void 0:c.current)!==void 0&&c.current.cell[0]===F.sourceIndex,Oe=Q?ue.accentColor:se?ue.bgHeaderHasFocus:ue.bgHeader,K=n?s:0,ne=F.sourceIndex===0?0:1;Q?(e.fillStyle=Oe,e.fillRect(T+ne,K,F.width-ne,l)):(se||Z>0)&&(e.beginPath(),e.rect(T+ne,K,F.width-ne,l),se&&(e.fillStyle=ue.bgHeaderHasFocus,e.fill()),Z>0&&(e.globalAlpha=Z,e.fillStyle=ue.bgHeaderHovered,e.fill(),e.globalAlpha=1)),Gc(e,T,K,F.width,l,F,Q,ue,ae,ae?I:void 0,ae?x:void 0,se,Z,p,b,y),e.restore()}),n&&gh(e,t,o,i,s,r,f,p,g,h,m,w)}function gh(e,t,n,r,o,i,l,s,a,u,c,f){const[g,h]=(i==null?void 0:i[0])??[];let m=0;$c(t,n,r,o,(w,b,y,C,D,R)=>{if(f!==void 0&&!f.hasItemInRectangle({x:w[0],y:-2,width:w[1]-w[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(y,C,D,R),e.clip();const I=c(b),x=(I==null?void 0:I.overrideTheme)===void 0?l:ar(l,I.overrideTheme),k=h===-2&&g!==void 0&&g>=w[0]&&g<=w[1],S=k?x.bgGroupHeaderHovered??x.bgHeaderHovered:x.bgGroupHeader??x.bgHeader;if(S!==l.bgHeader&&(e.fillStyle=S,e.fill()),e.fillStyle=x.textGroupHeader??x.textHeader,I!==void 0){let L=y;if(I.icon!==void 0&&(s.drawSprite(I.icon,"normal",e,L+8,(o-20)/2,20,x),L+=26),e.fillText(I.name,L+8,o/2+Yt(e,l.headerFontFull)),I.actions!==void 0&&k){const $=Wc({x:y,y:C,width:D,height:R},I.actions);e.beginPath();const H=$[0].x-10,F=y+D-H;e.rect(H,0,F,o);const T=e.createLinearGradient(H,0,H+F,0),J=zr(S,0);T.addColorStop(0,J),T.addColorStop(10/F,S),T.addColorStop(1,S),e.fillStyle=T,e.fill(),e.globalAlpha=.6;const[X,te]=(i==null?void 0:i[1])??[-1,-1];for(let he=0;he<I.actions.length;he++){const ue=I.actions[he],Q=$[he],j=Lr(Q,X+y,te);j&&(e.globalAlpha=1),s.drawSprite(ue.icon,"normal",e,Q.x+Q.width/2-10,Q.y+Q.height/2-10,20,x),j&&(e.globalAlpha=.6)}e.globalAlpha=1}}y!==0&&u(w[0])&&(e.beginPath(),e.moveTo(y+.5,0),e.lineTo(y+.5,o),e.strokeStyle=l.borderColor,e.lineWidth=1,e.stroke()),e.restore(),m=y+D}),e.beginPath(),e.moveTo(m+.5,0),e.lineTo(m+.5,o),e.moveTo(0,o+.5),e.lineTo(n,o+.5),e.strokeStyle=l.borderColor,e.lineWidth=1,e.stroke()}const bi=30;function mh(e,t,n,r,o){return{x:e+n-bi,y:Math.max(t,t+r/2-bi/2),width:bi,height:Math.min(bi,r)}}function Wc(e,t){const n=[];let r=e.x+e.width-26*t.length;const o=e.y+e.height/2-13,i=26,l=26;for(let s=0;s<t.length;s++)n.push({x:r,y:o,width:l,height:i}),r+=26;return n}function To(e,t,n){return!n||e===void 0||(e.x=t-(e.x-t)-e.width),e}function _c(e,t,n,r,o,i,l,s){var b;const a=l.cellHorizontalPadding,u=l.headerIconSize,c=mh(n,r,o,i);let f=n+a;const p=t.icon===void 0?void 0:{x:f,y:r+(i-u)/2,width:u,height:u},g=p===void 0||t.overlayIcon===void 0?void 0:{x:p.x+9,y:p.y+6,width:18,height:18};p!==void 0&&(f+=Math.ceil(u*1.3));const h={x:f,y:r,width:o-f,height:i};let m;if(t.indicatorIcon!==void 0){const y=e===void 0?((b=Ic(t.title,l.headerFontFull))==null?void 0:b.width)??0:fn(t.title,e,l.headerFontFull).width;h.width=y,f+=y+a,m={x:f,y:r+(i-u)/2,width:u,height:u}}const w=n+o/2;return{menuBounds:To(c,w,s),iconBounds:To(p,w,s),iconOverlayBounds:To(g,w,s),textBounds:To(h,w,s),indicatorIconBounds:To(m,w,s)}}function ps(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m){if(i.rowMarker!==void 0&&i.headerRowMarkerDisabled!==!0){const y=i.rowMarkerChecked;y!==!0&&i.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=f);const C=i.headerRowMarkerTheme!==void 0?ar(s,i.headerRowMarkerTheme):s;Cl(e,C,y,t,n,r,o,!1,void 0,void 0,s.checkboxMaxSize,"center",i.rowMarker),y!==!0&&i.headerRowMarkerAlwaysVisible!==!0&&(e.globalAlpha=1);return}const w=l?s.textHeaderSelected:s.textHeader,b=i.hasMenu===!0&&(a||g&&l)&&m.menuBounds!==void 0;if(i.icon!==void 0&&m.iconBounds!==void 0){let y=l?"selected":"normal";i.style==="highlight"&&(y=l?"selected":"special"),p.drawSprite(i.icon,y,e,m.iconBounds.x,m.iconBounds.y,m.iconBounds.width,s),i.overlayIcon!==void 0&&m.iconOverlayBounds!==void 0&&p.drawSprite(i.overlayIcon,l?"selected":"special",e,m.iconOverlayBounds.x,m.iconOverlayBounds.y,m.iconOverlayBounds.width,s)}if(b&&r>35){const C=h?35:r-35,D=h?35*.7:r-35*.7,R=C/r,I=D/r,x=e.createLinearGradient(t,0,t+r,0),k=zr(w,0);x.addColorStop(h?1:0,w),x.addColorStop(R,w),x.addColorStop(I,k),x.addColorStop(h?0:1,k),e.fillStyle=x}else e.fillStyle=w;if(h&&(e.textAlign="right"),m.textBounds!==void 0&&e.fillText(i.title,h?m.textBounds.x+m.textBounds.width:m.textBounds.x,n+o/2+Yt(e,s.headerFontFull)),h&&(e.textAlign="left"),i.indicatorIcon!==void 0&&m.indicatorIconBounds!==void 0&&(!b||!_o(m.menuBounds.x,m.menuBounds.y,m.menuBounds.width,m.menuBounds.height,m.indicatorIconBounds.x,m.indicatorIconBounds.y,m.indicatorIconBounds.width,m.indicatorIconBounds.height))){let y=l?"selected":"normal";i.style==="highlight"&&(y=l?"selected":"special"),p.drawSprite(i.indicatorIcon,y,e,m.indicatorIconBounds.x,m.indicatorIconBounds.y,m.indicatorIconBounds.width,s)}if(b&&m.menuBounds!==void 0){const y=m.menuBounds,C=u!==void 0&&c!==void 0&&Lr(y,u+t,c+n);if(C||(e.globalAlpha=.7),i.menuIcon===void 0||i.menuIcon===Fi.Triangle){e.beginPath();const D=y.x+y.width/2-5.5,R=y.y+y.height/2-3;Mf(e,[{x:D,y:R},{x:D+11,y:R},{x:D+5.5,y:R+6}],1),e.fillStyle=w,e.fill()}else if(i.menuIcon===Fi.Dots){e.beginPath();const D=y.x+y.width/2,R=y.y+y.height/2;kf(e,D,R),e.fillStyle=w,e.fill()}else{const D=y.x+(y.width-s.headerIconSize)/2,R=y.y+(y.height-s.headerIconSize)/2;p.drawSprite(i.menuIcon,"normal",e,D,R,s.headerIconSize,s)}C||(e.globalAlpha=1)}}function Gc(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m){const w=pl(i.title)==="rtl",b=_c(e,i,t,n,r,o,s,w);h!==void 0?h({ctx:e,theme:s,rect:{x:t,y:n,width:r,height:o},column:i,columnIndex:i.sourceIndex,isSelected:l,hoverAmount:p,isHovered:a,hasSelectedCell:f,spriteManager:g,menuBounds:(b==null?void 0:b.menuBounds)??{x:0,y:0,height:0,width:0},hoverX:u,hoverY:c},()=>ps(e,t,n,r,o,i,l,s,a,u,c,p,g,m,w,b)):ps(e,t,n,r,o,i,l,s,a,u,c,p,g,m,w,b)}function ph(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m,w,b,y){if(b!==void 0||t[t.length-1]!==n[t.length-1])return;const C=zc(w);kr(t,a,l,s,i,(D,R,I,x,k)=>{if(D!==t[t.length-1])return;R+=D.width;const S=Math.max(R,x);S>r||(e.save(),e.beginPath(),e.rect(S,i+1,1e4,o-i-1),e.clip(),Yi(k,I,o,u,c,h,m,C,(L,$,H,F)=>{if(!F&&w.length>0&&!w.some(he=>_o(R,L,1e4,H,he.x,he.y,he.width,he.height)))return;const T=p.hasIndex($),J=g.hasIndex($);e.beginPath();const X=f==null?void 0:f($),te=X===void 0?y:ar(y,X);te.bgCell!==y.bgCell&&(e.fillStyle=te.bgCell,e.fillRect(R,L,1e4,H)),J&&(e.fillStyle=te.bgHeader,e.fillRect(R,L,1e4,H)),T&&(e.fillStyle=te.accentLight,e.fillRect(R,L,1e4,H))}),e.restore())})}function vh(e,t,n,r,o,i,l,s,a){let u=!1;for(const h of t)if(!h.sticky){u=l(h.sourceIndex);break}const c=a.horizontalBorderColor??a.borderColor,f=a.borderColor,p=u?bo(t):0;let g;if(p!==0&&(g=ds(f,a.bgCell),e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,r),e.strokeStyle=g,e.stroke()),o>0){const h=f===c&&g!==void 0?g:ds(c,a.bgCell),m=Vr(i,o,s);e.beginPath(),e.moveTo(0,r-m+.5),e.lineTo(n,r-m+.5),e.strokeStyle=h,e.stroke()}}const Xc=(e,t,n)=>{let r=0,o=t,i=0,l=n;if(e!==void 0&&e.length>0){r=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(const s of e)r=Math.min(r,s.x-1),o=Math.max(o,s.x+s.width+1),i=Math.min(i,s.y-1),l=Math.max(l,s.y+s.height+1)}return{minX:r,maxX:o,minY:i,maxY:l}};function bh(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h){var H;const m=h.bgCell,{minX:w,maxX:b,minY:y,maxY:C}=Xc(s,i,l),D=[],R=l-Vr(g,p,u);let I=a,x=n,k=0;for(;I+o<R;){const F=I+o,T=u(x);if(F>=y&&F<=C-1){const J=c==null?void 0:c(x),X=J==null?void 0:J.bgCell;X!==void 0&&X!==m&&x>=g-p&&D.push({x:w,y:F,w:b-w,h:T,color:X})}I+=T,x<g-p&&(k=I),x++}let S=0;const L=Math.min(R,C)-k;if(L>0)for(let F=0;F<t.length;F++){const T=t[F];if(T.width===0)continue;const J=T.sticky?S:S+r,X=(H=T.themeOverride)==null?void 0:H.bgCell;X!==void 0&&X!==m&&J>=w&&J<=b&&f(F+1)&&D.push({x:J,y:k,w:T.width,h:L,color:X}),S+=T.width}if(D.length===0)return;let $;e.beginPath();for(let F=D.length-1;F>=0;F--){const T=D[F];$===void 0?$=T.color:T.color!==$&&(e.fillStyle=$,e.fill(),e.beginPath(),$=T.color),e.rect(T.x,T.y,T.w,T.h)}$!==void 0&&(e.fillStyle=$,e.fill()),e.beginPath()}function vs(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m,w,b=!1){if(a!==void 0){e.beginPath(),e.save(),e.rect(0,0,i,l);for(const H of a)e.rect(H.x+1,H.y+1,H.width-1,H.height-1);e.clip("evenodd")}const y=w.horizontalBorderColor??w.borderColor,C=w.borderColor,{minX:D,maxX:R,minY:I,maxY:x}=Xc(s,i,l),k=[];e.beginPath();let S=.5;for(let H=0;H<t.length;H++){const F=t[H];if(F.width===0)continue;S+=F.width;const T=F.sticky?S:S+r;T>=D&&T<=R&&g(H+1)&&k.push({x1:T,y1:Math.max(u,I),x2:T,y2:Math.min(l,x),color:C})}let L=l+.5;for(let H=m-h;H<m;H++){const F=f(H);L-=F,k.push({x1:D,y1:L,x2:R,y2:L,color:y})}if(b!==!0){let H=c+.5,F=n;const T=L;for(;H+o<T;){const J=H+o;if(J>=I&&J<=x-1){const X=p==null?void 0:p(F);k.push({x1:D,y1:J,x2:R,y2:J,color:(X==null?void 0:X.horizontalBorderColor)??(X==null?void 0:X.borderColor)??y})}H+=f(F),F++}}const $=zd(k,H=>H.color);for(const H of Object.keys($)){e.strokeStyle=H;for(const F of $[H])e.moveTo(F.x1,F.y1),e.lineTo(F.x2,F.y2);e.stroke(),e.beginPath()}a!==void 0&&e.restore()}function wh(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m,w,b,y){const C=[];e.imageSmoothingEnabled=!1;const D=Math.min(o.cellYOffset,l),R=Math.max(o.cellYOffset,l);let I=0;if(typeof b=="number")I+=(R-D)*b;else for(let T=D;T<R;T++)I+=b(T);l>o.cellYOffset&&(I=-I),I+=a-o.translateY;const x=Math.min(o.cellXOffset,i),k=Math.max(o.cellXOffset,i);let S=0;for(let T=x;T<k;T++)S+=m[T].width;i>o.cellXOffset&&(S=-S),S+=s-o.translateX;const L=bo(w);if(S!==0&&I!==0)return{regions:[]};const $=u>0?Vr(p,u,b):0,H=c-L-Math.abs(S),F=f-g-$-Math.abs(I)-1;if(H>150&&F>150){const T={sx:0,sy:0,sw:c*h,sh:f*h,dx:0,dy:0,dw:c*h,dh:f*h};if(I>0?(T.sy=(g+1)*h,T.sh=F*h,T.dy=(I+g+1)*h,T.dh=F*h,C.push({x:0,y:g,width:c,height:I+1})):I<0&&(T.sy=(-I+g+1)*h,T.sh=F*h,T.dy=(g+1)*h,T.dh=F*h,C.push({x:0,y:f+I-$,width:c,height:-I+$})),S>0?(T.sx=L*h,T.sw=H*h,T.dx=(S+L)*h,T.dw=H*h,C.push({x:L-1,y:0,width:S+2,height:f})):S<0&&(T.sx=(L-S)*h,T.sw=H*h,T.dx=L*h,T.dw=H*h,C.push({x:c+S,y:0,width:-S,height:f})),e.setTransform(1,0,0,1,0,0),y){if(L>0&&S!==0&&I===0&&(r===void 0||(n==null?void 0:n[1])!==!1)){const J=L*h,X=f*h;e.drawImage(t,0,0,J,X,0,0,J,X)}if($>0&&S===0&&I!==0&&(r===void 0||(n==null?void 0:n[0])!==!1)){const J=(f-$)*h,X=c*h,te=$*h;e.drawImage(t,0,J,X,te,0,J,X,te)}}e.drawImage(t,T.sx,T.sy,T.sw,T.sh,T.dx,T.dy,T.dw,T.dh),e.scale(h,h)}return e.imageSmoothingEnabled=!0,{regions:C}}function yh(e,t,n,r,o,i,l,s,a,u){const c=[];return t!==e.cellXOffset||n!==e.cellYOffset||r!==e.translateX||o!==e.translateY||kr(a,n,r,o,s,(f,p,g,h)=>{if(f.sourceIndex===u){const m=Math.max(p,h)+1;return c.push({x:m,y:0,width:i-m,height:l}),!0}}),c}function Ch(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let n;for(let r=0;r<e.mappedColumns.length;r++){const o=e.mappedColumns[r],i=t.mappedColumns[r];if(vo(o,i))continue;if(n!==void 0||o.width===i.width)return!1;const{width:l,...s}=o,{width:a,...u}=i;if(!vo(s,u))return!1;n=r}return n===void 0?!0:n}return!0}function bs(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m){const w=h==null?void 0:h.filter(x=>x.style!=="no-outline");if(w===void 0||w.length===0)return;const b=bo(s),y=Vr(g,p,f),C=[a,0,s.length,g-p],D=[b,0,t,n-y],R=w.map(x=>{const k=x.range,S=x.style??"dashed";return uh(k,C,t,n,D).map(L=>{const $=L.rect,H=nl($.x,$.y,t,n,c,u+c,r,o,i,l,g,a,p,s,f),F=$.width===1&&$.height===1?H:nl($.x+$.width-1,$.y+$.height-1,t,n,c,u+c,r,o,i,l,g,a,p,s,f);return $.x+$.width>=s.length&&(F.width-=1),$.y+$.height>=g&&(F.height-=1),{color:x.color,style:S,clip:L.clip,rect:ch({x:H.x,y:H.y,width:F.x+F.width-H.x,height:F.y+F.height-H.y},t,n,8)}})}),I=()=>{e.lineWidth=1;let x=!1;for(const k of R)for(const S of k)if((S==null?void 0:S.rect)!==void 0&&_o(0,0,t,n,S.rect.x,S.rect.y,S.rect.width,S.rect.height)){const L=x,$=!sh(S.clip,S.rect);e.beginPath(),$&&(e.save(),e.rect(S.clip.x,S.clip.y,S.clip.width,S.clip.height),e.clip()),S.style==="dashed"&&!x?(e.setLineDash([5,3]),x=!0):(S.style==="solid"||S.style==="solid-outline")&&x&&(e.setLineDash([]),x=!1),e.strokeStyle=S.style==="solid-outline"?dn(dn(S.color,m.borderColor),m.bgCell):zr(S.color,1),e.closePath(),e.strokeRect(S.rect.x+.5,S.rect.y+.5,S.rect.width-1,S.rect.height-1),$&&(e.restore(),x=L)}x&&e.setLineDash([])};return I(),I}function ws(e,t,n,r,o){e.beginPath(),e.moveTo(t,n),e.lineTo(t,r),e.lineWidth=2,e.strokeStyle=o,e.stroke(),e.globalAlpha=1}function za(e,t,n,r,o,i,l,s,a,u,c,f,p,g,h,m,w){if(c.current===void 0)return;const b=m!==!1&&m!==void 0;if(!b)return;const y=typeof m=="object"?{...Hi,...m}:Hi,C=c.current.range,D=c.current.cell,R=[C.x+C.width-1,C.y+C.height-1];if(D[1]>=w&&R[1]>=w||!l.some(X=>X.sourceIndex===D[0]||X.sourceIndex===R[0]))return;const[x,k]=c.current.cell,S=p(c.current.cell),L=S.span??[x,x],$=k>=w-g,H=g>0&&!$?Vr(w,g,f)-1:0,F=R[1];let T;if(kr(l,r,o,i,u,(X,te,he,ue,Q)=>{if(X.sticky&&x>X.sourceIndex)return;const j=X.sourceIndex<L[0],ae=X.sourceIndex>L[1],Z=X.sourceIndex===R[0];if(!(!Z&&(j||ae)))return Yi(Q,he,n,w,f,g,h,void 0,(se,Oe,K)=>{if(Oe!==k&&Oe!==F)return;let ne=te,le=X.width;if(S.span!==void 0){const Ve=Vc(S.span,te,se,X.width,K,X,s),qe=X.sticky?Ve[0]:Ve[1];qe!==void 0&&(ne=qe.x,le=qe.width)}return Oe===F&&Z&&b&&(T=()=>{var Le;ue>ne&&!X.sticky&&(e.beginPath(),e.rect(ue,0,t-ue,n),e.clip());const Ve=y.size,qe=Ve/2,at=ne+le+y.offsetX-qe+.5,Me=se+K+y.offsetY-qe+.5;e.beginPath(),y.shape==="circle"?e.arc(at+qe,Me+qe,qe,0,Math.PI*2):e.rect(at,Me,Ve,Ve),e.fillStyle=((Le=X.themeOverride)==null?void 0:Le.accentColor)??a.accentColor,e.fill(),y.outline>0&&(e.lineWidth=y.outline,e.strokeStyle=a.bgCell,y.shape==="circle"?(e.beginPath(),e.arc(at+qe,Me+qe,qe+y.outline/2,0,Math.PI*2),e.stroke()):e.strokeRect(at-y.outline/2,Me-y.outline/2,Ve+y.outline,Ve+y.outline))}),T!==void 0}),T!==void 0}),T===void 0)return;const J=()=>{e.save(),e.beginPath(),e.rect(0,u,t,n-u-H),e.clip(),T==null||T(),e.restore()};return J(),J}function Sh(e,t,n,r,o,i,l,s,a){a===void 0||a.size===0||(e.beginPath(),$c(t,n,i,r,(u,c,f,p,g,h)=>{a.hasItemInRectangle({x:u[0],y:-2,width:u[1]-u[0]+1,height:1})&&e.rect(f,p,g,h)}),kr(t,s,i,l,o,(u,c,f,p)=>{const g=Math.max(0,p-c),h=c+g+1,m=u.width-g-1;a.has([u.sourceIndex,-1])&&e.rect(h,r,m,o-r)}),e.clip())}function xh(e,t,n,r,o,i,l,s,a,u){let c=0;return kr(e,i,r,o,n,(f,p,g,h,m)=>(Yi(m,g,t,l,s,a,u,void 0,(w,b,y,C)=>{C||(c=Math.max(b,c))}),!0)),c}function ys(e,t){var In;const{canvasCtx:n,headerCanvasCtx:r,width:o,height:i,cellXOffset:l,cellYOffset:s,translateX:a,translateY:u,mappedColumns:c,enableGroups:f,freezeColumns:p,dragAndDropState:g,theme:h,drawFocus:m,headerHeight:w,groupHeaderHeight:b,disabledRows:y,rowHeight:C,verticalBorder:D,overrideCursor:R,isResizing:I,selection:x,fillHandle:k,freezeTrailingRows:S,rows:L,getCellContent:$,getGroupDetails:H,getRowThemeOverride:F,isFocused:T,drawHeaderCallback:J,prelightCells:X,drawCellCallback:te,highlightRegions:he,resizeCol:ue,imageLoader:Q,lastBlitData:j,hoverValues:ae,hyperWrapping:Z,hoverInfo:se,spriteManager:Oe,maxScaleFactor:K,hasAppendRow:ne,touchMode:le,enqueue:He,renderStateProvider:Ve,getCellRenderer:qe,renderStrategy:at,bufferACtx:Me,bufferBCtx:Le,damage:Te,minimumCellWidth:wt,resizeIndicator:yt}=e;if(o===0||i===0)return;const gt=at==="double-buffer",ee=Math.min(K,Math.ceil(window.devicePixelRatio??1)),pe=at!=="direct"&&Ch(e,t),Ee=n.canvas;(Ee.width!==o*ee||Ee.height!==i*ee)&&(Ee.width=o*ee,Ee.height=i*ee,Ee.style.width=o+"px",Ee.style.height=i+"px");const De=r.canvas,be=f?b+w:w,et=be+1;(De.width!==o*ee||De.height!==et*ee)&&(De.width=o*ee,De.height=et*ee,De.style.width=o+"px",De.style.height=et+"px");const Ue=Me.canvas,tt=Le.canvas;gt&&(Ue.width!==o*ee||Ue.height!==i*ee)&&(Ue.width=o*ee,Ue.height=i*ee,j.current!==void 0&&(j.current.aBufferScroll=void 0)),gt&&(tt.width!==o*ee||tt.height!==i*ee)&&(tt.width=o*ee,tt.height=i*ee,j.current!==void 0&&(j.current.bBufferScroll=void 0));const ce=j.current;if(pe===!0&&l===(ce==null?void 0:ce.cellXOffset)&&s===(ce==null?void 0:ce.cellYOffset)&&a===(ce==null?void 0:ce.translateX)&&u===(ce==null?void 0:ce.translateY))return;let we=null;gt&&(we=n);const Ye=r;let Ke;gt?Te!==void 0?Ke=(ce==null?void 0:ce.lastBuffer)==="b"?Le:Me:Ke=(ce==null?void 0:ce.lastBuffer)==="b"?Me:Le:Ke=n;const rt=Ke.canvas,Ct=gt?rt===Ue?tt:Ue:Ee,lt=typeof C=="number"?()=>C:C;Ye.save(),Ke.save(),Ye.beginPath(),Ke.beginPath(),Ye.textBaseline="middle",Ke.textBaseline="middle",ee!==1&&(Ye.scale(ee,ee),Ke.scale(ee,ee));const Be=tl(c,l,o,g,a);let Pt=[];const zt=m&&((In=x.current)==null?void 0:In.cell[1])===s&&u===0;let jt=!1;if(he!==void 0){for(const St of he)if(St.style!=="no-outline"&&St.range.y===s&&u===0){jt=!0;break}}const Rt=()=>{hh(Ye,Be,f,se,o,a,w,b,g,I,x,h,Oe,ae,D,H,Te,J,le),vs(Ye,Be,s,a,u,o,i,void 0,void 0,b,be,lt,F,D,S,L,h,!0),Ye.beginPath(),Ye.moveTo(0,et-.5),Ye.lineTo(o,et-.5),Ye.strokeStyle=dn(h.headerBottomBorderColor??h.horizontalBorderColor??h.borderColor,h.bgHeader),Ye.stroke(),jt&&bs(Ye,o,i,l,s,a,u,c,p,w,b,C,S,L,he,h),zt&&za(Ye,o,i,s,a,u,Be,c,h,be,x,lt,$,S,ne,k,L)};if(Te!==void 0){const St=Be[Be.length-1].sourceIndex+1,Zt=Te.hasItemInRegion([{x:l,y:-2,width:St,height:2},{x:l,y:s,width:St,height:300},{x:0,y:s,width:p,height:300},{x:0,y:-2,width:p,height:2},{x:l,y:L-S,width:St,height:S,when:S>0}]),je=$t=>{ms($t,Be,c,i,be,a,u,s,L,lt,$,H,F,y,T,m,S,ne,Pt,Te,x,X,he,Q,Oe,ae,se,te,Z,h,He,Ve,qe,R,wt);const gn=x.current;k!==!1&&k!==void 0&&m&&gn!==void 0&&Te.has(kc(gn.range))&&za($t,o,i,s,a,u,Be,c,h,be,x,lt,$,S,ne,k,L)};Zt&&(je(Ke),we!==null&&(we.save(),we.scale(ee,ee),we.textBaseline="middle",je(we),we.restore()),Te.hasHeader()&&(Sh(Ye,Be,o,b,be,a,u,s,Te),Rt())),Ke.restore(),Ye.restore();return}if((pe!==!0||l!==(ce==null?void 0:ce.cellXOffset)||a!==(ce==null?void 0:ce.translateX)||zt!==(ce==null?void 0:ce.mustDrawFocusOnHeader)||jt!==(ce==null?void 0:ce.mustDrawHighlightRingsOnHeader))&&Rt(),pe===!0){vn(Ct!==void 0&&ce!==void 0);const{regions:St}=wh(Ke,Ct,Ct===Ue?ce.aBufferScroll:ce.bBufferScroll,Ct===Ue?ce.bBufferScroll:ce.aBufferScroll,ce,l,s,a,u,S,o,i,L,be,ee,c,Be,C,gt);Pt=St}else pe!==!1&&(vn(ce!==void 0),Pt=yh(ce,l,s,a,u,o,i,be,Be,pe));vh(Ke,Be,o,i,S,L,D,lt,h);const Lt=bs(Ke,o,i,l,s,a,u,c,p,w,b,C,S,L,he,h),Xt=m?za(Ke,o,i,s,a,u,Be,c,h,be,x,lt,$,S,ne,k,L):void 0;if(Ke.fillStyle=h.bgCell,Pt.length>0){Ke.beginPath();for(const St of Pt)Ke.rect(St.x,St.y,St.width,St.height);Ke.clip(),Ke.fill(),Ke.beginPath()}else Ke.fillRect(0,0,o,i);const En=ms(Ke,Be,c,i,be,a,u,s,L,lt,$,H,F,y,T,m,S,ne,Pt,Te,x,X,he,Q,Oe,ae,se,te,Z,h,He,Ve,qe,R,wt);ph(Ke,Be,c,o,i,be,a,u,s,L,lt,F,x.rows,y,S,ne,Pt,Te,h),bh(Ke,Be,s,a,u,o,i,Pt,be,lt,F,D,S,L,h),vs(Ke,Be,s,a,u,o,i,Pt,En,b,be,lt,F,D,S,L,h),Lt==null||Lt(),Xt==null||Xt(),I&&yt!=="none"&&kr(Be,0,a,0,be,(St,Zt)=>St.sourceIndex===ue?(ws(Ye,Zt+St.width,0,be+1,dn(h.resizeIndicatorColor??h.accentLight,h.bgHeader)),yt==="full"&&ws(Ke,Zt+St.width,be,i,dn(h.resizeIndicatorColor??h.accentLight,h.bgCell)),!0):!1),we!==null&&(we.fillStyle=h.bgCell,we.fillRect(0,0,o,i),we.drawImage(Ke.canvas,0,0));const ln=xh(Be,i,be,a,u,s,L,lt,S,ne);Q==null||Q.setWindow({x:l,y:s,width:Be.length,height:ln-s},p,Array.from({length:S},(St,Zt)=>L-1-Zt));const mt=ce!==void 0&&(l!==ce.cellXOffset||a!==ce.translateX),jn=ce!==void 0&&(s!==ce.cellYOffset||u!==ce.translateY);j.current={cellXOffset:l,cellYOffset:s,translateX:a,translateY:u,mustDrawFocusOnHeader:zt,mustDrawHighlightRingsOnHeader:jt,lastBuffer:gt?rt===Ue?"a":"b":void 0,aBufferScroll:rt===Ue?[mt,jn]:ce==null?void 0:ce.aBufferScroll,bBufferScroll:rt===tt?[mt,jn]:ce==null?void 0:ce.bBufferScroll},Ke.restore(),Ye.restore()}const kh=80;function Mh(e){const t=e-1;return t*t*t+1}class Eh{constructor(t){_e(this,"callback");_e(this,"currentHoveredItem");_e(this,"leavingItems",[]);_e(this,"lastAnimationTime");_e(this,"addToLeavingItems",t=>{this.leavingItems.some(r=>$o(r.item,t.item))||this.leavingItems.push(t)});_e(this,"removeFromLeavingItems",t=>{const n=this.leavingItems.find(r=>$o(r.item,t));return this.leavingItems=this.leavingItems.filter(r=>r!==n),(n==null?void 0:n.hoverAmount)??0});_e(this,"cleanUpLeavingElements",()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)});_e(this,"shouldStep",()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n});_e(this,"getAnimatingItems",()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>({...t,hoverAmount:Mh(t.hoverAmount)})));_e(this,"step",t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const r=(t-this.lastAnimationTime)/kh;for(const i of this.leavingItems)i.hoverAmount=kn(i.hoverAmount-r,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=kn(this.currentHoveredItem.hoverAmount+r,0,1));const o=this.getAnimatingItems();this.callback(o),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0});_e(this,"setHovered",t=>{var n;if(!$o((n=this.currentHoveredItem)==null?void 0:n.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const r=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:r}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}});this.callback=t}}class Ih{constructor(t){_e(this,"fn");_e(this,"val");this.fn=t}get value(){return this.val??(this.val=this.fn())}}function Sl(e){return new Ih(e)}const Rh=Sl(()=>window.navigator.userAgent.includes("Firefox")),Li=Sl(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Ai=Sl(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function Dh(e){const t=d.useRef([]),n=d.useRef(0),r=d.useRef(e);r.current=e;const o=d.useCallback(()=>{const i=()=>window.requestAnimationFrame(l),l=()=>{const s=t.current.map(yl);t.current=[],r.current(new Bo(s)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?i:l)},[]);return d.useCallback(i=>{t.current.length===0&&o();const l=Ln(i[0],i[1]);t.current.includes(l)||t.current.push(l)},[o])}const xr="header",Hn="group-header",zi="out-of-bounds";var fo;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(fo||(fo={}));function Uc(e,t){return e===t?!0:(e==null?void 0:e.kind)==="out-of-bounds"?(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])&&(e==null?void 0:e.region[0])===(t==null?void 0:t.region[0])&&(e==null?void 0:e.region[1])===(t==null?void 0:t.region[1]):(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])}const Ph=(e,t)=>{if(e.kind===U.Custom)return e.copyData;const n=t==null?void 0:t(e);return(n==null?void 0:n.getAccessibilityString(e))??""},Oh=(e,t)=>{const{width:n,height:r,accessibilityHeight:o,columns:i,cellXOffset:l,cellYOffset:s,headerHeight:a,fillHandle:u=!1,groupHeaderHeight:c,rowHeight:f,rows:p,getCellContent:g,getRowThemeOverride:h,onHeaderMenuClick:m,onHeaderIndicatorClick:w,enableGroups:b,isFilling:y,onCanvasFocused:C,onCanvasBlur:D,isFocused:R,selection:I,freezeColumns:x,onContextMenu:k,freezeTrailingRows:S,fixedShadowX:L=!0,fixedShadowY:$=!0,drawFocusRing:H,onMouseDown:F,onMouseUp:T,onMouseMoveRaw:J,onMouseMove:X,onItemHovered:te,dragAndDropState:he,firstColAccessible:ue,onKeyDown:Q,onKeyUp:j,highlightRegions:ae,canvasRef:Z,onDragStart:se,onDragEnd:Oe,eventTargetRef:K,isResizing:ne,resizeColumn:le,isDragging:He,isDraggable:Ve=!1,allowResize:qe,disabledRows:at,hasAppendRow:Me,getGroupDetails:Le,theme:Te,prelightCells:wt,headerIcons:yt,verticalBorder:gt,drawCell:ee,drawHeader:pe,onCellFocused:Ee,onDragOverCell:De,onDrop:be,onDragLeave:et,imageWindowLoader:Ue,smoothScrollX:tt=!1,smoothScrollY:ce=!1,experimental:we,getCellRenderer:Ye,resizeIndicator:Ke="full"}=e,rt=e.translateX??0,Ct=e.translateY??0,lt=Math.max(x,Math.min(i.length-1,l)),Be=d.useRef(null),Pt=d.useRef((we==null?void 0:we.eventTarget)??window),zt=Pt.current,jt=Ue,Rt=d.useRef(),[Lt,Xt]=d.useState(!1),En=d.useRef([]),ln=d.useRef(),[mt,jn]=d.useState(),[In,St]=d.useState(),Zt=d.useRef(null),[je,$t]=d.useState(),[gn,ot]=d.useState(!1),At=d.useRef(gn);At.current=gn;const ut=d.useMemo(()=>new ah(yt,()=>{Nr.current=void 0,Mr.current()}),[yt]),yn=b?c+a:a,nn=d.useRef(-1),sn=((we==null?void 0:we.enableFirefoxRescaling)??!1)&&Rh.value,qn=((we==null?void 0:we.enableSafariRescaling)??!1)&&Li.value;d.useLayoutEffect(()=>{window.devicePixelRatio===1||!sn&&!qn||(nn.current!==-1&&Xt(!0),window.clearTimeout(nn.current),nn.current=window.setTimeout(()=>{Xt(!1),nn.current=-1},200))},[s,lt,rt,Ct,sn,qn]);const pt=df(i,x),cr=d.useMemo(()=>L?bo(pt,he):0,[pt,he,L]),Vt=d.useCallback((O,G,de)=>{const fe=O.getBoundingClientRect();if(G>=pt.length||de>=p)return;const re=fe.width/n,oe=nl(G,de,n,r,c,yn,lt,s,rt,Ct,p,x,S,pt,f);return re!==1&&(oe.x*=re,oe.y*=re,oe.width*=re,oe.height*=re),oe.x+=fe.x,oe.y+=fe.y,oe},[n,r,c,yn,lt,s,rt,Ct,p,x,S,pt,f]),Ze=d.useCallback((O,G,de,fe)=>{const re=O.getBoundingClientRect(),oe=re.width/n,Ie=(G-re.left)/oe,Je=(de-re.top)/oe,ve=5,Bt=tl(pt,lt,n,void 0,rt);let ye=0,Qe=0;const $e=typeof PointerEvent<"u"&&fe instanceof PointerEvent&&fe.pointerType==="mouse"||typeof MouseEvent<"u"&&fe instanceof MouseEvent,Ne=typeof PointerEvent<"u"&&fe instanceof PointerEvent&&fe.pointerType==="touch"||typeof TouchEvent<"u"&&fe instanceof TouchEvent;$e&&(ye=fe.button,Qe=fe.buttons);const Ae=mf(Ie,Bt,rt),nt=pf(Je,r,b,a,c,p,f,s,Ct,S),Ot=(fe==null?void 0:fe.shiftKey)===!0,Dn=(fe==null?void 0:fe.ctrlKey)===!0,Pn=(fe==null?void 0:fe.metaKey)===!0,kt=[Ie<0?-1:n<Ie?1:0,Je<yn?-1:r<Je?1:0];let Ft;if(Ae===-1||Je<0||Ie<0||nt===void 0||Ie>n||Je>r){const dt=Ie>n?1:Ie<0?-1:0,Cn=Je>r?1:Je<0?-1:0;let Jt=dt*2,eo=Cn*2;dt===0&&(Jt=Ae===-1?fo.EndPadding:fo.Center),Cn===0&&(eo=nt===void 0?fo.EndPadding:fo.Center);let rr=!1;if(Ae===-1&&nt===-1){const Nt=Vt(O,pt.length-1,-1);vn(Nt!==void 0),rr=G<Nt.x+Nt.width+ve}const We=Ie>n&&Ie<n+Qa()||Je>r&&Je<r+Qa();Ft={kind:zi,location:[Ae!==-1?Ae:Ie<0?0:pt.length-1,nt??p-1],region:[Jt,eo],shiftKey:Ot,ctrlKey:Dn,metaKey:Pn,isEdge:rr,isTouch:Ne,button:ye,buttons:Qe,scrollEdge:kt,isMaybeScrollbar:We}}else if(nt<=-1){let dt=Vt(O,Ae,nt);vn(dt!==void 0);let Cn=dt!==void 0&&dt.x+dt.width-G<=ve;const Jt=Ae-1;G-dt.x<=ve&&Jt>=0?(Cn=!0,dt=Vt(O,Jt,nt),vn(dt!==void 0),Ft={kind:b&&nt===-2?Hn:xr,location:[Jt,nt],bounds:dt,group:pt[Jt].group??"",isEdge:Cn,shiftKey:Ot,ctrlKey:Dn,metaKey:Pn,isTouch:Ne,localEventX:G-dt.x,localEventY:de-dt.y,button:ye,buttons:Qe,scrollEdge:kt}):Ft={kind:b&&nt===-2?Hn:xr,group:pt[Ae].group??"",location:[Ae,nt],bounds:dt,isEdge:Cn,shiftKey:Ot,ctrlKey:Dn,metaKey:Pn,isTouch:Ne,localEventX:G-dt.x,localEventY:de-dt.y,button:ye,buttons:Qe,scrollEdge:kt}}else{const dt=Vt(O,Ae,nt);vn(dt!==void 0);const Cn=dt!==void 0&&dt.x+dt.width-G<ve;let Jt=!1;if(u!==!1&&u!==void 0&&I.current!==void 0){const rr=typeof u=="object"?{...Hi,...u}:Hi,We=rr.size,Nt=We/2,Dr=kc(I.current.range),pr=Vt(O,Dr[0],Dr[1]);if(pr!==void 0){const or=pr.x+pr.width+rr.offsetX-Nt+.5,vt=pr.y+pr.height+rr.offsetY-Nt+.5;Jt=Math.abs(or-G)<We&&Math.abs(vt-de)<We}}Ft={kind:"cell",location:[Ae,nt],bounds:dt,isEdge:Cn,shiftKey:Ot,ctrlKey:Dn,isFillHandle:Jt,metaKey:Pn,isTouch:Ne,localEventX:G-dt.x,localEventY:de-dt.y,button:ye,buttons:Qe,scrollEdge:kt}}return Ft},[n,pt,lt,rt,r,b,a,c,p,f,s,Ct,S,Vt,u,I,yn]),[Zn]=mt??[],qo=d.useRef(()=>{}),ur=d.useRef(mt);ur.current=mt;const[Jn,Qn]=d.useMemo(()=>{const O=document.createElement("canvas"),G=document.createElement("canvas");return O.style.display="none",O.style.opacity="0",O.style.position="fixed",G.style.display="none",G.style.opacity="0",G.style.position="fixed",[O.getContext("2d",{alpha:!1}),G.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>{if(!(Jn===null||Qn===null))return document.documentElement.append(Jn.canvas),document.documentElement.append(Qn.canvas),()=>{Jn.canvas.remove(),Qn.canvas.remove()}},[Jn,Qn]);const Br=d.useMemo(()=>new Ef,[]),Zo=sn&&Lt?1:qn&&Lt?2:5,dr=(we==null?void 0:we.disableMinimumCellWidth)===!0?1:10,Nr=d.useRef(),Wr=d.useRef(null),_r=d.useRef(null),Gr=d.useCallback(()=>{var Ie;const O=Be.current,G=Zt.current;if(O===null||G===null||(Wr.current===null&&(Wr.current=O.getContext("2d",{alpha:!1}),O.width=0,O.height=0),_r.current===null&&(_r.current=G.getContext("2d",{alpha:!1}),G.width=0,G.height=0),Wr.current===null||_r.current===null||Jn===null||Qn===null))return;let de=!1;const fe=Je=>{de=!0,$t(Je)},re=Nr.current,oe={headerCanvasCtx:_r.current,canvasCtx:Wr.current,bufferACtx:Jn,bufferBCtx:Qn,width:n,height:r,cellXOffset:lt,cellYOffset:s,translateX:Math.round(rt),translateY:Math.round(Ct),mappedColumns:pt,enableGroups:b,freezeColumns:x,dragAndDropState:he,theme:Te,headerHeight:a,groupHeaderHeight:c,disabledRows:at??ft.empty(),rowHeight:f,verticalBorder:gt,isResizing:ne,resizeCol:le,isFocused:R,selection:I,fillHandle:u,drawCellCallback:ee,hasAppendRow:Me,overrideCursor:fe,maxScaleFactor:Zo,freezeTrailingRows:S,rows:p,drawFocus:H,getCellContent:g,getGroupDetails:Le??(Je=>({name:Je})),getRowThemeOverride:h,drawHeaderCallback:pe,prelightCells:wt,highlightRegions:ae,imageLoader:jt,lastBlitData:ln,damage:Rt.current,hoverValues:En.current,hoverInfo:ur.current,spriteManager:ut,scrolling:Lt,hyperWrapping:(we==null?void 0:we.hyperWrapping)??!1,touchMode:gn,enqueue:qo.current,renderStateProvider:Br,renderStrategy:(we==null?void 0:we.renderStrategy)??(Li.value?"double-buffer":"single-buffer"),getCellRenderer:Ye,minimumCellWidth:dr,resizeIndicator:Ke};oe.damage===void 0?(Nr.current=oe,ys(oe,re)):ys(oe,void 0),!de&&(oe.damage===void 0||oe.damage.has((Ie=ur==null?void 0:ur.current)==null?void 0:Ie[0]))&&$t(void 0)},[Jn,Qn,n,r,lt,s,rt,Ct,pt,b,x,he,Te,a,c,at,f,gt,ne,Me,le,R,I,u,S,p,H,Zo,g,Le,h,ee,pe,wt,ae,jt,ut,Lt,we==null?void 0:we.hyperWrapping,we==null?void 0:we.renderStrategy,gn,Br,Ye,dr,Ke]),Mr=d.useRef(Gr);d.useLayoutEffect(()=>{Gr(),Mr.current=Gr},[Gr]),d.useLayoutEffect(()=>{(async()=>{var G;((G=document==null?void 0:document.fonts)==null?void 0:G.ready)!==void 0&&(await document.fonts.ready,Nr.current=void 0,Mr.current())})()},[]);const er=d.useCallback(O=>{Rt.current=O,Mr.current(),Rt.current=void 0},[]),sa=Dh(er);qo.current=sa;const Jo=d.useCallback(O=>{er(new Bo(O.map(G=>G.cell)))},[er]);jt.setCallback(er);const[ca,ua]=d.useState(!1),[zn,fr]=Zn??[],da=zn!==void 0&&fr===-1&&zn>=0&&zn<pt.length&&pt[zn].headerRowMarkerDisabled!==!0,fa=zn!==void 0&&fr===-2;let Xr=!1,Qo=!1,Er=je;if(Er===void 0&&zn!==void 0&&fr!==void 0&&fr>-1&&fr<p){const O=g([zn,fr],!0);Xr=O.kind===Mn.NewRow||O.kind===Mn.Marker&&O.markerKind!=="number",Qo=O.kind===U.Boolean&&gl(O),Er=O.cursor}const ei=He?"grabbing":(In??!1)||ne?"col-resize":ca||y?"crosshair":Er!==void 0?Er:da||Xr||Qo||fa?"pointer":"default",Ur=d.useMemo(()=>({contain:"strict",display:"block",cursor:ei}),[ei]),bt=d.useRef("default"),rn=K==null?void 0:K.current;rn!=null&&bt.current!==Ur.cursor&&(rn.style.cursor=bt.current=Ur.cursor);const Yr=d.useCallback((O,G,de,fe)=>{if(Le===void 0)return;const re=Le(O);if(re.actions!==void 0){const oe=Wc(G,re.actions);for(const[Ie,Je]of oe.entries())if(Lr(Je,de+G.x,fe+Je.y))return re.actions[Ie]}},[Le]),tr=d.useCallback((O,G,de,fe)=>{const re=pt[G];if(!He&&!ne&&!(In??!1)){const oe=Vt(O,G,-1);vn(oe!==void 0);const Ie=_c(void 0,re,oe.x,oe.y,oe.width,oe.height,Te,pl(re.title)==="rtl");if(re.hasMenu===!0&&Ie.menuBounds!==void 0&&Lr(Ie.menuBounds,de,fe))return{area:"menu",bounds:Ie.menuBounds};if(re.indicatorIcon!==void 0&&Ie.indicatorIconBounds!==void 0&&Lr(Ie.indicatorIconBounds,de,fe))return{area:"indicator",bounds:Ie.indicatorIconBounds}}},[pt,Vt,In,He,ne,Te]),Kr=d.useRef(0),hr=d.useRef(),jr=d.useRef(!1),qr=d.useCallback(O=>{const G=Be.current,de=K==null?void 0:K.current;if(G===null||O.target!==G&&O.target!==de)return;jr.current=!0;const fe=O.clientX,re=O.clientY;if(O.target===de&&de!==null){const Ie=de.getBoundingClientRect();if(fe>Ie.right||re>Ie.bottom)return}const oe=Ze(G,fe,re,O);hr.current=oe.location,oe.isTouch&&(Kr.current=Date.now()),At.current!==oe.isTouch&&ot(oe.isTouch),!(oe.kind===xr&&tr(G,oe.location[0],fe,re)!==void 0)&&(oe.kind===Hn&&Yr(oe.group,oe.bounds,oe.localEventX,oe.localEventY)!==void 0||(F==null||F(oe),!oe.isTouch&&Ve!==!0&&Ve!==oe.kind&&oe.button<3&&oe.button!==1&&O.preventDefault()))},[K,Ve,Ze,Yr,tr,F]);an("pointerdown",qr,zt,!1);const Ir=d.useRef(0),gr=d.useCallback(O=>{var Qe,$e;const G=Ir.current;Ir.current=Date.now();const de=Be.current;if(jr.current=!1,T===void 0||de===null)return;const fe=K==null?void 0:K.current,re=O.target!==de&&O.target!==fe,oe=O.clientX,Ie=O.clientY,Je=O.pointerType==="mouse"?O.button<3:!0;let ve=Ze(de,oe,Ie,O);ve.isTouch&&Kr.current!==0&&Date.now()-Kr.current>500&&(ve={...ve,isLongTouch:!0}),G!==0&&Date.now()-G<(ve.isTouch?1e3:500)&&(ve={...ve,isDoubleClick:!0}),At.current!==ve.isTouch&&ot(ve.isTouch),!re&&O.cancelable&&Je&&O.preventDefault();const[Bt]=ve.location,ye=tr(de,Bt,oe,Ie);if(ve.kind===xr&&ye!==void 0){(ve.button!==0||((Qe=hr.current)==null?void 0:Qe[0])!==Bt||(($e=hr.current)==null?void 0:$e[1])!==-1)&&T(ve,!0);return}else if(ve.kind===Hn){const Ne=Yr(ve.group,ve.bounds,ve.localEventX,ve.localEventY);if(Ne!==void 0){ve.button===0&&Ne.onClick(ve);return}}T(ve,re)},[T,K,Ze,tr,Yr]);an("pointerup",gr,zt,!1);const Zr=d.useCallback(O=>{var Bt,ye;const G=Be.current;if(G===null)return;const de=K==null?void 0:K.current,fe=O.target!==G&&O.target!==de;let re,oe,Ie=!0;O instanceof MouseEvent?(re=O.clientX,oe=O.clientY,Ie=O.button<3):(re=O.changedTouches[0].clientX,oe=O.changedTouches[0].clientY);const Je=Ze(G,re,oe,O);At.current!==Je.isTouch&&ot(Je.isTouch),!fe&&O.cancelable&&Ie&&O.preventDefault();const[ve]=Je.location;if(Je.kind===xr){const Qe=tr(G,ve,re,oe);Qe!==void 0&&Je.button===0&&((Bt=hr.current)==null?void 0:Bt[0])===ve&&((ye=hr.current)==null?void 0:ye[1])===-1&&(Qe.area==="menu"?m==null||m(ve,Qe.bounds):Qe.area==="indicator"&&(w==null||w(ve,Qe.bounds)))}},[K,Ze,tr,m,w]);an("click",Zr,zt,!1);const ga=d.useCallback(O=>{const G=Be.current,de=K==null?void 0:K.current;if(G===null||O.target!==G&&O.target!==de||k===void 0)return;const fe=Ze(G,O.clientX,O.clientY,O);k(fe,()=>{O.cancelable&&O.preventDefault()})},[K,Ze,k]);an("contextmenu",ga,(K==null?void 0:K.current)??null,!1);const Co=d.useCallback(O=>{Rt.current=new Bo(O.map(G=>G.item)),En.current=O,Mr.current(),Rt.current=void 0},[]),ke=d.useMemo(()=>new Eh(Co),[Co]),So=d.useRef(ke);So.current=ke,d.useLayoutEffect(()=>{const O=So.current;if(Zn===void 0||Zn[1]<0){O.setHovered(Zn);return}const G=g(Zn,!0),de=Ye(G),fe=de===void 0&&G.kind===U.Custom||(de==null?void 0:de.needsHover)!==void 0&&(typeof de.needsHover=="boolean"?de.needsHover:de.needsHover(G));O.setHovered(fe?Zn:void 0)},[g,Ye,Zn]);const ti=d.useRef(),Rn=d.useCallback(O=>{var Je;const G=Be.current;if(G===null)return;const de=K==null?void 0:K.current,fe=O.target!==G&&O.target!==de,re=Ze(G,O.clientX,O.clientY,O);if(re.kind!=="out-of-bounds"&&fe&&!jr.current&&!re.isTouch)return;const oe=(ve,Bt)=>{jn(ye=>ye===ve||(ye==null?void 0:ye[0][0])===(ve==null?void 0:ve[0][0])&&(ye==null?void 0:ye[0][1])===(ve==null?void 0:ve[0][1])&&((ye==null?void 0:ye[1][0])===(ve==null?void 0:ve[1][0])&&(ye==null?void 0:ye[1][1])===(ve==null?void 0:ve[1][1])||!Bt)?ye:ve)};if(!Uc(re,ti.current))$t(void 0),te==null||te(re),oe(re.kind===zi?void 0:[re.location,[re.localEventX,re.localEventY]],!0),ti.current=re;else if(re.kind==="cell"||re.kind===xr||re.kind===Hn){let ve=!1,Bt=!0;if(re.kind==="cell"){const Qe=g(re.location);Bt=((Je=Ye(Qe))==null?void 0:Je.needsHoverPosition)??Qe.kind===U.Custom,ve=Bt}else ve=!0;const ye=[re.location,[re.localEventX,re.localEventY]];oe(ye,Bt),ur.current=ye,ve&&er(new Bo([re.location]))}const Ie=re.location[0]>=(ue?0:1);St(re.kind===xr&&re.isEdge&&Ie&&qe===!0),ua(re.kind==="cell"&&re.isFillHandle),J==null||J(O),X(re)},[K,Ze,ue,qe,J,X,te,g,Ye,er]);an("pointermove",Rn,zt,!0);const ma=d.useCallback(O=>{const G=Be.current;if(G===null)return;let de,fe;I.current!==void 0&&(de=Vt(G,I.current.cell[0],I.current.cell[1]),fe=I.current.cell),Q==null||Q({bounds:de,stopPropagation:()=>O.stopPropagation(),preventDefault:()=>O.preventDefault(),cancel:()=>{},ctrlKey:O.ctrlKey,metaKey:O.metaKey,shiftKey:O.shiftKey,altKey:O.altKey,key:O.key,keyCode:O.keyCode,rawEvent:O,location:fe})},[Q,I,Vt]),$n=d.useCallback(O=>{const G=Be.current;if(G===null)return;let de,fe;I.current!==void 0&&(de=Vt(G,I.current.cell[0],I.current.cell[1]),fe=I.current.cell),j==null||j({bounds:de,stopPropagation:()=>O.stopPropagation(),preventDefault:()=>O.preventDefault(),cancel:()=>{},ctrlKey:O.ctrlKey,metaKey:O.metaKey,shiftKey:O.shiftKey,altKey:O.altKey,key:O.key,keyCode:O.keyCode,rawEvent:O,location:fe})},[j,I,Vt]),xo=d.useCallback(O=>{if(Be.current=O,Z!==void 0&&(Z.current=O),we!=null&&we.eventTarget)Pt.current=we.eventTarget;else if(O===null)Pt.current=window;else{const G=O.getRootNode();G===document&&(Pt.current=window),Pt.current=G}},[Z,we==null?void 0:we.eventTarget]),ni=d.useCallback(O=>{const G=Be.current;if(G===null||Ve===!1||ne){O.preventDefault();return}let de,fe;const re=Ze(G,O.clientX,O.clientY);if(Ve!==!0&&re.kind!==Ve){O.preventDefault();return}const oe=(Qe,$e)=>{de=Qe,fe=$e};let Ie,Je,ve;const Bt=(Qe,$e,Ne)=>{Ie=Qe,Je=$e,ve=Ne};let ye=!1;if(se==null||se({...re,setData:oe,setDragImage:Bt,preventDefault:()=>ye=!0,defaultPrevented:()=>ye}),!ye&&de!==void 0&&fe!==void 0&&O.dataTransfer!==null)if(O.dataTransfer.setData(de,fe),O.dataTransfer.effectAllowed="copyLink",Ie!==void 0&&Je!==void 0&&ve!==void 0)O.dataTransfer.setDragImage(Ie,Je,ve);else{const[Qe,$e]=re.location;if($e!==void 0){const Ne=document.createElement("canvas"),Ae=Vt(G,Qe,$e);vn(Ae!==void 0);const nt=Math.ceil(window.devicePixelRatio??1);Ne.width=Ae.width*nt,Ne.height=Ae.height*nt;const Ot=Ne.getContext("2d");Ot!==null&&(Ot.scale(nt,nt),Ot.textBaseline="middle",$e===-1?(Ot.font=Te.headerFontFull,Ot.fillStyle=Te.bgHeader,Ot.fillRect(0,0,Ne.width,Ne.height),Gc(Ot,0,0,Ae.width,Ae.height,pt[Qe],!1,Te,!1,void 0,void 0,!1,0,ut,pe,!1)):(Ot.font=Te.baseFontFull,Ot.fillStyle=Te.bgCell,Ot.fillRect(0,0,Ne.width,Ne.height),Nc(Ot,g([Qe,$e]),0,$e,!1,!1,0,0,Ae.width,Ae.height,!1,Te,Te.bgCell,jt,ut,1,void 0,!1,0,void 0,void 0,void 0,Br,Ye,()=>{}))),Ne.style.left="-100%",Ne.style.position="absolute",Ne.style.width=`${Ae.width}px`,Ne.style.height=`${Ae.height}px`,document.body.append(Ne),O.dataTransfer.setDragImage(Ne,Ae.width/2,Ae.height/2),window.setTimeout(()=>{Ne.remove()},0)}}else O.preventDefault()},[Ve,ne,Ze,se,Vt,Te,pt,ut,pe,g,jt,Br,Ye]);an("dragstart",ni,(K==null?void 0:K.current)??null,!1,!1);const Jr=d.useRef(),pa=d.useCallback(O=>{const G=Be.current;if(be!==void 0&&O.preventDefault(),G===null||De===void 0)return;const de=Ze(G,O.clientX,O.clientY),[fe,re]=de.location,oe=fe-(ue?0:1),[Ie,Je]=Jr.current??[];(Ie!==oe||Je!==re)&&(Jr.current=[oe,re],De([oe,re],O.dataTransfer))},[ue,Ze,De,be]);an("dragover",pa,(K==null?void 0:K.current)??null,!1,!1);const va=d.useCallback(()=>{Jr.current=void 0,Oe==null||Oe()},[Oe]);an("dragend",va,(K==null?void 0:K.current)??null,!1,!1);const Vn=d.useCallback(O=>{const G=Be.current;if(G===null||be===void 0)return;O.preventDefault();const de=Ze(G,O.clientX,O.clientY),[fe,re]=de.location,oe=fe-(ue?0:1);be([oe,re],O.dataTransfer)},[ue,Ze,be]);an("drop",Vn,(K==null?void 0:K.current)??null,!1,!1);const mr=d.useCallback(()=>{et==null||et()},[et]);an("dragleave",mr,(K==null?void 0:K.current)??null,!1,!1);const mn=d.useRef(I);mn.current=I;const A=d.useRef(null),xt=d.useCallback(O=>{var G;Be.current===null||!Be.current.contains(document.activeElement)||(O===null&&mn.current.current!==void 0?(G=Z==null?void 0:Z.current)==null||G.focus({preventScroll:!0}):O!==null&&O.focus({preventScroll:!0}),A.current=O)},[Z]);d.useImperativeHandle(t,()=>({focus:()=>{var G;const O=A.current;O===null||!document.contains(O)?(G=Z==null?void 0:Z.current)==null||G.focus({preventScroll:!0}):O.focus({preventScroll:!0})},getBounds:(O,G)=>{if(!(Z===void 0||Z.current===null))return Vt(Z.current,O??0,G??-1)},damage:Jo,getMouseArgsForPosition:(O,G,de)=>{if(!(Z===void 0||Z.current===null))return Ze(Z.current,O,G,de)}}),[Z,Jo,Vt,Ze]);const nr=d.useRef(),ba=qd(()=>{var Je,ve,Bt;if(n<50||(we==null?void 0:we.disableAccessibilityTree)===!0)return null;let O=tl(pt,lt,n,he,rt);const G=ue?0:-1;!ue&&((Je=O[0])==null?void 0:Je.sourceIndex)===0&&(O=O.slice(1));const[de,fe]=((ve=I.current)==null?void 0:ve.cell)??[],re=(Bt=I.current)==null?void 0:Bt.range,oe=O.map(ye=>ye.sourceIndex),Ie=Xn(s,Math.min(p,s+o));return de!==void 0&&fe!==void 0&&!(oe.includes(de)&&Ie.includes(fe))&&xt(null),d.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":p+1,"aria-multiselectable":"true","aria-colcount":pt.length+G},d.createElement("thead",{role:"rowgroup"},d.createElement("tr",{role:"row","aria-rowindex":1},O.map(ye=>d.createElement("th",{role:"columnheader","aria-selected":I.columns.hasIndex(ye.sourceIndex),"aria-colindex":ye.sourceIndex+1+G,tabIndex:-1,onFocus:Qe=>{if(Qe.target!==A.current)return Ee==null?void 0:Ee([ye.sourceIndex,-1])},key:ye.sourceIndex},ye.title)))),d.createElement("tbody",{role:"rowgroup"},Ie.map(ye=>d.createElement("tr",{role:"row","aria-selected":I.rows.hasIndex(ye),key:ye,"aria-rowindex":ye+2},O.map(Qe=>{const $e=Qe.sourceIndex,Ne=Ln($e,ye),Ae=de===$e&&fe===ye,nt=re!==void 0&&$e>=re.x&&$e<re.x+re.width&&ye>=re.y&&ye<re.y+re.height,Ot=`glide-cell-${$e}-${ye}`,Dn=[$e,ye],Pn=g(Dn,!0);return d.createElement("td",{key:Ne,role:"gridcell","aria-colindex":$e+1+G,"aria-selected":nt,"aria-readonly":uo(Pn)||!co(Pn),id:Ot,"data-testid":Ot,onClick:()=>{const kt=Z==null?void 0:Z.current;if(kt!=null)return Q==null?void 0:Q({bounds:Vt(kt,$e,ye),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:Dn})},onFocusCapture:kt=>{var Ft,dt;if(!(kt.target===A.current||((Ft=nr.current)==null?void 0:Ft[0])===$e&&((dt=nr.current)==null?void 0:dt[1])===ye))return nr.current=Dn,Ee==null?void 0:Ee(Dn)},ref:Ae?xt:void 0,tabIndex:-1},Ph(Pn,Ye))})))))},[n,pt,lt,he,rt,p,s,o,I,xt,g,Z,Q,Vt,Ee],200),Rr=x===0||!L?0:lt>x?1:kn(-rt/100,0,1),wa=-s*32+Ct,Qr=$?kn(-wa/100,0,1):0,Bl=d.useMemo(()=>{if(!Rr&&!Qr)return null;const O={position:"absolute",top:0,left:cr,width:n-cr,height:r,opacity:Rr,pointerEvents:"none",transition:tt?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},G={position:"absolute",top:yn,left:0,width:n,height:r,opacity:Qr,pointerEvents:"none",transition:ce?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return d.createElement(d.Fragment,null,Rr>0&&d.createElement("div",{id:"shadow-x",style:O}),Qr>0&&d.createElement("div",{id:"shadow-y",style:G}))},[Rr,Qr,cr,n,tt,yn,r,ce]),N=d.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return d.createElement(d.Fragment,null,d.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:ma,onKeyUp:$n,onFocus:C,onBlur:D,ref:xo,style:Ur},ba),d.createElement("canvas",{ref:Zt,style:N}),Bl)},Th=d.memo(d.forwardRef(Oh));function Fo(e,t,n,r){return kn(Math.round(t-(e.growOffset??0)),Math.ceil(n),Math.floor(r))}const Fh=e=>{const[t,n]=d.useState(),[r,o]=d.useState(),[i,l]=d.useState(),[s,a]=d.useState(),[u,c]=d.useState(!1),[f,p]=d.useState(),[g,h]=d.useState(),[m,w]=d.useState(),[b,y]=d.useState(!1),[C,D]=d.useState(),{onHeaderMenuClick:R,onHeaderIndicatorClick:I,getCellContent:x,onColumnMoved:k,onColumnResize:S,onColumnResizeStart:L,onColumnResizeEnd:$,gridRef:H,maxColumnWidth:F,minColumnWidth:T,onRowMoved:J,lockColumns:X,onColumnProposeMove:te,onMouseDown:he,onMouseUp:ue,onItemHovered:Q,onDragStart:j,canvasRef:ae}=e,Z=(S??$??L)!==void 0,{columns:se,selection:Oe}=e,K=Oe.columns,ne=d.useCallback(ee=>{const[pe,Ee]=ee.location;i!==void 0&&s!==pe&&pe>=X?(c(!0),a(pe)):g!==void 0&&Ee!==void 0?(y(!0),w(Math.max(0,Ee))):r===void 0&&!u&&!b&&(Q==null||Q(ee))},[i,g,s,Q,X,r,u,b]),le=k!==void 0,He=d.useCallback(ee=>{var pe;if(ee.button===0){const[Ee,De]=ee.location;if(ee.kind==="out-of-bounds"&&ee.isEdge&&Z){const be=(pe=H==null?void 0:H.current)==null?void 0:pe.getBounds(se.length-1,-1);be!==void 0&&(n(be.x),o(se.length-1))}else if(ee.kind==="header"&&Ee>=X){const be=ae==null?void 0:ae.current;if(ee.isEdge&&Z&&be){n(ee.bounds.x),o(Ee);const Ue=be.getBoundingClientRect().width/be.offsetWidth,tt=ee.bounds.width/Ue;L==null||L(se[Ee],tt,Ee,tt+(se[Ee].growOffset??0))}else ee.kind==="header"&&le&&(p(ee.bounds.x),l(Ee))}else ee.kind==="cell"&&X>0&&Ee===0&&De!==void 0&&J!==void 0&&(D(ee.bounds.y),h(De))}he==null||he(ee)},[he,Z,X,J,H,se,le,L,ae]),Ve=d.useCallback((ee,pe)=>{u||b||R==null||R(ee,pe)},[u,b,R]),qe=d.useCallback((ee,pe)=>{u||b||I==null||I(ee,pe)},[u,b,I]),at=d.useRef(-1),Me=d.useCallback(()=>{at.current=-1,h(void 0),w(void 0),D(void 0),y(!1),l(void 0),a(void 0),p(void 0),c(!1),o(void 0),n(void 0)},[]),Le=d.useCallback((ee,pe)=>{if(ee.button===0){if(r!==void 0){if((K==null?void 0:K.hasIndex(r))===!0)for(const De of K){if(De===r)continue;const be=se[De],et=Fo(be,at.current,T,F);S==null||S(be,et,De,et+(be.growOffset??0))}const Ee=Fo(se[r],at.current,T,F);if($==null||$(se[r],Ee,r,Ee+(se[r].growOffset??0)),K.hasIndex(r))for(const De of K){if(De===r)continue;const be=se[De],et=Fo(be,at.current,T,F);$==null||$(be,et,De,et+(be.growOffset??0))}}Me(),i!==void 0&&s!==void 0&&(te==null?void 0:te(i,s))!==!1&&(k==null||k(i,s)),g!==void 0&&m!==void 0&&(J==null||J(g,m))}ue==null||ue(ee,pe)},[ue,r,i,s,g,m,K,$,se,T,F,S,k,J,Me,te]),Te=d.useMemo(()=>{if(!(i===void 0||s===void 0)&&i!==s&&(te==null?void 0:te(i,s))!==!1)return{src:i,dest:s}},[i,s,te]),wt=d.useCallback(ee=>{const pe=ae==null?void 0:ae.current;if(i!==void 0&&f!==void 0)Math.abs(ee.clientX-f)>20&&c(!0);else if(g!==void 0&&C!==void 0)Math.abs(ee.clientY-C)>20&&y(!0);else if(r!==void 0&&t!==void 0&&pe){const De=pe.getBoundingClientRect().width/pe.offsetWidth,be=(ee.clientX-t)/De,et=se[r],Ue=Fo(et,be,T,F);if(S==null||S(et,Ue,r,Ue+(et.growOffset??0)),at.current=be,(K==null?void 0:K.first())===r)for(const tt of K){if(tt===r)continue;const ce=se[tt],we=Fo(ce,at.current,T,F);S==null||S(ce,we,tt,we+(ce.growOffset??0))}}},[i,f,g,C,r,t,se,T,F,S,K,ae]),yt=d.useCallback((ee,pe)=>{if(g===void 0||m===void 0)return x(ee,pe);let[Ee,De]=ee;return De===m?De=g:(De>m&&(De-=1),De>=g&&(De+=1)),x([Ee,De],pe)},[g,m,x]),gt=d.useCallback(ee=>{j==null||j(ee),ee.defaultPrevented()||Me()},[Me,j]);return d.createElement(Th,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:r,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,resizeIndicator:e.resizeIndicator,verticalBorder:e.verticalBorder,width:e.width,getCellContent:yt,isResizing:r!==void 0,onHeaderMenuClick:Ve,onHeaderIndicatorClick:qe,isDragging:u,onItemHovered:ne,onDragStart:gt,onMouseDown:He,allowResize:Z,onMouseUp:Le,dragAndDropState:Te,onMouseMoveRaw:wt,ref:H})};function Hh(e){const t=d.useRef(null),[n,r]=d.useState({width:e==null?void 0:e[0],height:e==null?void 0:e[1]});return d.useLayoutEffect(()=>{const o=l=>{for(const s of l){const{width:a,height:u}=s&&s.contentRect||{};r(c=>c.width===a&&c.height===u?c:{width:a,height:u})}},i=new window.ResizeObserver(o);return t.current&&i.observe(t.current,void 0),()=>{i.disconnect()}},[t.current]),{ref:t,...n}}const Lh=(e,t,n)=>{const r=d.useRef(null),o=d.useRef(null),i=d.useRef(null),l=d.useRef(0),s=d.useRef(t);s.current=t;const a=n.current;d.useEffect(()=>{const u=()=>{var p,g;if(o.current===!1&&a!==null){const h=[a.scrollLeft,a.scrollTop];if(((p=i.current)==null?void 0:p[0])===h[0]&&((g=i.current)==null?void 0:g[1])===h[1])if(l.current>10){i.current=null,o.current=null;return}else l.current++;else l.current=0,s.current(h[0],h[1]),i.current=h;r.current=window.setTimeout(u,8.333333333333334)}},c=()=>{o.current=!0,i.current=null,r.current!==null&&(window.clearTimeout(r.current),r.current=null)},f=p=>{p.touches.length===0&&(o.current=!1,l.current=0,r.current=window.setTimeout(u,8.333333333333334))};if(e&&a!==null){const p=a;return p.addEventListener("touchstart",c),p.addEventListener("touchend",f),()=>{p.removeEventListener("touchstart",c),p.removeEventListener("touchend",f),r.current!==null&&window.clearTimeout(r.current)}}},[e,a])},Ah=()=>e=>e.isSafari?"scroll":"auto",zh=It("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[Ah()]}}),$h=33554400,Vh=5e6;function Bh(e){const[t,n]=d.useState(!1),r=typeof window>"u"?null:window,o=d.useRef(0);return an("touchstart",d.useCallback(()=>{window.clearTimeout(o.current),n(!0)},[]),r,!0,!1),an("touchend",d.useCallback(i=>{i.touches.length===0&&(o.current=window.setTimeout(()=>n(!1),e))},[e]),r,!0,!1),t}const Nh=e=>{var Oe,K;const{children:t,clientHeight:n,scrollHeight:r,scrollWidth:o,update:i,draggable:l,className:s,preventDiagonalScrolling:a=!1,paddingBottom:u=0,paddingRight:c=0,rightElement:f,rightElementProps:p,kineticScrollPerfHack:g=!1,scrollRef:h,initialSize:m}=e,w=[],b=(p==null?void 0:p.sticky)??!1,y=(p==null?void 0:p.fill)??!1,C=d.useRef(0),D=d.useRef(0),R=d.useRef(null),I=typeof window>"u"?1:window.devicePixelRatio,x=d.useRef(I);d.useEffect(()=>{if(x.current!==I){C.current=0,D.current=0,x.current=I;const ne=R.current;ne!==null&&J.current(ne.scrollLeft,ne.scrollTop)}},[I]);const k=d.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),S=d.useRef(null),L=Bh(200),[$,H]=d.useState(!0),F=d.useRef(0);d.useLayoutEffect(()=>{if(!$||L||k.current.lockDirection===void 0)return;const ne=R.current;if(ne===null)return;const[le,He]=k.current.lockDirection;le!==void 0?ne.scrollLeft=le:He!==void 0&&(ne.scrollTop=He),k.current.lockDirection=void 0},[L,$]);const T=d.useCallback((ne,le)=>{var Ee;const He=R.current;if(He===null)return;le=le??He.scrollTop,ne=ne??He.scrollLeft;const Ve=k.current.scrollTop,qe=k.current.scrollLeft,at=ne-qe,Me=le-Ve;L&&at!==0&&Me!==0&&(Math.abs(at)>3||Math.abs(Me)>3)&&a&&k.current.lockDirection===void 0&&(k.current.lockDirection=Math.abs(at)<Math.abs(Me)?[qe,void 0]:[void 0,Ve]);const Le=k.current.lockDirection;ne=(Le==null?void 0:Le[0])??ne,le=(Le==null?void 0:Le[1])??le,k.current.scrollLeft=ne,k.current.scrollTop=le;const Te=He.clientWidth,wt=He.clientHeight,yt=le,gt=D.current-yt,ee=He.scrollHeight-wt;D.current=yt;let pe;if(ee>0&&r>He.scrollHeight+5)if(Math.abs(gt)>2e3||yt===0||yt===ee){const De=Math.max(0,Math.min(1,yt/ee)),be=r-wt;pe=De*be,C.current=pe}else C.current-=gt,pe=C.current;else pe=yt,C.current=pe;pe=Math.max(0,Math.min(pe,r-wt)),C.current=pe,Le!==void 0&&(window.clearTimeout(F.current),H(!1),F.current=window.setTimeout(()=>H(!0),200)),i({x:ne,y:pe,width:Te-c,height:wt-u,paddingRight:((Ee=S.current)==null?void 0:Ee.clientWidth)??0})},[u,c,r,i,a,L]);Lh(g&&Li.value,T,R);const J=d.useRef(T);J.current=T;const X=d.useRef(),te=d.useRef(!1);d.useLayoutEffect(()=>{te.current?T():te.current=!0},[T,u,c]);const he=d.useCallback(ne=>{R.current=ne,h!==void 0&&(h.current=ne)},[h]);let ue=0,Q=0;const j=Math.min(r,$h);for(w.push(d.createElement("div",{key:ue++,style:{width:o,height:0}}));Q<j;){const ne=Math.min(Vh,j-Q);w.push(d.createElement("div",{key:ue++,style:{width:0,height:ne}})),Q+=ne}const{ref:ae,width:Z,height:se}=Hh(m);return typeof window<"u"&&(((Oe=X.current)==null?void 0:Oe.height)!==se||((K=X.current)==null?void 0:K.width)!==Z)&&(window.setTimeout(()=>J.current(),0),X.current={width:Z,height:se}),(Z??0)===0||(se??0)===0?d.createElement("div",{ref:ae}):d.createElement("div",{ref:ae},d.createElement(zh,{isSafari:Li.value},d.createElement("div",{className:"dvn-underlay"},t),d.createElement("div",{ref:he,style:X.current,draggable:l,onDragStart:ne=>{l||(ne.stopPropagation(),ne.preventDefault())},className:"dvn-scroller "+(s??""),onScroll:()=>T()},d.createElement("div",{className:"dvn-scroll-inner"+(f===void 0?" dvn-hidden":"")},d.createElement("div",{className:"dvn-stack"},w),f!==void 0&&d.createElement(d.Fragment,null,!y&&d.createElement("div",{className:"dvn-spacer"}),d.createElement("div",{ref:S,style:{height:se,maxHeight:n-Math.ceil(I%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:c,flexGrow:y?1:void 0,right:b?c??0:void 0,pointerEvents:"auto"}},f))))))},Wh=e=>{const{columns:t,rows:n,rowHeight:r,headerHeight:o,groupHeaderHeight:i,enableGroups:l,freezeColumns:s,experimental:a,nonGrowWidth:u,clientSize:c,className:f,onVisibleRegionChanged:p,scrollRef:g,preventDiagonalScrolling:h,rightElement:m,rightElementProps:w,overscrollX:b,overscrollY:y,initialSize:C,smoothScrollX:D=!1,smoothScrollY:R=!1,isDraggable:I}=e,{paddingRight:x,paddingBottom:k}=a??{},[S,L]=c,$=d.useRef(),H=d.useRef(),F=d.useRef(),T=d.useRef(),J=u+Math.max(0,b??0);let X=l?o+i:o;if(typeof r=="number")X+=n*r;else for(let Q=0;Q<n;Q++)X+=r(Q);y!==void 0&&(X+=y);const te=d.useRef(),he=d.useCallback(()=>{var qe,at;if(te.current===void 0)return;const Q={...te.current};let j=0,ae=Q.x<0?-Q.x:0,Z=0,se=0;Q.x=Q.x<0?0:Q.x;let Oe=0;for(let Me=0;Me<s;Me++)Oe+=t[Me].width;for(const Me of t){const Le=j-Oe;if(Q.x>=Le+Me.width)j+=Me.width,se++,Z++;else if(Q.x>Le)j+=Me.width,D?ae+=Le-Q.x:se++,Z++;else if(Q.x+Q.width>Le)j+=Me.width,Z++;else break}let K=0,ne=0,le=0;if(typeof r=="number")R?(ne=Math.floor(Q.y/r),K=ne*r-Q.y):ne=Math.ceil(Q.y/r),le=Math.ceil(Q.height/r)+ne,K<0&&le++;else{let Me=0;for(let Le=0;Le<n;Le++){const Te=r(Le),wt=Me+(R?0:Te/2);if(Q.y>=Me+Te)Me+=Te,ne++,le++;else if(Q.y>wt)Me+=Te,R?K+=wt-Q.y:ne++,le++;else if(Q.y+Q.height>Te/2+Me)Me+=Te,le++;else break}}ne=Math.max(0,Math.min(ne,n-1)),le=Math.max(ne,Math.min(le,n));const He={x:se,y:ne,width:Z-se,height:le-ne},Ve=$.current;(Ve===void 0||Ve.y!==He.y||Ve.x!==He.x||Ve.height!==He.height||Ve.width!==He.width||H.current!==ae||F.current!==K||Q.width!==((qe=T.current)==null?void 0:qe[0])||Q.height!==((at=T.current)==null?void 0:at[1]))&&(p==null||p({x:se,y:ne,width:Z-se,height:le-ne},Q.width,Q.height,Q.paddingRight??0,ae,K),$.current=He,H.current=ae,F.current=K,T.current=[Q.width,Q.height])},[t,r,n,p,s,D,R]),ue=d.useCallback(Q=>{te.current=Q,he()},[he]);return d.useEffect(()=>{he()},[he]),d.createElement(Nh,{scrollRef:g,className:f,kineticScrollPerfHack:a==null?void 0:a.kineticScrollPerfHack,preventDiagonalScrolling:h,draggable:I===!0||typeof I=="string",scrollWidth:J+(x??0),scrollHeight:X+(k??0),clientHeight:L,rightElement:m,paddingBottom:k,paddingRight:x,rightElementProps:w,update:ue,initialSize:C},d.createElement(Fh,{eventTargetRef:g,width:S,height:L,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}))},_h=It("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),Gh=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),Xh=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),Uh=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),Yh=10,Kh=e=>{const{canvasRef:t,cellYOffset:n,rows:r,columns:o,searchInputRef:i,searchValue:l,searchResults:s,onSearchValueChange:a,getCellsForSelection:u,onSearchResultsChanged:c,showSearch:f=!1,onSearchClose:p}=e,[g]=d.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[h,m]=d.useState(""),w=l??h,b=d.useCallback(j=>{m(j),a==null||a(j)},[a]),[y,C]=d.useState(),D=d.useRef(y);D.current=y,d.useEffect(()=>{s!==void 0&&(s.length>0?C(j=>({rowsSearched:r,results:s.length,selectedIndex:(j==null?void 0:j.selectedIndex)??-1})):C(void 0))},[r,s]);const R=d.useRef();R.current===void 0&&(R.current=new AbortController);const I=d.useRef(),[x,k]=d.useState([]),S=s??x,L=d.useCallback(()=>{I.current!==void 0&&(window.cancelAnimationFrame(I.current),I.current=void 0),R.current!==void 0&&R.current.abort(),R.current=new AbortController},[]),$=d.useRef(n);$.current=n;const H=d.useCallback(j=>{const ae=new RegExp(j.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let Z=$.current,se=Math.min(10,r),Oe=0;C(void 0),k([]);const K=[],ne=async()=>{var yt;if(u===void 0)return;const le=performance.now(),He=r-Oe;let Ve=u({x:0,y:Z,width:o.length,height:Math.min(se,He,r-Z)},R.current.signal);typeof Ve=="function"&&(Ve=await Ve());let qe=!1;for(const[gt,ee]of Ve.entries())for(const[pe,Ee]of ee.entries()){let De;switch(Ee.kind){case U.Text:case U.Number:De=Ee.displayData;break;case U.Uri:case U.Markdown:De=Ee.data;break;case U.Boolean:De=typeof Ee.data=="boolean"?Ee.data.toString():void 0;break;case U.Image:case U.Bubble:De=Ee.data.join("🐳");break;case U.Custom:De=Ee.copyData;break}De!==void 0&&ae.test(De)&&(K.push([pe,gt+Z]),qe=!0)}const at=performance.now();qe&&k([...K]),Oe+=Ve.length,vn(Oe<=r);const Me=((yt=D.current)==null?void 0:yt.selectedIndex)??-1;C({results:K.length,rowsSearched:Oe,selectedIndex:Me}),c==null||c(K,Me),Z+se>=r?Z=0:Z+=se;const Le=at-le,Te=Math.max(Le,1),wt=Yh/Te;se=Math.ceil(se*wt),Oe<r&&K.length<1e3&&(I.current=window.requestAnimationFrame(ne))};L(),I.current=window.requestAnimationFrame(ne)},[L,o.length,u,c,r]),F=d.useCallback(()=>{var j;p==null||p(),C(void 0),k([]),c==null||c([],-1),L(),(j=t==null?void 0:t.current)==null||j.focus()},[L,t,p,c]),T=d.useCallback(j=>{b(j.target.value),s===void 0&&(j.target.value===""?(C(void 0),k([]),L()):H(j.target.value))},[H,L,b,s]);d.useEffect(()=>{i.current!==null&&(b(""),C(void 0),x.length>0&&(k([]),c==null||c([],-1)),f?i.current.focus({preventScroll:!0}):L())},[f,i]);const J=d.useCallback(j=>{var Z;if((Z=j==null?void 0:j.stopPropagation)==null||Z.call(j),y===void 0||y.results===0)return;const ae=(y.selectedIndex+1)%y.results;C({...y,selectedIndex:ae}),c==null||c(S,ae)},[y,c,S]),X=d.useCallback(j=>{var Z;if((Z=j==null?void 0:j.stopPropagation)==null||Z.call(j),y===void 0||y.results===0)return;let ae=(y.selectedIndex-1)%y.results;ae<0&&(ae+=y.results),C({...y,selectedIndex:ae}),c==null||c(S,ae)},[c,S,y]),te=d.useCallback(j=>{(j.ctrlKey||j.metaKey)&&j.nativeEvent.code==="KeyF"||j.key==="Escape"?(F(),j.stopPropagation(),j.preventDefault()):j.key==="Enter"&&(j.shiftKey?X():J())},[F,J,X]);d.useEffect(()=>()=>{L()},[L]);const[he,ue]=d.useState(!1);d.useEffect(()=>{if(f)ue(!0);else{const j=setTimeout(()=>ue(!1),150);return()=>clearTimeout(j)}},[f]);const Q=d.useMemo(()=>{if(!f&&!he)return null;let j;y!==void 0&&(j=y.results>=1e3?"over 1000":`${y.results} result${y.results!==1?"s":""}`,y.selectedIndex>=0&&(j=`${y.selectedIndex+1} of ${j}`));const ae=Oe=>{Oe.stopPropagation()},se={width:`${r>0?Math.floor(((y==null?void 0:y.rowsSearched)??0)/r*100):0}%`};return d.createElement(_h,{className:"gdg-search-bar"+(f?"":" out"),onMouseDown:ae,onMouseMove:ae,onMouseUp:ae,onClick:ae},d.createElement("div",{className:"gdg-search-bar-inner"},d.createElement("input",{id:g,"aria-hidden":!f,"data-testid":"search-input",ref:i,onChange:T,value:w,tabIndex:f?void 0:-1,onKeyDownCapture:te}),d.createElement("button",{type:"button","aria-label":"Previous Result","aria-hidden":!f,tabIndex:f?void 0:-1,onClick:X,disabled:((y==null?void 0:y.results)??0)===0},Gh),d.createElement("button",{type:"button","aria-label":"Next Result","aria-hidden":!f,tabIndex:f?void 0:-1,onClick:J,disabled:((y==null?void 0:y.results)??0)===0},Xh),p!==void 0&&d.createElement("button",{type:"button","aria-label":"Close Search","aria-hidden":!f,"data-testid":"search-close-button",tabIndex:f?void 0:-1,onClick:F},Uh)),y!==void 0?d.createElement(d.Fragment,null,d.createElement("div",{className:"gdg-search-status"},d.createElement("div",{"data-testid":"search-result-area"},j)),d.createElement("div",{className:"gdg-search-progress",style:se})):d.createElement("div",{className:"gdg-search-status"},d.createElement("label",{htmlFor:g},"Type to search")))},[f,he,y,r,g,i,T,w,te,X,J,p,F]);return d.createElement(d.Fragment,null,d.createElement(Wh,{prelightCells:S,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onHeaderIndicatorClick:e.onHeaderIndicatorClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,resizeIndicator:e.resizeIndicator}),Q)};class jh extends d.PureComponent{constructor(){super(...arguments);_e(this,"wrapperRef",d.createRef());_e(this,"clickOutside",n=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(n))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(n.target)){let r=n.target;for(;r!==null;){if(r.classList.contains("click-outside-ignore"))return;r=r.parentElement}this.props.onClickOutside()}})}componentDidMount(){const n=this.props.customEventTarget??document;n.addEventListener("pointerdown",this.clickOutside,!0),n.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){const n=this.props.customEventTarget??document;n.removeEventListener("pointerdown",this.clickOutside,!0),n.removeEventListener("contextmenu",this.clickOutside,!0)}render(){const{onClickOutside:n,isOutsideClick:r,customEventTarget:o,...i}=this.props;return d.createElement("div",{...i,ref:this.wrapperRef},this.props.children)}}const qh=()=>e=>Math.max(16,e.targetHeight-10),Zh=It("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[qh(),"px"]}}),Jh=e=>{const{bounds:t,group:n,onClose:r,canvasBounds:o,onFinish:i}=e,[l,s]=Mt.useState(n);return Mt.createElement(jh,{style:{position:"absolute",left:t.x-o.left+1,top:t.y-o.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:r},Mt.createElement(Zh,{targetHeight:t.height,"data-testid":"group-rename-input",value:l,onBlur:r,onFocus:a=>a.target.setSelectionRange(0,l.length),onChange:a=>s(a.target.value),onKeyDown:a=>{a.key==="Enter"?i(l):a.key==="Escape"&&r()},autoFocus:!0}))};function Qh(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function Ge(e,t,n){const r=Yc(e,t);return r&&(n.didMatch=!0),r}function Yc(e,t){if(e.length===0)return!1;if(e.includes("|")){const a=e.split("|");for(const u of a)if(Yc(u,t))return!0;return!1}let n=!1,r=!1,o=!1,i=!1;const l=e.split("+"),s=l.pop();if(!Qh(s,t))return!1;if(l[0]==="any")return!0;for(const a of l)switch(a){case"ctrl":n=!0;break;case"shift":r=!0;break;case"alt":o=!0;break;case"meta":i=!0;break;case"primary":Ai.value?i=!0:n=!0;break}return t.altKey===o&&t.ctrlKey===n&&t.shiftKey===r&&t.metaKey===i}function eg(e,t,n,r,o,i,l){const s=Mt.useCallback((c,f,p,g)=>{var C;(i==="cell"||i==="multi-cell")&&c!==void 0&&(c={...c,range:{x:c.cell[0],y:c.cell[1],width:1,height:1}}),!l&&c!==void 0&&c.range.width>1&&(c={...c,range:{...c.range,width:1,x:c.cell[0]}});const h=n==="mixed"&&(p||g==="drag")||n==="additive",m=(r==="mixed"||r==="additive")&&h,w=(o==="mixed"||o==="additive")&&h;let b={current:c===void 0?void 0:{...c,rangeStack:g==="drag"?((C=e.current)==null?void 0:C.rangeStack)??[]:[]},columns:m?e.columns:ft.empty(),rows:w?e.rows:ft.empty()};p&&(i==="multi-rect"||i==="multi-cell")&&b.current!==void 0&&e.current!==void 0&&(b={...b,current:{...b.current,rangeStack:[...e.current.rangeStack,e.current.range]}}),t(b,f)},[r,e,n,i,l,o,t]),a=Mt.useCallback((c,f,p)=>{c=c??e.rows,f!==void 0&&(c=c.add(f));let g;if(o==="exclusive"&&c.length>0)g={current:void 0,columns:ft.empty(),rows:c};else{const h=p&&n==="mixed"||n==="additive",m=p&&r==="mixed"||r==="additive";g={current:h?e.current:void 0,columns:m?e.columns:ft.empty(),rows:c}}t(g,!1)},[r,e,n,o,t]),u=Mt.useCallback((c,f,p)=>{c=c??e.columns,f!==void 0&&(c=c.add(f));let g;if(r==="exclusive"&&c.length>0)g={current:void 0,rows:ft.empty(),columns:c};else{const h=p&&n==="mixed"||n==="additive",m=p&&o==="mixed"||o==="additive";g={current:h?e.current:void 0,rows:m?e.rows:ft.empty(),columns:c}}t(g,!1)},[r,e,n,o,t]);return[s,a,u]}function tg(e,t,n,r,o){const i=d.useCallback(u=>{if(e===!0){const c=[];for(let f=u.y;f<u.y+u.height;f++){const p=[];for(let g=u.x;g<u.x+u.width;g++)g<0||f>=o?p.push({kind:U.Loading,allowOverlay:!1}):p.push(t([g,f]));c.push(p)}return c}return(e==null?void 0:e(u,r.signal))??[]},[r.signal,t,e,o]),l=e!==void 0?i:void 0,s=d.useCallback(u=>{if(l===void 0)return[];const c={...u,x:u.x-n};if(c.x<0){c.x=0,c.width--;const f=l(c,r.signal);return typeof f=="function"?async()=>(await f()).map(p=>[{kind:U.Loading,allowOverlay:!1},...p]):f.map(p=>[{kind:U.Loading,allowOverlay:!1},...p])}return l(c,r.signal)},[r.signal,l,n]);return[e!==void 0?s:void 0,l]}function ng(e){if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string",doNotEscape:!0};switch(e.kind){case U.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===hl?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case U.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case U.Image:case U.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case U.Drilldown:return{formatted:e.data.map(t=>t.text),rawValue:e.data.map(t=>t.text),format:"string-array"};case U.Text:return{formatted:e.displayData??e.data,rawValue:e.data,format:"string"};case U.Uri:return{formatted:e.displayData??e.data,rawValue:e.data,format:"url"};case U.Markdown:case U.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case U.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case U.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case U.Protected:return{formatted:"************",rawValue:"",format:"string"};default:No()}}function rg(e,t){return e.map((r,o)=>{const i=t[o];return r.map(l=>l.span!==void 0&&l.span[0]!==i?{formatted:"",rawValue:"",format:"string"}:ng(l))})}function Cs(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e=`"${e.replace(/"/g,'""')}"`),e}function og(e){var n;const t=[];for(const r of e){const o=[];for(const i of r)i.format==="url"?o.push(((n=i.rawValue)==null?void 0:n.toString())??""):i.format==="string-array"?o.push(i.formatted.map(l=>Cs(l,!0)).join(",")):o.push(i.doNotEscape===!0?i.formatted:Cs(i.formatted,!1));t.push(o.join("	"))}return t.join(`
`)}function $a(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function Ss(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function ig(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function ag(e){var n;const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const r of e){t.push("<tr>");for(const o of r){const i=`gdg-format="${o.format}"`;o.format==="url"?t.push(`<td ${i}><a href="${o.rawValue}">${$a(o.formatted)}</a></td>`):o.format==="string-array"?t.push(`<td ${i}><ol>${o.formatted.map((l,s)=>`<li gdg-raw-value=${Ss(o.rawValue[s])}>`+$a(l)+"</li>").join("")}</ol></td>`):t.push(`<td gdg-raw-value=${Ss(((n=o.rawValue)==null?void 0:n.toString())??"")} ${i}>${$a(o.formatted)}</td>`)}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function lg(e,t){const n=rg(e,t),r=og(n),o=ag(n);return{textPlain:r,textHtml:o}}function xs(e){var l;const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const r=[n],o=[];let i;for(;r.length>0;){const s=r.pop();if(s===void 0)break;if(s instanceof HTMLTableElement||s.nodeName==="TBODY")r.push(...[...s.children].reverse());else if(s instanceof HTMLTableRowElement)i!==void 0&&o.push(i),i=[],r.push(...[...s.children].reverse());else if(s instanceof HTMLTableCellElement){const a=s.cloneNode(!0),c=a.children.length===1&&a.children[0].nodeName==="P"?a.children[0]:null,f=(c==null?void 0:c.children.length)===1&&c.children[0].nodeName==="FONT",p=a.querySelectorAll("br");for(const m of p)m.replaceWith(`
`);const g=a.getAttribute("gdg-raw-value"),h=a.getAttribute("gdg-format")??"string";if(a.querySelector("a")!==null)i==null||i.push({rawValue:((l=a.querySelector("a"))==null?void 0:l.getAttribute("href"))??"",formatted:a.textContent??"",format:h});else if(a.querySelector("ol")!==null){const m=a.querySelectorAll("li");i==null||i.push({rawValue:[...m].map(w=>w.getAttribute("gdg-raw-value")??""),formatted:[...m].map(w=>w.textContent??""),format:"string-array"})}else if(g!==null)i==null||i.push({rawValue:ig(g),formatted:a.textContent??"",format:h});else{let m=a.textContent??"";f&&(m=m.replace(/\n(?!\n)/g,"")),i==null||i.push({rawValue:m??"",formatted:m??"",format:h})}}}return i!==void 0&&o.push(i),o}function sg(e,t,n,r,o){var s;const i=e;if(r==="allowPartial"||e.current===void 0||t===void 0)return e;let l=!1;do{if((e==null?void 0:e.current)===void 0)break;const a=(s=e.current)==null?void 0:s.range,u=[];if(a.width>2){const p=t({x:a.x,y:a.y,width:1,height:a.height},o.signal);if(typeof p=="function")return i;u.push(...p);const g=t({x:a.x+a.width-1,y:a.y,width:1,height:a.height},o.signal);if(typeof g=="function")return i;u.push(...g)}else{const p=t({x:a.x,y:a.y,width:a.width,height:a.height},o.signal);if(typeof p=="function")return i;u.push(...p)}let c=a.x-n,f=a.x+a.width-1-n;for(const p of u)for(const g of p)g.span!==void 0&&(c=Math.min(g.span[0],c),f=Math.max(g.span[1],f));c===a.x-n&&f===a.x+a.width-1-n?l=!0:e={current:{cell:e.current.cell??[0,0],range:{x:c+n,y:a.y,width:f-c+1,height:a.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!l);return e}function ks(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function cg(e){let t;(function(s){s[s.None=0]="None",s[s.inString=1]="inString",s[s.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let r=[],o=0,i=t.None;e=e.replace(/\r\n/g,`
`);let l=0;for(const s of e){switch(i){case t.None:s==="	"||s===`
`?(r.push(e.slice(o,l)),o=l+1,s===`
`&&(n.push(r),r=[])):s==='"'&&(i=t.inString);break;case t.inString:s==='"'&&(i=t.inStringPostQuote);break;case t.inStringPostQuote:s==='"'?i=t.inString:((s==="	"||s===`
`)&&(r.push(ks(e.slice(o,l))),o=l+1,s===`
`&&(n.push(r),r=[])),i=t.None);break}l++}return o<e.length&&r.push(ks(e.slice(o,e.length))),n.push(r),n.map(s=>s.map(a=>({rawValue:a,formatted:a,format:"string"})))}function Ms(e,t,n){var s;const r=lg(e,t),o=a=>{var u;(u=window.navigator.clipboard)==null||u.writeText(a)},i=(a,u)=>{var c;return((c=window.navigator.clipboard)==null?void 0:c.write)===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([a],{type:"text/plain"}),"text/html":new Blob([u],{type:"text/html"})})]),!0)},l=(a,u)=>{var c,f;try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");(c=n==null?void 0:n.clipboardData)==null||c.setData("text/plain",a),(f=n==null?void 0:n.clipboardData)==null||f.setData("text/html",u)}catch{i(a,u)||o(a)}};((s=window.navigator.clipboard)==null?void 0:s.write)!==void 0||(n==null?void 0:n.clipboardData)!==void 0?l(r.textPlain,r.textHtml):o(r.textPlain),n==null||n.preventDefault()}function Kc(e){return e!==!0}function Es(e){return typeof e=="string"?e:`${e}px`}const ug=()=>e=>e.innerWidth,dg=()=>e=>e.innerHeight,fg=It("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[ug()],"wmyidgi-1":[dg()]}}),hg=e=>{const{inWidth:t,inHeight:n,children:r,...o}=e;return d.createElement(fg,{innerHeight:Es(n),innerWidth:Es(t),...o},r)},gg=2,mg=1300;function pg(e,t,n){const r=Mt.useRef(0),[o,i]=e??[0,0];Mt.useEffect(()=>{if(o===0&&i===0){r.current=0;return}let l=!1,s=0;const a=u=>{var c;if(!l){if(s===0)s=u;else{const f=u-s;r.current=Math.min(1,r.current+f/mg);const p=r.current**1.618*f*gg;(c=t.current)==null||c.scrollBy(o*p,i*p),s=u,n==null||n()}window.requestAnimationFrame(a)}};return window.requestAnimationFrame(a),()=>{l=!0}},[t,o,i,n])}function vg({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:r,overscrollX:o,overscrollY:i,scaleToRem:l,remSize:s}){const[a,u,c,f,p,g]=Mt.useMemo(()=>{if(!l||s===16)return[e,t,n,r,o,i];const h=s/16,m=e,w=Tc();return[typeof m=="number"?m*h:b=>Math.ceil(m(b)*h),Math.ceil(t*h),Math.ceil(n*h),{...r,headerIconSize:((r==null?void 0:r.headerIconSize)??w.headerIconSize)*h,cellHorizontalPadding:((r==null?void 0:r.cellHorizontalPadding)??w.cellHorizontalPadding)*h,cellVerticalPadding:((r==null?void 0:r.cellVerticalPadding)??w.cellVerticalPadding)*h},Math.ceil((o??0)*h),Math.ceil((i??0)*h)]},[n,t,o,i,s,e,l,r]);return{rowHeight:a,headerHeight:u,groupHeaderHeight:c,theme:f,overscrollX:p,overscrollY:g}}const Cr={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function Xe(e,t){return e===!0?t:e===!1?"":e}function Is(e){const t=Ai.value;return{activateCell:Xe(e.activateCell," |Enter|shift+Enter"),clear:Xe(e.clear,"any+Escape"),closeOverlay:Xe(e.closeOverlay,"any+Escape"),acceptOverlayDown:Xe(e.acceptOverlayDown,"Enter"),acceptOverlayUp:Xe(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:Xe(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:Xe(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:Xe(e.delete,t?"Backspace|Delete":"Delete"),downFill:Xe(e.downFill,"primary+_68"),scrollToSelectedCell:Xe(e.scrollToSelectedCell,"primary+Enter"),goDownCell:Xe(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:Xe(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:Xe(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:Xe(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:Xe(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:Xe(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:Xe(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:Xe(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:Xe(e.goToFirstCell,"primary+Home"),goToFirstColumn:Xe(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:Xe(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:Xe(e.goToLastCell,"primary+End"),goToLastColumn:Xe(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:Xe(e.goToLastRow,"primary+ArrowDown"),goToNextPage:Xe(e.goToNextPage,"PageDown"),goToPreviousPage:Xe(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:Xe(e.rightFill,"primary+_82"),search:Xe(e.search,"primary+f"),selectAll:Xe(e.selectAll,"primary+a"),selectColumn:Xe(e.selectColumn,"ctrl+ "),selectGrowDown:Xe(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:Xe(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:Xe(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:Xe(e.selectGrowUp,"shift+ArrowUp"),selectRow:Xe(e.selectRow,"shift+ "),selectToFirstCell:Xe(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:Xe(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:Xe(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:Xe(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:Xe(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:Xe(e.selectToLastRow,"primary+shift+ArrowDown")}}function bg(e){const t=tf(e);return Mt.useMemo(()=>{if(t===void 0)return Is(Cr);const n={...t,goToNextPage:(t==null?void 0:t.goToNextPage)??(t==null?void 0:t.pageDown)??Cr.goToNextPage,goToPreviousPage:(t==null?void 0:t.goToPreviousPage)??(t==null?void 0:t.pageUp)??Cr.goToPreviousPage,goToFirstCell:(t==null?void 0:t.goToFirstCell)??(t==null?void 0:t.first)??Cr.goToFirstCell,goToLastCell:(t==null?void 0:t.goToLastCell)??(t==null?void 0:t.last)??Cr.goToLastCell,selectToFirstCell:(t==null?void 0:t.selectToFirstCell)??(t==null?void 0:t.first)??Cr.selectToFirstCell,selectToLastCell:(t==null?void 0:t.selectToLastCell)??(t==null?void 0:t.last)??Cr.selectToLastCell};return Is({...Cr,...n})},[t])}function wg(e){function t(r,o,i){if(typeof r=="number")return{headerIndex:r,isCollapsed:!1,depth:o,path:i};const l={headerIndex:r.headerIndex,isCollapsed:r.isCollapsed,depth:o,path:i};return r.subGroups!==void 0&&(l.subGroups=r.subGroups.map((s,a)=>t(s,o+1,[...i,a])).sort((s,a)=>s.headerIndex-a.headerIndex)),l}return e.map((r,o)=>t(r,0,[o])).sort((r,o)=>r.headerIndex-o.headerIndex)}function xl(e,t){const n=[];function r(s,a,u=!1){let c=a!==null?a-s.headerIndex:t-s.headerIndex;if(s.subGroups!==void 0&&(c=s.subGroups[0].headerIndex-s.headerIndex),c--,n.push({rowIndex:-1,headerIndex:s.headerIndex,contentIndex:-1,skip:u,isCollapsed:s.isCollapsed,depth:s.depth,path:s.path,rows:c}),s.subGroups)for(let f=0;f<s.subGroups.length;f++){const p=f<s.subGroups.length-1?s.subGroups[f+1].headerIndex:a;r(s.subGroups[f],p,u||s.isCollapsed)}}const o=wg(e.groups);for(let s=0;s<o.length;s++){const a=s<o.length-1?o[s+1].headerIndex:null;r(o[s],a)}let i=0,l=0;for(const s of n)s.contentIndex=l,l+=s.rows,s.rowIndex=i,i+=s.isCollapsed?1:s.rows+1;return n.filter(s=>s.skip===!1).map(s=>{const{skip:a,...u}=s;return u})}function il(e,t){if(t===void 0||xl.length===0)return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1};let n=e;for(const r of t){if(n===0)return{path:[...r.path,-1],originalIndex:r.headerIndex,isGroupHeader:!0,groupIndex:-1,contentIndex:-1,groupRows:r.rows};if(r.isCollapsed)n--;else{if(n<=r.rows)return{path:[...r.path,n-1],originalIndex:r.headerIndex+n,isGroupHeader:!1,groupIndex:n-1,contentIndex:r.contentIndex+n-1,groupRows:r.rows};n=n-r.rows-1}}return{path:[e],originalIndex:e,isGroupHeader:!1,groupIndex:e,contentIndex:e,groupRows:-1}}function yg(e,t,n,r){const o=Mt.useMemo(()=>e===void 0?void 0:xl(e,t),[e,t]),i=Mt.useMemo(()=>o==null?void 0:o.reduce((c,f)=>(c[f.rowIndex]=f,c),{}),[o]),l=Mt.useMemo(()=>o===void 0?t:o.reduce((c,f)=>c+(f.isCollapsed?1:f.rows+1),0),[o,t]),s=Mt.useMemo(()=>e===void 0||typeof n=="number"&&e.height===n?n:c=>i!=null&&i[c]?e.height:typeof n=="number"?n:n(c),[i,e,n]),a=Mt.useCallback(c=>{if(o===void 0)return c;let f=c;for(const p of o){if(f===0)return;if(f--,!p.isCollapsed){if(f<p.rows)return p.contentIndex+f;f-=p.rows}}return c},[o]),u=Sr(r??(e==null?void 0:e.themeOverride),Mt.useCallback(c=>{if(e===void 0)return r==null?void 0:r(c,c,c);if(r===void 0&&(e==null?void 0:e.themeOverride)===void 0)return;const{isGroupHeader:f,contentIndex:p,groupIndex:g}=il(c,o);return f?e.themeOverride:r==null?void 0:r(c,g,p)},[o,r,e]));return e===void 0?{rowHeight:s,rows:t,rowNumberMapper:a,getRowThemeOverride:u}:{rowHeight:s,rows:l,rowNumberMapper:a,getRowThemeOverride:u}}function Cg(e,t){const n=Mt.useMemo(()=>e===void 0?void 0:xl(e,t),[e,t]);return{getRowGroupingForPath:qc,updateRowGroupingByPath:jc,mapper:Mt.useCallback(r=>{if(typeof r=="number")return il(r,n);const o=il(r[1],n);return{...o,originalIndex:[r[0],o.originalIndex]}},[n])}}function jc(e,t,n){const[r,...o]=t;return o[0]===-1?e.map((i,l)=>l===r?{...i,...n}:i):e.map((i,l)=>l===r?{...i,subGroups:jc(i.subGroups??[],o,n)}:i)}function qc(e,t){const[n,...r]=t;return r[0]===-1?e[n]:qc(e[n].subGroups??[],r)}function Sg(e,t){const[n]=d.useState(()=>({value:e,callback:t,facade:{get current(){return n.value},set current(r){const o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}));return n.callback=t,n.facade}function xg(e,t,n,r,o){const[i,l]=d.useMemo(()=>[t!==void 0&&typeof n=="number"?Math.floor(t/n):0,t!==void 0&&typeof n=="number"?-(t%n):0],[t,n]),s=d.useMemo(()=>({x:r.current.x,y:i,width:r.current.width??1,height:r.current.height??1,ty:l}),[r,l,i]),[a,u,c]=ef(s),f=d.useRef(o);f.current=o;const p=Sg(null,m=>{m!==null&&t!==void 0?m.scrollTop=t:m!==null&&e!==void 0&&(m.scrollLeft=e)}),g=(a.height??1)>1;d.useLayoutEffect(()=>{if(t!==void 0&&p.current!==null&&g){if(p.current.scrollTop===t)return;p.current.scrollTop=t,p.current.scrollTop!==t&&c(),f.current()}},[t,g,c,p]);const h=(a.width??1)>1;return d.useLayoutEffect(()=>{if(e!==void 0&&p.current!==null&&h){if(p.current.scrollLeft===e)return;p.current.scrollLeft=e,p.current.scrollLeft!==e&&c(),f.current()}},[e,h,c,p]),{visibleRegion:a,setVisibleRegion:u,scrollRef:p}}const kg=d.lazy(async()=>await fl(()=>import("./data-grid-overlay-editor-DuUd1HMV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url));let Mg=0;function Eg(e){return pc(rs(rs(e).filter(t=>t.span!==void 0).map(t=>{var n,r;return Xn((((n=t.span)==null?void 0:n[0])??0)+1,(((r=t.span)==null?void 0:r[1])??0)+1)})))}function wi(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:{...e.current.range,x:e.current.range.x+t},rangeStack:e.current.rangeStack.map(n=>({...n,x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const yi={kind:U.Loading,allowOverlay:!1},Ci={columns:ft.empty(),rows:ft.empty(),current:void 0},Ig=(e,t)=>{var es,ts,ns;const[n,r]=d.useState(Ci),[o,i]=d.useState(),l=d.useRef(null),s=d.useRef(null),[a,u]=d.useState(),c=d.useRef(),f=typeof window>"u"?null:window,{imageEditorOverride:p,getRowThemeOverride:g,markdownDivCreateNode:h,width:m,height:w,columns:b,rows:y,getCellContent:C,onCellClicked:D,onCellActivated:R,onFillPattern:I,onFinishedEditing:x,coercePasteValue:k,drawHeader:S,drawCell:L,editorBloom:$,onHeaderClicked:H,onColumnProposeMove:F,rangeSelectionColumnSpanning:T=!0,spanRangeBehavior:J="default",onGroupHeaderClicked:X,onCellContextMenu:te,className:he,onHeaderContextMenu:ue,getCellsForSelection:Q,onGroupHeaderContextMenu:j,onGroupHeaderRenamed:ae,onCellEdited:Z,onCellsEdited:se,onSearchResultsChanged:Oe,searchResults:K,onSearchValueChange:ne,searchValue:le,onKeyDown:He,onKeyUp:Ve,keybindings:qe,editOnType:at=!0,onRowAppended:Me,onColumnAppended:Le,onColumnMoved:Te,validateCell:wt,highlightRegions:yt,rangeSelect:gt="rect",columnSelect:ee="multi",rowSelect:pe="multi",rangeSelectionBlending:Ee="exclusive",columnSelectionBlending:De="exclusive",rowSelectionBlending:be="exclusive",onDelete:et,onDragStart:Ue,onMouseMove:tt,onPaste:ce,copyHeaders:we=!1,freezeColumns:Ye=0,cellActivationBehavior:Ke="second-click",rowSelectionMode:rt="auto",columnSelectionMode:Ct="auto",onHeaderMenuClick:lt,onHeaderIndicatorClick:Be,getGroupDetails:Pt,rowGrouping:zt,onSearchClose:jt,onItemHovered:Rt,onSelectionCleared:Lt,showSearch:Xt,onVisibleRegionChanged:En,gridSelection:ln,onGridSelectionChange:mt,minColumnWidth:jn=50,maxColumnWidth:In=500,maxColumnAutoWidth:St,provideEditor:Zt,trailingRowOptions:je,freezeTrailingRows:$t=0,allowedFillDirections:gn="orthogonal",scrollOffsetX:ot,scrollOffsetY:At,verticalBorder:ut,onDragOverCell:yn,onDrop:nn,onColumnResize:sn,onColumnResizeEnd:qn,onColumnResizeStart:pt,customRenderers:cr,fillHandle:Vt,experimental:Ze,fixedShadowX:Zn,fixedShadowY:qo,headerIcons:ur,imageWindowLoader:Jn,initialSize:Qn,isDraggable:Br,onDragLeave:Zo,onRowMoved:dr,overscrollX:Nr,overscrollY:Wr,preventDiagonalScrolling:_r,rightElement:Gr,rightElementProps:Mr,trapFocus:er=!1,smoothScrollX:sa,smoothScrollY:Jo,scaleToRem:ca=!1,rowHeight:ua=34,headerHeight:zn=36,groupHeaderHeight:fr=zn,theme:da,isOutsideClick:fa,renderers:Xr,resizeIndicator:Qo,scrollToActiveCell:Er=!0,drawFocusRing:ha=!0,portalElementRef:ei}=e,Ur=ha==="no-editor"?o===void 0:ha,bt=typeof e.rowMarkers=="string"?void 0:e.rowMarkers,rn=(bt==null?void 0:bt.kind)??e.rowMarkers??"none",Yr=(bt==null?void 0:bt.width)??e.rowMarkerWidth,tr=(bt==null?void 0:bt.startIndex)??e.rowMarkerStartIndex??1,Kr=(bt==null?void 0:bt.theme)??e.rowMarkerTheme,hr=bt==null?void 0:bt.headerTheme,jr=bt==null?void 0:bt.headerAlwaysVisible,qr=pe!=="multi"||(bt==null?void 0:bt.headerDisabled)===!0,Ir=(bt==null?void 0:bt.checkboxStyle)??"square",gr=Math.max(jn,20),Zr=Math.max(In,gr),ga=Math.max(St??Zr,gr),Co=d.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]),{rows:ke,rowNumberMapper:So,rowHeight:ti,getRowThemeOverride:Rn}=yg(zt,y,ua,g),ma=d.useMemo(()=>Number.parseFloat(Co.fontSize),[Co]),{rowHeight:$n,headerHeight:xo,groupHeaderHeight:ni,theme:Jr,overscrollX:pa,overscrollY:va}=vg({groupHeaderHeight:fr,headerHeight:zn,overscrollX:Nr,overscrollY:Wr,remSize:ma,rowHeight:ti,scaleToRem:ca,theme:da}),Vn=bg(qe),mr=Yr??(y>1e4?48:y>1e3?44:y>100?36:32),mn=rn!=="none",A=mn?1:0,xt=je!==void 0,nr=(je==null?void 0:je.sticky)===!0,[ba,Rr]=d.useState(!1),wa=Xt??ba,Qr=d.useCallback(()=>{jt!==void 0?jt():Rr(!1)},[jt]),N=d.useMemo(()=>ln===void 0?void 0:wi(ln,A),[ln,A])??n,O=d.useRef();O.current===void 0&&(O.current=new AbortController),d.useEffect(()=>()=>O==null?void 0:O.current.abort(),[]);const[G,de]=tg(Q,C,A,O.current,ke),fe=d.useCallback((v,M,E)=>{if(wt===void 0)return!0;const P=[v[0]-A,v[1]];return wt==null?void 0:wt(P,M,E)},[A,wt]),re=d.useRef(ln),oe=d.useCallback((v,M)=>{M&&(v=sg(v,G,A,J,O.current)),mt!==void 0?(re.current=wi(v,-A),mt(re.current)):r(v)},[mt,G,A,J]),Ie=Sr(sn,d.useCallback((v,M,E,P)=>{sn==null||sn(b[E-A],M,E-A,P)},[sn,A,b])),Je=Sr(qn,d.useCallback((v,M,E,P)=>{qn==null||qn(b[E-A],M,E-A,P)},[qn,A,b])),ve=Sr(pt,d.useCallback((v,M,E,P)=>{pt==null||pt(b[E-A],M,E-A,P)},[pt,A,b])),Bt=Sr(S,d.useCallback((v,M)=>(S==null?void 0:S({...v,columnIndex:v.columnIndex-A},M))??!1,[S,A])),ye=Sr(L,d.useCallback((v,M)=>(L==null?void 0:L({...v,col:v.col-A},M))??!1,[L,A])),Qe=d.useCallback(v=>{if(et!==void 0){const M=et(wi(v,-A));return typeof M=="boolean"?M:wi(M,A)}return!0},[et,A]),[$e,Ne,Ae]=eg(N,oe,Ee,De,be,gt,T),nt=d.useMemo(()=>ar(Tc(),Jr),[Jr]),[Ot,Dn]=d.useState([0,0,0]),Pn=d.useMemo(()=>{if(Xr===void 0)return{};const v={};for(const M of Xr)v[M.kind]=M;return v},[Xr]),kt=d.useCallback(v=>v.kind!==U.Custom?Pn[v.kind]:cr==null?void 0:cr.find(M=>M.isMatch(v)),[cr,Pn]);let{sizedColumns:Ft,nonGrowWidth:dt}=Df(b,ke,de,Ot[0]-(A===0?0:mr)-Ot[2],gr,ga,nt,kt,O.current);rn!=="none"&&(dt+=mr);const Cn=d.useMemo(()=>Ft.some(v=>v.group!==void 0),[Ft]),Jt=Cn?xo+ni:xo,eo=N.rows.length,rr=rn==="none"?void 0:eo===0?!1:eo===ke?!0:void 0,We=d.useMemo(()=>rn==="none"?Ft:[{title:"",width:mr,icon:void 0,hasMenu:!1,style:"normal",themeOverride:Kr,rowMarker:Ir,rowMarkerChecked:rr,headerRowMarkerTheme:hr,headerRowMarkerAlwaysVisible:jr,headerRowMarkerDisabled:qr},...Ft],[rn,Ft,mr,Kr,Ir,rr,hr,jr,qr]),Nt=d.useRef({height:1,width:1,x:0,y:0}),Dr=d.useRef(!1),{setVisibleRegion:pr,visibleRegion:or,scrollRef:vt}=xg(ot,At,$n,Nt,()=>Dr.current=!0);Nt.current=or;const Qu=or.x+A,ri=or.y,Ut=d.useRef(null),on=d.useCallback(v=>{var M;v===!0?(M=Ut.current)==null||M.focus():window.requestAnimationFrame(()=>{var E;(E=Ut.current)==null||E.focus()})},[]),Qt=xt?ke+1:ke,Sn=d.useCallback(v=>{const M=A===0?v:v.map(P=>({...P,location:[P.location[0]-A,P.location[1]]})),E=se==null?void 0:se(M);if(E!==!0)for(const P of M)Z==null||Z(P.location,P.value);return E},[Z,se,A]),[Pr,ya]=d.useState(),oi=N.current!==void 0&&N.current.range.width*N.current.range.height>1?N.current.range:void 0,to=Ur?(es=N.current)==null?void 0:es.cell:void 0,ii=to==null?void 0:to[0],ai=to==null?void 0:to[1],ed=d.useMemo(()=>{if((yt===void 0||yt.length===0)&&(oi??ii??ai??Pr)===void 0)return;const v=[];if(yt!==void 0)for(const M of yt){const E=We.length-M.range.x-A;E>0&&v.push({color:M.color,range:{...M.range,x:M.range.x+A,width:Math.min(E,M.range.width)},style:M.style})}return Pr!==void 0&&v.push({color:zr(nt.accentColor,0),range:Pr,style:"dashed"}),oi!==void 0&&v.push({color:zr(nt.accentColor,.5),range:oi,style:"solid-outline"}),ii!==void 0&&ai!==void 0&&v.push({color:nt.accentColor,range:{x:ii,y:ai,width:1,height:1},style:"solid-outline"}),v.length>0?v:void 0},[Pr,oi,ii,ai,yt,We.length,nt.accentColor,A]),Nl=d.useRef(We);Nl.current=We;const pn=d.useCallback(([v,M],E=!1)=>{var W,z,B,_,Y,ie,ge;const P=xt&&M===Qt-1;if(v===0&&mn){if(P)return yi;const q=So(M);return q===void 0?yi:{kind:Mn.Marker,allowOverlay:!1,checkboxStyle:Ir,checked:(N==null?void 0:N.rows.hasIndex(M))===!0,markerKind:rn==="clickable-number"?"number":rn,row:tr+q,drawHandle:dr!==void 0,cursor:rn==="clickable-number"?"pointer":void 0}}else if(P){const Re=v===A?(je==null?void 0:je.hint)??"":"",me=Nl.current[v];if(((W=me==null?void 0:me.trailingRowOptions)==null?void 0:W.disabled)===!0)return yi;{const ze=((z=me==null?void 0:me.trailingRowOptions)==null?void 0:z.hint)??Re,Fe=((B=me==null?void 0:me.trailingRowOptions)==null?void 0:B.addIcon)??(je==null?void 0:je.addIcon);return{kind:Mn.NewRow,hint:ze,allowOverlay:!1,icon:Fe}}}else{const q=v-A;if(E||(Ze==null?void 0:Ze.strict)===!0){const me=Nt.current,ze=me.x>q||q>me.x+me.width||me.y>M||M>me.y+me.height||M>=ka.current,Fe=q===((Y=(_=me.extras)==null?void 0:_.selected)==null?void 0:Y[0])&&M===((ie=me.extras)==null?void 0:ie.selected[1]);let Ce=!1;if(((ge=me.extras)==null?void 0:ge.freezeRegions)!==void 0){for(const it of me.extras.freezeRegions)if(Lr(it,q,M)){Ce=!0;break}}if(ze&&!Fe&&!Ce)return yi}let Re=C([q,M]);return A!==0&&Re.span!==void 0&&(Re={...Re,span:[Re.span[0]+A,Re.span[1]+A]}),Re}},[xt,Qt,mn,So,Ir,N==null?void 0:N.rows,rn,tr,dr,A,je==null?void 0:je.hint,je==null?void 0:je.addIcon,Ze==null?void 0:Ze.strict,C]),Ca=d.useCallback(v=>{let M=(Pt==null?void 0:Pt(v))??{name:v};return ae!==void 0&&v!==""&&(M={icon:M.icon,name:M.name,overrideTheme:M.overrideTheme,actions:[...M.actions??[],{title:"Rename",icon:"renameIcon",onClick:E=>Ea({group:M.name,bounds:E.bounds})}]}),M},[Pt,ae]),li=d.useCallback(v=>{var B;const[M,E]=v.cell,P=We[M],V=(P==null?void 0:P.group)!==void 0?(B=Ca(P.group))==null?void 0:B.overrideTheme:void 0,W=P==null?void 0:P.themeOverride,z=Rn==null?void 0:Rn(E);i({...v,theme:ar(nt,V,W,z,v.content.themeOverride)})},[Rn,We,Ca,nt]),no=d.useCallback((v,M,E)=>{var z;if(N.current===void 0)return;const[P,V]=N.current.cell,W=pn([P,V]);if(W.kind!==U.Boolean&&W.allowOverlay){let B=W;if(E!==void 0)switch(B.kind){case U.Number:{const _=Xd(()=>E==="-"?-0:Number.parseFloat(E),0);B={...B,data:Number.isNaN(_)?0:_};break}case U.Text:case U.Markdown:case U.Uri:B={...B,data:E};break}li({target:v,content:B,initialValue:E,cell:[P,V],highlight:E===void 0,forceEditMode:E!==void 0,activation:M})}else W.kind===U.Boolean&&M.inputType==="keyboard"&&W.readonly!==!0&&(Sn([{location:N.current.cell,value:{...W,data:Kc(W.data)}}]),(z=Ut.current)==null||z.damage([{cell:N.current.cell}]))},[pn,N,Sn,li]),Wl=d.useCallback((v,M)=>{var V;const E=(V=Ut.current)==null?void 0:V.getBounds(v,M);if(E===void 0||vt.current===null)return;const P=pn([v,M]);P.allowOverlay&&li({target:E,content:P,initialValue:void 0,highlight:!0,cell:[v,M],forceEditMode:!0,activation:{inputType:"keyboard",key:"Enter"}})},[pn,vt,li]),Tt=d.useCallback((v,M,E="both",P=0,V=0,W=void 0)=>{if(vt.current!==null){const z=Ut.current,B=s.current,_=typeof v!="number"?v.unit==="cell"?v.amount:void 0:v,Y=typeof M!="number"?M.unit==="cell"?M.amount:void 0:M,ie=typeof v!="number"&&v.unit==="px"?v.amount:void 0,ge=typeof M!="number"&&M.unit==="px"?M.amount:void 0;if(z!==null&&B!==null){let q={x:0,y:0,width:0,height:0},Re=0,me=0;if((_!==void 0||Y!==void 0)&&(q=z.getBounds((_??0)+A,Y??0)??q,q.width===0||q.height===0))return;const ze=B.getBoundingClientRect(),Fe=ze.width/B.offsetWidth;if(ie!==void 0&&(q={...q,x:ie-ze.left-vt.current.scrollLeft,width:1}),ge!==void 0&&(q={...q,y:ge+ze.top-vt.current.scrollTop,height:1}),q!==void 0){const Ce={x:q.x-P,y:q.y-V,width:q.width+2*P,height:q.height+2*V};let it=0;for(let Fa=0;Fa<Ye;Fa++)it+=Ft[Fa].width;let Dt=0;const Wt=$t+(nr?1:0);Wt>0&&(Dt=Vr(Qt,Wt,$n));let cn=it*Fe+ze.left+A*mr*Fe,Nn=ze.right,Fn=ze.top+Jt*Fe,Wn=ze.bottom-Dt*Fe;const gi=q.width+P*2;switch(W==null?void 0:W.hAlign){case"start":Nn=cn+gi;break;case"end":cn=Nn-gi;break;case"center":cn=Math.floor((cn+Nn)/2)-gi/2,Nn=cn+gi;break}const mi=q.height+V*2;switch(W==null?void 0:W.vAlign){case"start":Wn=Fn+mi;break;case"end":Fn=Wn-mi;break;case"center":Fn=Math.floor((Fn+Wn)/2)-mi/2,Wn=Fn+mi;break}cn>Ce.x?Re=Ce.x-cn:Nn<Ce.x+Ce.width&&(Re=Ce.x+Ce.width-Nn),Fn>Ce.y?me=Ce.y-Fn:Wn<Ce.y+Ce.height&&(me=Ce.y+Ce.height-Wn),E==="vertical"||typeof v=="number"&&v<Ye?Re=0:(E==="horizontal"||typeof M=="number"&&M>=Qt-Wt)&&(me=0),(Re!==0||me!==0)&&(Fe!==1&&(Re/=Fe,me/=Fe),vt.current.scrollTo({left:Re+vt.current.scrollLeft,top:me+vt.current.scrollTop,behavior:(W==null?void 0:W.behavior)??"auto"}))}}}},[A,$t,mr,vt,Jt,Ye,Ft,Qt,nr,$n]),Sa=d.useRef(Wl),xa=d.useRef(C);Sa.current=Wl,xa.current=C;const ka=d.useRef(ke);ka.current=ke;const _l=d.useRef(We.length);_l.current=We.length;const vr=d.useCallback(async(v,M=!0,E)=>{var Y;const P=We[v];if(((Y=P==null?void 0:P.trailingRowOptions)==null?void 0:Y.disabled)===!0)return;const V=Me==null?void 0:Me();let W,z=!0;V!==void 0&&(W=await V,W==="top"&&(z=!1),typeof W=="number"&&(z=!1));let B=0;const _=()=>{if(ka.current<=ke){B<500&&window.setTimeout(_,B),B=50+B*2;return}const ie=typeof W=="number"?W:z?ke:0;hi.current(v-A,ie,"both",0,0,E?{behavior:E}:void 0),$e({cell:[v,ie],range:{x:v,y:ie,width:1,height:1}},!1,!1,"edit");const ge=xa.current([v-A,ie]);ge.allowOverlay&&co(ge)&&ge.readonly!==!0&&M&&window.setTimeout(()=>{Sa.current(v,ie)},0)};_()},[We,Me,A,ke,$e]),si=d.useCallback(async(v,M=!0)=>{const E=Le==null?void 0:Le();let P,V=!0;E!==void 0&&(P=await E,P==="left"&&(V=!1),typeof P=="number"&&(V=!1));let W=0;const z=()=>{if(_l.current<=We.length){W<500&&window.setTimeout(z,W),W=50+W*2;return}const B=typeof P=="number"?P:V?We.length:0;Tt(B-A,v),$e({cell:[B,v],range:{x:B,y:v,width:1,height:1}},!1,!1,"edit");const _=xa.current([B-A,v]);_.allowOverlay&&co(_)&&_.readonly!==!0&&M&&window.setTimeout(()=>{Sa.current(B,v)},0)};z()},[We,Le,A,Tt,$e]),ro=d.useCallback(v=>{var E,P;const M=((P=(E=Ft[v])==null?void 0:E.trailingRowOptions)==null?void 0:P.targetColumn)??(je==null?void 0:je.targetColumn);if(typeof M=="number")return M+(mn?1:0);if(typeof M=="object"){const V=b.indexOf(M);if(V>=0)return V+(mn?1:0)}},[Ft,b,mn,je==null?void 0:je.targetColumn]),br=d.useRef(),oo=d.useRef(),ko=d.useCallback((v,M)=>{var V;const[E,P]=M;return ar(nt,(V=We[E])==null?void 0:V.themeOverride,Rn==null?void 0:Rn(P),v.themeOverride)},[Rn,We,nt]),{mapper:Or}=Cg(zt,y),On=zt==null?void 0:zt.navigationBehavior,Mo=d.useCallback(v=>{var Y,ie,ge;const M=Ai.value?v.metaKey:v.ctrlKey,E=M&&pe==="multi",[P,V]=v.location,W=N.columns,z=N.rows,[B,_]=((Y=N.current)==null?void 0:Y.cell)??[];if(v.kind==="cell"){if(oo.current=void 0,Tr.current=[P,V],P===0&&mn){if(xt===!0&&V===ke||rn==="number"||pe==="none")return;const q=pn(v.location);if(q.kind!==Mn.Marker)return;if(dr!==void 0){const ze=kt(q);vn((ze==null?void 0:ze.kind)===Mn.Marker);const Fe=(ie=ze==null?void 0:ze.onClick)==null?void 0:ie.call(ze,{...v,cell:q,posX:v.localEventX,posY:v.localEventY,bounds:v.bounds,theme:ko(q,v.location),preventDefault:()=>{}});if(Fe===void 0||Fe.checked===q.checked)return}i(void 0),on();const Re=z.hasIndex(V),me=br.current;if(pe==="multi"&&(v.shiftKey||v.isLongTouch===!0)&&me!==void 0&&z.hasIndex(me)){const ze=[Math.min(me,V),Math.max(me,V)+1];E||rt==="multi"?Ne(void 0,ze,!0):Ne(ft.fromSingleSelection(ze),void 0,E)}else pe==="multi"&&(E||v.isTouch||rt==="multi")?Re?Ne(z.remove(V),void 0,!0):(Ne(void 0,V,!0),br.current=V):Re&&z.length===1?Ne(ft.empty(),void 0,M):(Ne(ft.fromSingleSelection(V),void 0,M),br.current=V)}else if(P>=A&&xt&&V===ke){const q=ro(P);vr(q??P)}else if(B!==P||_!==V){const q=pn(v.location),Re=kt(q);if((Re==null?void 0:Re.onSelect)!==void 0){let Fe=!1;if(Re.onSelect({...v,cell:q,posX:v.localEventX,posY:v.localEventY,bounds:v.bounds,preventDefault:()=>Fe=!0,theme:ko(q,v.location)}),Fe)return}if(On==="block"&&Or(V).isGroupHeader)return;const me=nr&&V===ke,ze=nr&&N!==void 0&&((ge=N.current)==null?void 0:ge.cell[1])===ke;if((v.shiftKey||v.isLongTouch===!0)&&B!==void 0&&_!==void 0&&N.current!==void 0&&!ze){if(me)return;const Fe=Math.min(P,B),Ce=Math.max(P,B),it=Math.min(V,_),Dt=Math.max(V,_);$e({...N.current,range:{x:Fe,y:it,width:Ce-Fe+1,height:Dt-it+1}},!0,M,"click"),br.current=void 0,on()}else $e({cell:[P,V],range:{x:P,y:V,width:1,height:1}},!0,M,"click"),br.current=void 0,i(void 0),on()}}else if(v.kind==="header")if(Tr.current=[P,V],i(void 0),mn&&P===0)br.current=void 0,oo.current=void 0,!qr&&pe==="multi"&&(z.length!==ke?Ne(ft.fromSingleSelection([0,ke]),void 0,M):Ne(ft.empty(),void 0,M),on());else{const q=oo.current;if(ee==="multi"&&(v.shiftKey||v.isLongTouch===!0)&&q!==void 0&&W.hasIndex(q)){const Re=[Math.min(q,P),Math.max(q,P)+1];M||v.isTouch||Ct==="multi"?Ae(void 0,Re,M):Ae(ft.fromSingleSelection(Re),void 0,M)}else ee==="multi"&&(M||v.isTouch||Ct==="multi")?(W.hasIndex(P)?Ae(W.remove(P),void 0,M):Ae(void 0,P,M),oo.current=P):ee!=="none"&&(W.hasIndex(P)?Ae(W.remove(P),void 0,M):Ae(ft.fromSingleSelection(P),void 0,M),oo.current=P);br.current=void 0,on()}else v.kind===Hn?Tr.current=[P,V]:v.kind===zi&&!v.isMaybeScrollbar&&(oe(Ci,!1),i(void 0),on(),Lt==null||Lt(),br.current=void 0,oo.current=void 0)},[pe,ee,N,mn,A,xt,ke,rn,pn,dr,on,rt,Ct,kt,ko,Ne,ro,vr,On,Or,nr,$e,qr,Ae,oe,Lt]),Eo=d.useRef(!1),Tr=d.useRef(),Gl=d.useRef(or),xn=d.useRef(),td=d.useCallback(v=>{if(io.current=!1,Gl.current=Nt.current,v.button!==0&&v.button!==1){xn.current=void 0;return}const M=performance.now();xn.current={button:v.button,time:M,location:v.location},(v==null?void 0:v.kind)==="header"&&(Eo.current=!0);const E=v.kind==="cell"&&v.isFillHandle;!E&&v.kind!=="cell"&&v.isEdge||(u({previousSelection:N,fillHandle:E}),Tr.current=void 0,!v.isTouch&&v.button===0&&!E?Mo(v):!v.isTouch&&v.button===1&&(Tr.current=v.location))},[N,Mo]),[Ma,Ea]=d.useState(),Xl=d.useCallback(v=>{if(v.kind!==Hn||ee!=="multi")return;const M=Ai.value?v.metaKey:v.ctrlKey,[E]=v.location,P=N.columns;if(E<A)return;const V=We[E];let W=E,z=E;for(let B=E-1;B>=A&&Wo(V.group,We[B].group);B--)W--;for(let B=E+1;B<We.length&&Wo(V.group,We[B].group);B++)z++;if(on(),M||v.isTouch||Ct==="multi")if(P.hasAll([W,z+1])){let B=P;for(let _=W;_<=z;_++)B=B.remove(_);Ae(B,void 0,M)}else Ae(void 0,[W,z+1],M);else Ae(ft.fromSingleSelection([W,z+1]),void 0,M)},[ee,on,N.columns,We,A,Ae,Ct]),io=d.useRef(!1),ci=d.useCallback(async v=>{if(G!==void 0&&Ie!==void 0){const M=Nt.current.y,E=Nt.current.height;let P=G({x:v,y:M,width:1,height:Math.min(E,ke-M)},O.current.signal);typeof P!="object"&&(P=await P());const V=Ft[v-A],z=document.createElement("canvas").getContext("2d",{alpha:!1});if(z!==null){z.font=nt.baseFontFull;const B=Lc(z,nt,V,0,P,gr,Zr,!1,kt);Ie==null||Ie(V,B.width,v,B.width)}}},[Ft,G,Zr,nt,gr,Ie,A,ke,kt]),[nd,Ia]=d.useState(),ao=d.useCallback(async(v,M)=>{var B,_;const E=(B=v.current)==null?void 0:B.range;if(E===void 0||G===void 0||M.current===void 0)return;const P=M.current.range;if(I!==void 0){let Y=!1;if(I({fillDestination:{...P,x:P.x-A},patternSource:{...E,x:E.x-A},preventDefault:()=>Y=!0}),Y)return}let V=G(E,O.current.signal);typeof V!="object"&&(V=await V());const W=V,z=[];for(let Y=0;Y<P.width;Y++)for(let ie=0;ie<P.height;ie++){const ge=[P.x+Y,P.y+ie];if(xc(ge,E))continue;const q=W[ie%E.height][Y%E.width];uo(q)||!co(q)||z.push({location:ge,value:{...q}})}Sn(z),(_=Ut.current)==null||_.damage(z.map(Y=>({cell:Y.location})))},[G,Sn,I,A]),Ul=d.useCallback(()=>{if(N.current===void 0||N.current.range.width<=1)return;const v={...N,current:{...N.current,range:{...N.current.range,width:1}}};ao(v,N)},[ao,N]),Yl=d.useCallback(()=>{if(N.current===void 0||N.current.range.height<=1)return;const v={...N,current:{...N.current,range:{...N.current.range,height:1}}};ao(v,N)},[ao,N]),rd=d.useCallback((v,M)=>{var ie,ge;const E=a;if(u(void 0),ya(void 0),Ia(void 0),Eo.current=!1,M)return;if((E==null?void 0:E.fillHandle)===!0&&N.current!==void 0&&((ie=E.previousSelection)==null?void 0:ie.current)!==void 0){if(Pr===void 0)return;const q={...N,current:{...N.current,range:Bc(E.previousSelection.current.range,Pr)}};ao(E.previousSelection,q),oe(q,!0);return}const[P,V]=v.location,[W,z]=Tr.current??[],B=()=>{io.current=!0},_=q=>{var me,ze,Fe;const Re=q.isTouch||W===P&&z===V;if(Re&&(D==null||D([P-A,V],{...q,preventDefault:B})),q.button===1)return!io.current;if(!io.current){const Ce=pn(v.location),it=kt(Ce);if(it!==void 0&&it.onClick!==void 0&&Re){const Wt=it.onClick({...q,cell:Ce,posX:q.localEventX,posY:q.localEventY,bounds:q.bounds,theme:ko(Ce,v.location),preventDefault:B});Wt!==void 0&&!uo(Wt)&&so(Wt)&&(Sn([{location:q.location,value:Wt}]),(me=Ut.current)==null||me.damage([{cell:q.location}]))}if(io.current||N.current===void 0)return!1;let Dt=!1;switch(Ce.activationBehaviorOverride??Ke){case"double-click":case"second-click":{if(((Fe=(ze=E==null?void 0:E.previousSelection)==null?void 0:ze.current)==null?void 0:Fe.cell)===void 0)break;const[Wt,cn]=N.current.cell,[Nn,Fn]=E.previousSelection.current.cell;Dt=P===Wt&&P===Nn&&V===cn&&V===Fn&&(q.isDoubleClick===!0||Ke==="second-click");break}case"single-click":{Dt=!0;break}}if(Dt){const cn={inputType:"pointer",pointerActivation:q.isDoubleClick===!0?"double-click":Ce.activationBehaviorOverride??Ke,pointerType:q.isTouch?"touch":"mouse"};return R==null||R([P-A,V],cn),no(q.bounds,cn),!0}}return!1},Y=v.location[0]-A;if(v.isTouch){const q=Nt.current,Re=Gl.current;if(q.x!==Re.x||q.y!==Re.y)return;if(v.isLongTouch===!0){if(v.kind==="cell"&&$o((ge=N.current)==null?void 0:ge.cell,v.location)){te==null||te([Y,v.location[1]],{...v,preventDefault:B});return}else if(v.kind==="header"&&N.columns.hasIndex(P)){ue==null||ue(Y,{...v,preventDefault:B});return}else if(v.kind===Hn){if(Y<0)return;j==null||j(Y,{...v,preventDefault:B});return}}v.kind==="cell"?_(v)||Mo(v):v.kind===Hn?X==null||X(Y,{...v,preventDefault:B}):(v.kind===xr&&(H==null||H(Y,{...v,preventDefault:B})),Mo(v));return}if(v.kind==="header"){if(Y<0)return;v.isEdge?v.isDoubleClick===!0&&ci(P):v.button===0&&P===W&&V===z&&(H==null||H(Y,{...v,preventDefault:B}))}if(v.kind===Hn){if(Y<0)return;v.button===0&&P===W&&V===z&&(X==null||X(Y,{...v,preventDefault:B}),io.current||Xl(v))}v.kind==="cell"&&(v.button===0||v.button===1)&&_(v),Tr.current=void 0},[a,N,A,Pr,ao,oe,D,pn,kt,Ke,ko,Sn,R,no,te,ue,j,Mo,X,H,ci,Xl]),od=d.useCallback(v=>{const M={...v,location:[v.location[0]-A,v.location[1]]};tt==null||tt(M),a!==void 0&&v.buttons===0&&(u(void 0),ya(void 0),Ia(void 0),Eo.current=!1),Ia(E=>{var P;return Eo.current?[v.scrollEdge[0],0]:v.scrollEdge[0]===(E==null?void 0:E[0])&&v.scrollEdge[1]===E[1]?E:a===void 0||(((P=xn.current)==null?void 0:P.location[0])??0)<A?void 0:v.scrollEdge})},[a,tt,A]),id=d.useCallback((v,M)=>{lt==null||lt(v-A,M)},[lt,A]),ad=d.useCallback((v,M)=>{Be==null||Be(v-A,M)},[Be,A]),Bn=(ts=N==null?void 0:N.current)==null?void 0:ts.cell,ld=d.useCallback((v,M,E,P,V,W)=>{Dr.current=!1;let z=Bn;z!==void 0&&(z=[z[0]-A,z[1]]);const B=Ye===0?void 0:{x:0,y:v.y,width:Ye,height:v.height},_=[];B!==void 0&&_.push(B),$t>0&&(_.push({x:v.x-A,y:ke-$t,width:v.width,height:$t}),Ye>0&&_.push({x:0,y:ke-$t,width:Ye,height:$t}));const Y={x:v.x-A,y:v.y,width:v.width,height:xt&&v.y+v.height>=ke?v.height-1:v.height,tx:V,ty:W,extras:{selected:z,freezeRegion:B,freezeRegions:_}};Nt.current=Y,pr(Y),Dn([M,E,P]),En==null||En(Y,Y.tx,Y.ty,Y.extras)},[Bn,A,xt,ke,Ye,$t,pr,En]),sd=Sr(F,d.useCallback((v,M)=>(F==null?void 0:F(v-A,M-A))!==!1,[F,A])),cd=Sr(Te,d.useCallback((v,M)=>{Te==null||Te(v-A,M-A),ee!=="none"&&Ae(ft.fromSingleSelection(M),void 0,!0)},[ee,Te,A,Ae])),Ra=d.useRef(!1),ud=d.useCallback(v=>{if(v.location[0]===0&&A>0){v.preventDefault();return}Ue==null||Ue({...v,location:[v.location[0]-A,v.location[1]]}),v.defaultPrevented()||(Ra.current=!0),u(void 0)},[Ue,A]),dd=d.useCallback(()=>{Ra.current=!1},[]),Kl=zt==null?void 0:zt.selectionBehavior,ui=d.useCallback(v=>{if(Kl!=="block-spanning")return;const{isGroupHeader:M,path:E,groupRows:P}=Or(v);if(M)return[v,v];const V=E[E.length-1],W=v-V,z=v+P-V-1;return[W,z]},[Or,Kl]),Da=d.useRef(),Pa=d.useCallback(v=>{var M,E,P;if(!Uc(v,Da.current)&&(Da.current=v,!(((M=xn==null?void 0:xn.current)==null?void 0:M.button)!==void 0&&xn.current.button>=1))){if(v.buttons!==0&&a!==void 0&&((E=xn.current)==null?void 0:E.location[0])===0&&A===1&&pe==="multi"&&a.previousSelection&&!a.previousSelection.rows.hasIndex(xn.current.location[1])&&N.rows.hasIndex(xn.current.location[1])){const V=Math.min(xn.current.location[1],v.location[1]),W=Math.max(xn.current.location[1],v.location[1])+1;Ne(ft.fromSingleSelection([V,W]),void 0,!1)}else if(v.buttons!==0&&a!==void 0&&N.current!==void 0&&!Ra.current&&!Eo.current&&(gt==="rect"||gt==="multi-rect")){const[V,W]=N.current.cell;let[z,B]=v.location;if(B<0&&(B=Nt.current.y),a.fillHandle===!0&&((P=a.previousSelection)==null?void 0:P.current)!==void 0){const _=a.previousSelection.current.range;B=Math.min(B,xt?ke-1:ke);const Y=lh(_,z,B,gn);ya(Y)}else{if(xt&&W===ke)return;if(xt&&B===ke)if(v.kind===zi)B--;else return;z=Math.max(z,A);const ie=ui(W);B=ie===void 0?B:kn(B,ie[0],ie[1]);const ge=z-V,q=B-W,Re={x:ge>=0?V:z,y:q>=0?W:B,width:Math.abs(ge)+1,height:Math.abs(q)+1};$e({...N.current,range:Re},!0,!1,"drag")}}Rt==null||Rt({...v,location:[v.location[0]-A,v.location[1]]})}},[a,A,pe,N,gt,Rt,Ne,xt,ke,gn,ui,$e]),fd=d.useCallback(()=>{var z,B;const v=Da.current;if(v===void 0)return;const[M,E]=v.scrollEdge;let[P,V]=v.location;const W=Nt.current;M===-1?P=((B=(z=W.extras)==null?void 0:z.freezeRegion)==null?void 0:B.x)??W.x:M===1&&(P=W.x+W.width),E===-1?V=Math.max(0,W.y):E===1&&(V=Math.min(ke-1,W.y+W.height)),P=kn(P,0,We.length-1),V=kn(V,0,ke-1),Pa({...v,location:[P,V]})},[We.length,Pa,ke]);pg(nd,vt,fd);const Tn=d.useCallback(v=>{if(N.current===void 0)return;const[M,E]=v,[P,V]=N.current.cell,W=N.current.range;let z=W.x,B=W.x+W.width,_=W.y,Y=W.y+W.height;const[ie,ge]=ui(V)??[0,ke-1],q=ge+1;if(E!==0)switch(E){case 2:{Y=q,_=V,Tt(0,Y,"vertical");break}case-2:{_=ie,Y=V+1,Tt(0,_,"vertical");break}case 1:{_<V?(_++,Tt(0,_,"vertical")):(Y=Math.min(q,Y+1),Tt(0,Y,"vertical"));break}case-1:{Y>V+1?(Y--,Tt(0,Y,"vertical")):(_=Math.max(ie,_-1),Tt(0,_,"vertical"));break}default:No()}if(M!==0)if(M===2)B=We.length,z=P,Tt(B-1-A,0,"horizontal");else if(M===-2)z=A,B=P+1,Tt(z-A,0,"horizontal");else{let Re=[];if(G!==void 0){const me=G({x:z,y:_,width:B-z-A,height:Y-_},O.current.signal);typeof me=="object"&&(Re=Eg(me))}if(M===1){let me=!1;if(z<P){if(Re.length>0){const ze=Xn(z+1,P+1).find(Fe=>!Re.includes(Fe-A));ze!==void 0&&(z=ze,me=!0)}else z++,me=!0;me&&Tt(z,0,"horizontal")}me||(B=Math.min(We.length,B+1),Tt(B-1-A,0,"horizontal"))}else if(M===-1){let me=!1;if(B>P+1){if(Re.length>0){const ze=Xn(B-1,P,-1).find(Fe=>!Re.includes(Fe-A));ze!==void 0&&(B=ze,me=!0)}else B--,me=!0;me&&Tt(B-A,0,"horizontal")}me||(z=Math.max(A,z-1),Tt(z-A,0,"horizontal"))}else No()}$e({cell:N.current.cell,range:{x:z,y:_,width:B-z,height:Y-_}},!0,!1,"keyboard-select")},[G,ui,N,We.length,A,ke,Tt,$e]),Oa=d.useRef(Er);Oa.current=Er;const wr=d.useCallback((v,M,E,P)=>{const V=Qt-(E?0:1);v=kn(v,A,Ft.length-1+A),M=kn(M,0,V);const W=Bn==null?void 0:Bn[0],z=Bn==null?void 0:Bn[1];if(v===W&&M===z)return!1;if(P&&N.current!==void 0){const B=[...N.current.rangeStack];(N.current.range.width>1||N.current.range.height>1)&&B.push(N.current.range),oe({...N,current:{cell:[v,M],range:{x:v,y:M,width:1,height:1},rangeStack:B}},!0)}else $e({cell:[v,M],range:{x:v,y:M,width:1,height:1}},!0,!1,"keyboard-nav");return c.current!==void 0&&c.current[0]===v&&c.current[1]===M&&(c.current=void 0),Oa.current&&Tt(v-A,M),!0},[Qt,A,Ft.length,Bn,N,Tt,oe,$e]),hd=d.useCallback((v,M)=>{(o==null?void 0:o.cell)!==void 0&&v!==void 0&&so(v)&&(Sn([{location:o.cell,value:v}]),window.requestAnimationFrame(()=>{var V;(V=Ut.current)==null||V.damage([{cell:o.cell}])})),on(!0),i(void 0);const[E,P]=M;if(N.current!==void 0&&(E!==0||P!==0)){const V=N.current.cell[1]===Qt-1&&v!==void 0,W=N.current.cell[0]===We.length-1&&v!==void 0;let z=!0;if(V&&P===1&&Me!==void 0){z=!1;const B=N.current.cell[0]+E,_=ro(B);vr(_??B,!1)}if(W&&E===1&&Le!==void 0){z=!1;const B=N.current.cell[1]+P;si(B,!1)}z&&wr(kn(N.current.cell[0]+E,0,We.length-1),kn(N.current.cell[1]+P,0,Qt-1),V,!1)}x==null||x(v,M)},[o==null?void 0:o.cell,on,N,x,Sn,Qt,wr,We.length,vr,si,Me,Le,ro]),gd=d.useMemo(()=>`gdg-overlay-${Mg++}`,[]),Fr=d.useCallback(v=>{var E,P,V,W;on();const M=[];for(let z=v.x;z<v.x+v.width;z++)for(let B=v.y;B<v.y+v.height;B++){const _=C([z-A,B]);if(!_.allowOverlay&&_.kind!==U.Boolean)continue;let Y;if(_.kind===U.Custom){const ie=kt(_),ge=(E=ie==null?void 0:ie.provideEditor)==null?void 0:E.call(ie,{..._,location:[z-A,B]});(ie==null?void 0:ie.onDelete)!==void 0?Y=ie.onDelete(_):Ud(ge)&&(Y=(P=ge==null?void 0:ge.deletedValue)==null?void 0:P.call(ge,_))}else if(so(_)&&_.allowOverlay||_.kind===U.Boolean){const ie=kt(_);Y=(V=ie==null?void 0:ie.onDelete)==null?void 0:V.call(ie,_)}Y!==void 0&&!uo(Y)&&so(Y)&&M.push({location:[z,B],value:Y})}Sn(M),(W=Ut.current)==null||W.damage(M.map(z=>({cell:z.location})))},[on,C,kt,Sn,A]),Io=o!==void 0,jl=d.useCallback(v=>{var ze,Fe;const M=()=>{v.stopPropagation(),v.preventDefault()},E={didMatch:!1},{bounds:P}=v,V=N.columns,W=N.rows,z=Vn;if(!Io&&Ge(z.clear,v,E))oe(Ci,!1),Lt==null||Lt();else if(!Io&&Ge(z.selectAll,v,E))oe({columns:ft.empty(),rows:ft.empty(),current:{cell:((ze=N.current)==null?void 0:ze.cell)??[A,0],range:{x:A,y:0,width:b.length,height:ke},rangeStack:[]}},!1);else if(Ge(z.search,v,E))(Fe=l==null?void 0:l.current)==null||Fe.focus({preventScroll:!0}),Rr(!0);else if(Ge(z.delete,v,E)){const Ce=(Qe==null?void 0:Qe(N))??!0;if(Ce!==!1){const it=Ce===!0?N:Ce;if(it.current!==void 0){Fr(it.current.range);for(const Dt of it.current.rangeStack)Fr(Dt)}for(const Dt of it.rows)Fr({x:A,y:Dt,width:b.length,height:1});for(const Dt of it.columns)Fr({x:Dt,y:0,width:1,height:ke})}}if(E.didMatch)return M(),!0;if(N.current===void 0)return!1;let[B,_]=N.current.cell;const[,Y]=N.current.cell;let ie=!1,ge=!1;if(Ge(z.scrollToSelectedCell,v,E))hi.current(B-A,_);else if(ee!=="none"&&Ge(z.selectColumn,v,E))V.hasIndex(B)?Ae(V.remove(B),void 0,!0):ee==="single"?Ae(ft.fromSingleSelection(B),void 0,!0):Ae(void 0,B,!0);else if(pe!=="none"&&Ge(z.selectRow,v,E))W.hasIndex(_)?Ne(W.remove(_),void 0,!0):pe==="single"?Ne(ft.fromSingleSelection(_),void 0,!0):Ne(void 0,_,!0);else if(!Io&&P!==void 0&&Ge(z.activateCell,v,E))if(_===ke&&xt)window.setTimeout(()=>{const Ce=ro(B);vr(Ce??B)},0);else{const Ce={inputType:"keyboard",key:v.key};R==null||R([B-A,_],Ce),no(P,Ce)}else N.current.range.height>1&&Ge(z.downFill,v,E)?Yl():N.current.range.width>1&&Ge(z.rightFill,v,E)?Ul():Ge(z.goToNextPage,v,E)?_+=Math.max(1,Nt.current.height-4):Ge(z.goToPreviousPage,v,E)?_-=Math.max(1,Nt.current.height-4):Ge(z.goToFirstCell,v,E)?(i(void 0),_=0,B=0):Ge(z.goToLastCell,v,E)?(i(void 0),_=Number.MAX_SAFE_INTEGER,B=Number.MAX_SAFE_INTEGER):Ge(z.selectToFirstCell,v,E)?(i(void 0),Tn([-2,-2])):Ge(z.selectToLastCell,v,E)?(i(void 0),Tn([2,2])):Io?(Ge(z.closeOverlay,v,E)&&i(void 0),Ge(z.acceptOverlayDown,v,E)&&(i(void 0),_++),Ge(z.acceptOverlayUp,v,E)&&(i(void 0),_--),Ge(z.acceptOverlayLeft,v,E)&&(i(void 0),B--),Ge(z.acceptOverlayRight,v,E)&&(i(void 0),B++)):(Ge(z.goDownCell,v,E)?_+=1:Ge(z.goUpCell,v,E)?_-=1:Ge(z.goRightCell,v,E)?B+=1:Ge(z.goLeftCell,v,E)?B-=1:Ge(z.goDownCellRetainSelection,v,E)?(_+=1,ie=!0):Ge(z.goUpCellRetainSelection,v,E)?(_-=1,ie=!0):Ge(z.goRightCellRetainSelection,v,E)?(B+=1,ie=!0):Ge(z.goLeftCellRetainSelection,v,E)?(B-=1,ie=!0):Ge(z.goToLastRow,v,E)?_=ke-1:Ge(z.goToFirstRow,v,E)?_=Number.MIN_SAFE_INTEGER:Ge(z.goToLastColumn,v,E)?B=Number.MAX_SAFE_INTEGER:Ge(z.goToFirstColumn,v,E)?B=Number.MIN_SAFE_INTEGER:(gt==="rect"||gt==="multi-rect")&&(Ge(z.selectGrowDown,v,E)?Tn([0,1]):Ge(z.selectGrowUp,v,E)?Tn([0,-1]):Ge(z.selectGrowRight,v,E)?Tn([1,0]):Ge(z.selectGrowLeft,v,E)?Tn([-1,0]):Ge(z.selectToLastRow,v,E)?Tn([0,2]):Ge(z.selectToFirstRow,v,E)?Tn([0,-2]):Ge(z.selectToLastColumn,v,E)?Tn([2,0]):Ge(z.selectToFirstColumn,v,E)&&Tn([-2,0])),ge=E.didMatch);if(On!==void 0&&On!=="normal"&&_!==Y){const Ce=On==="skip-up"||On==="skip"||On==="block",it=On==="skip-down"||On==="skip"||On==="block",Dt=_<Y;if(Dt&&Ce){for(;_>=0&&Or(_).isGroupHeader;)_--;_<0&&(_=Y)}else if(!Dt&&it){for(;_<ke&&Or(_).isGroupHeader;)_++;_>=ke&&(_=Y)}}const Re=wr(B,_,!1,ie),me=E.didMatch;return me&&(Re||!ge||er)&&M(),me},[On,Io,N,Vn,ee,pe,gt,A,Or,ke,wr,oe,Lt,b.length,Qe,er,Fr,Ae,Ne,xt,ro,vr,R,no,Yl,Ul,Tn]),Ro=d.useCallback(v=>{let M=!1;if(He!==void 0&&He({...v,...v.location&&{location:[v.location[0]-A,v.location[1]]},cancel:()=>{M=!0}}),M||jl(v)||N.current===void 0)return;const[E,P]=N.current.cell,V=Nt.current;if(at&&!v.metaKey&&!v.ctrlKey&&N.current!==void 0&&v.key.length===1&&/[\p{L}\p{M}\p{N}\p{S}\p{P}]/u.test(v.key)&&v.bounds!==void 0&&co(C([E-A,Math.max(0,Math.min(P,ke-1))]))){if((!xt||P!==ke)&&(V.y>P||P>V.y+V.height||V.x>E||E>V.x+V.width))return;const W={inputType:"keyboard",key:v.key};R==null||R([E-A,P],W),no(v.bounds,W,v.key),v.stopPropagation(),v.preventDefault()}},[at,He,jl,N,C,A,ke,xt,R,no]),md=d.useCallback((v,M)=>{const E=v.location[0]-A;if(v.kind==="header"&&(ue==null||ue(E,{...v,preventDefault:M})),v.kind===Hn){if(E<0)return;j==null||j(E,{...v,preventDefault:M})}if(v.kind==="cell"){const[P,V]=v.location;te==null||te([E,V],{...v,preventDefault:M}),ff(N,v.location)||wr(P,V,!1,!1)}},[N,te,j,ue,A,wr]),Ta=d.useCallback(async v=>{var z,B,_;if(!Vn.paste)return;function M(Y,ie,ge,q){var me,ze;const Re=typeof ge=="object"?(ge==null?void 0:ge.join(`
`))??"":(ge==null?void 0:ge.toString())??"";if(!uo(Y)&&co(Y)&&Y.readonly!==!0){const Fe=k==null?void 0:k(Re,Y);if(Fe!==void 0&&so(Fe))return{location:ie,value:Fe};const Ce=kt(Y);if(Ce===void 0)return;if(Ce.kind===U.Custom){vn(Y.kind===U.Custom);const it=(me=Ce.onPaste)==null?void 0:me.call(Ce,Re,Y.data);return it===void 0?void 0:{location:ie,value:{...Y,data:it}}}else{const it=(ze=Ce.onPaste)==null?void 0:ze.call(Ce,Re,Y,{formatted:q,formattedString:typeof q=="string"?q:q==null?void 0:q.join(`
`),rawValue:ge});return it===void 0?void 0:(vn(it.kind===Y.kind),{location:ie,value:it})}}}const E=N.columns,P=N.rows,V=((z=vt.current)==null?void 0:z.contains(document.activeElement))===!0||((B=s.current)==null?void 0:B.contains(document.activeElement))===!0;let W;if(N.current!==void 0?W=[N.current.range.x,N.current.range.y]:E.length===1?W=[E.first()??0,0]:P.length===1&&(W=[A,P.first()??0]),V&&W!==void 0){let Y,ie;const ge="text/plain",q="text/html";if(navigator.clipboard.read!==void 0){const Fe=await navigator.clipboard.read();for(const Ce of Fe){if(Ce.types.includes(q)){const Dt=await(await Ce.getType(q)).text(),Wt=xs(Dt);if(Wt!==void 0){Y=Wt;break}}Ce.types.includes(ge)&&(ie=await(await Ce.getType(ge)).text())}}else if(navigator.clipboard.readText!==void 0)ie=await navigator.clipboard.readText();else if(v!==void 0&&(v==null?void 0:v.clipboardData)!==null){if(v.clipboardData.types.includes(q)){const Fe=v.clipboardData.getData(q);Y=xs(Fe)}Y===void 0&&v.clipboardData.types.includes(ge)&&(ie=v.clipboardData.getData(ge))}else return;const[Re,me]=W,ze=[];do{if(ce===void 0){const Fe=pn(W),Ce=ie??(Y==null?void 0:Y.map(Dt=>Dt.map(Wt=>Wt.rawValue).join("	")).join("	"))??"",it=M(Fe,W,Ce,void 0);it!==void 0&&ze.push(it);break}if(Y===void 0){if(ie===void 0)return;Y=cg(ie)}if(ce===!1||typeof ce=="function"&&(ce==null?void 0:ce([W[0]-A,W[1]],Y.map(Fe=>Fe.map(Ce=>{var it;return((it=Ce.rawValue)==null?void 0:it.toString())??""}))))!==!0)return;for(const[Fe,Ce]of Y.entries()){if(Fe+me>=ke)break;for(const[it,Dt]of Ce.entries()){const Wt=[it+Re,Fe+me],[cn,Nn]=Wt;if(cn>=We.length||Nn>=Qt)continue;const Fn=pn(Wt),Wn=M(Fn,Wt,Dt.rawValue,Dt.formatted);Wn!==void 0&&ze.push(Wn)}}}while(!1);Sn(ze),(_=Ut.current)==null||_.damage(ze.map(Fe=>({cell:Fe.location})))}},[k,kt,pn,N,Vn.paste,vt,We.length,Sn,Qt,ce,A,ke]);an("paste",Ta,f,!1,!0);const Do=d.useCallback(async(v,M)=>{var z,B;if(!Vn.copy)return;const E=M===!0||((z=vt.current)==null?void 0:z.contains(document.activeElement))===!0||((B=s.current)==null?void 0:B.contains(document.activeElement))===!0,P=N.columns,V=N.rows,W=(_,Y)=>{if(!we)Ms(_,Y,v);else{const ie=Y.map(ge=>({kind:U.Text,data:b[ge].title,displayData:b[ge].title,allowOverlay:!1}));Ms([ie,..._],Y,v)}};if(E&&G!==void 0){if(N.current!==void 0){let _=G(N.current.range,O.current.signal);typeof _!="object"&&(_=await _()),W(_,Xn(N.current.range.x-A,N.current.range.x+N.current.range.width-A))}else if(V!==void 0&&V.length>0){const Y=[...V].map(ie=>{const ge=G({x:A,y:ie,width:b.length,height:1},O.current.signal);return typeof ge=="object"?ge[0]:ge().then(q=>q[0])});if(Y.some(ie=>ie instanceof Promise)){const ie=await Promise.all(Y);W(ie,Xn(b.length))}else W(Y,Xn(b.length))}else if(P.length>0){const _=[],Y=[];for(const ie of P){let ge=G({x:ie,y:0,width:1,height:ke},O.current.signal);typeof ge!="object"&&(ge=await ge()),_.push(ge),Y.push(ie-A)}if(_.length===1)W(_[0],Y);else{const ie=_.reduce((ge,q)=>ge.map((Re,me)=>[...Re,...q[me]]));W(ie,Y)}}}},[b,G,N,Vn.copy,A,vt,ke,we]);an("copy",Do,f,!1,!1);const pd=d.useCallback(async v=>{var E,P;if(!(!Vn.cut||!(((E=vt.current)==null?void 0:E.contains(document.activeElement))===!0||((P=s.current)==null?void 0:P.contains(document.activeElement))===!0))&&(await Do(v),N.current!==void 0)){let V={current:{cell:N.current.cell,range:N.current.range,rangeStack:[]},rows:ft.empty(),columns:ft.empty()};const W=Qe==null?void 0:Qe(V);if(W===!1||(V=W===!0?V:W,V.current===void 0))return;Fr(V.current.range)}},[Fr,N,Vn.cut,Do,vt,Qe]);an("cut",pd,f,!1,!1);const vd=d.useCallback((v,M)=>{if(Oe!==void 0){A!==0&&(v=v.map(V=>[V[0]-A,V[1]])),Oe(v,M);return}if(v.length===0||M===-1)return;const[E,P]=v[M];c.current!==void 0&&c.current[0]===E&&c.current[1]===P||(c.current=[E,P],wr(E,P,!1,!1))},[Oe,A,wr]),[di,fi]=((ns=ln==null?void 0:ln.current)==null?void 0:ns.cell)??[],hi=d.useRef(Tt);hi.current=Tt,d.useLayoutEffect(()=>{var v,M,E,P;Oa.current&&!Dr.current&&di!==void 0&&fi!==void 0&&(di!==((M=(v=re.current)==null?void 0:v.current)==null?void 0:M.cell[0])||fi!==((P=(E=re.current)==null?void 0:E.current)==null?void 0:P.cell[1]))&&hi.current(di,fi),Dr.current=!1},[di,fi]);const ql=N.current!==void 0&&(N.current.cell[0]>=We.length||N.current.cell[1]>=Qt);d.useLayoutEffect(()=>{ql&&oe(Ci,!1)},[ql,oe]);const bd=d.useMemo(()=>xt===!0&&(je==null?void 0:je.tint)===!0?ft.fromSingleSelection(Qt-1):ft.empty(),[Qt,xt,je==null?void 0:je.tint]),wd=d.useCallback(v=>typeof ut=="boolean"?ut:(ut==null?void 0:ut(v-A))??!0,[A,ut]),yd=d.useMemo(()=>{if(Ma===void 0||s.current===null)return null;const{bounds:v,group:M}=Ma,E=s.current.getBoundingClientRect();return d.createElement(Jh,{bounds:v,group:M,canvasBounds:E,onClose:()=>Ea(void 0),onFinish:P=>{Ea(void 0),ae==null||ae(M,P)}})},[ae,Ma]),Cd=Math.min(We.length,Ye+(mn?1:0));d.useImperativeHandle(t,()=>({appendRow:(v,M)=>vr(v+A,M),appendColumn:(v,M)=>si(v,M),updateCells:v=>{var M;return A!==0&&(v=v.map(E=>({cell:[E.cell[0]+A,E.cell[1]]}))),(M=Ut.current)==null?void 0:M.damage(v)},getBounds:(v,M)=>{var E;if(!((s==null?void 0:s.current)===null||(vt==null?void 0:vt.current)===null)){if(v===void 0&&M===void 0){const P=s.current.getBoundingClientRect(),V=P.width/vt.current.clientWidth;return{x:P.x-vt.current.scrollLeft*V,y:P.y-vt.current.scrollTop*V,width:vt.current.scrollWidth*V,height:vt.current.scrollHeight*V}}return(E=Ut.current)==null?void 0:E.getBounds((v??0)+A,M)}},focus:()=>{var v;return(v=Ut.current)==null?void 0:v.focus()},emit:async v=>{switch(v){case"delete":Ro({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":Ro({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":Ro({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await Do(void 0,!0);break;case"paste":await Ta();break}},scrollTo:Tt,remeasureColumns:v=>{for(const M of v)ci(M+A)},getMouseArgsForPosition:(v,M,E)=>{if((Ut==null?void 0:Ut.current)===null)return;const P=Ut.current.getMouseArgsForPosition(v,M,E);if(P!==void 0)return{...P,location:[P.location[0]-A,P.location[1]]}}}),[vr,si,ci,vt,Do,Ro,Ta,A,Tt]);const[Zl,Jl]=Bn??[],Sd=d.useCallback(v=>{const[M,E]=v;if(E===-1){ee!=="none"&&(Ae(ft.fromSingleSelection(M),void 0,!1),on());return}Zl===M&&Jl===E||($e({cell:v,range:{x:M,y:E,width:1,height:1}},!0,!1,"keyboard-nav"),Tt(M,E))},[ee,on,Tt,Zl,Jl,$e,Ae]),[xd,kd]=d.useState(!1),Ql=d.useRef(gc(v=>{kd(v)},5)),Md=d.useCallback(()=>{Ql.current(!0),N.current===void 0&&N.columns.length===0&&N.rows.length===0&&a===void 0&&$e({cell:[A,ri],range:{x:A,y:ri,width:1,height:1}},!0,!1,"keyboard-select")},[ri,N,a,A,$e]),Ed=d.useCallback(()=>{Ql.current(!1)},[]),[Id,Rd]=d.useMemo(()=>{let v;const M=(Ze==null?void 0:Ze.scrollbarWidthOverride)??Qa(),E=ke+(xt?1:0);if(typeof $n=="number")v=Jt+E*$n;else{let V=0;const W=Math.min(E,10);for(let z=0;z<W;z++)V+=$n(z);V=Math.floor(V/W),v=Jt+E*V}v+=M;const P=We.reduce((V,W)=>W.width+V,0)+M;return[`${Math.min(1e5,P)}px`,`${Math.min(1e5,v)}px`]},[We,Ze==null?void 0:Ze.scrollbarWidthOverride,$n,ke,xt,Jt]),Dd=d.useMemo(()=>If(nt),[nt]);return d.createElement(Fc.Provider,{value:nt},d.createElement(hg,{style:Dd,className:he,inWidth:m??Id,inHeight:w??Rd},d.createElement(Kh,{fillHandle:Vt,drawFocusRing:Ur,experimental:Ze,fixedShadowX:Zn,fixedShadowY:qo,getRowThemeOverride:Rn,headerIcons:ur,imageWindowLoader:Jn,initialSize:Qn,isDraggable:Br,onDragLeave:Zo,onRowMoved:dr,overscrollX:pa,overscrollY:va,preventDiagonalScrolling:_r,rightElement:Gr,rightElementProps:Mr,smoothScrollX:sa,smoothScrollY:Jo,className:he,enableGroups:Cn,onCanvasFocused:Md,onCanvasBlur:Ed,canvasRef:s,onContextMenu:md,theme:nt,cellXOffset:Qu,cellYOffset:ri,accessibilityHeight:or.height,onDragEnd:dd,columns:We,nonGrowWidth:dt,drawHeader:Bt,onColumnProposeMove:sd,drawCell:ye,disabledRows:bd,freezeColumns:Cd,lockColumns:A,firstColAccessible:A===0,getCellContent:pn,minColumnWidth:gr,maxColumnWidth:Zr,searchInputRef:l,showSearch:wa,onSearchClose:Qr,highlightRegions:ed,getCellsForSelection:G,getGroupDetails:Ca,headerHeight:xo,isFocused:xd,groupHeaderHeight:Cn?ni:0,freezeTrailingRows:$t+(xt&&(je==null?void 0:je.sticky)===!0?1:0),hasAppendRow:xt,onColumnResize:Ie,onColumnResizeEnd:Je,onColumnResizeStart:ve,onCellFocused:Sd,onColumnMoved:cd,onDragStart:ud,onHeaderMenuClick:id,onHeaderIndicatorClick:ad,onItemHovered:Pa,isFilling:(a==null?void 0:a.fillHandle)===!0,onMouseMove:od,onKeyDown:Ro,onKeyUp:Ve,onMouseDown:td,onMouseUp:rd,onDragOverCell:yn,onDrop:nn,onSearchResultsChanged:vd,onVisibleRegionChanged:ld,clientSize:Ot,rowHeight:$n,searchResults:K,searchValue:le,onSearchValueChange:ne,rows:Qt,scrollRef:vt,selection:N,translateX:or.tx,translateY:or.ty,verticalBorder:wd,gridRef:Ut,getCellRenderer:kt,resizeIndicator:Qo}),yd,o!==void 0&&d.createElement(d.Suspense,{fallback:null},d.createElement(kg,{...o,validateCell:fe,bloom:$,id:gd,getCellRenderer:kt,className:(Ze==null?void 0:Ze.isSubGrid)===!0?"click-outside-ignore":void 0,provideEditor:Zt,imageEditorOverride:p,portalElementRef:ei,onFinishEditing:hd,markdownDivCreateNode:h,isOutsideClick:fa,customEventTarget:Ze==null?void 0:Ze.eventTarget}))))},Rg=d.forwardRef(Ig);function Rs(e){const{cell:t,posX:n,posY:r,bounds:o,theme:i}=e,{width:l,height:s,x:a,y:u}=o,c=t.maxSize??i.checkboxMaxSize,f=Math.floor(o.y+s/2),p=yc(c,s,i.cellVerticalPadding),g=wc(t.contentAlign??"center",a,l,i.cellHorizontalPadding,p),h=bc(g,f,p),m=Cc(a+n,u+r,h);return gl(t)&&m}const Dg={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??"false"},kind:U.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>Pg(e,e.cell.data,gl(e.cell),e.cell.maxSize??e.theme.checkboxMaxSize,e.cell.hoverEffectIntensity??.35),onDelete:e=>({...e,data:!1}),onSelect:e=>{Rs(e)&&e.preventDefault()},onClick:e=>{if(Rs(e))return{...e.cell,data:Kc(e.cell.data)}},onPaste:(e,t)=>{let n=Ti;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=hl),n===t.data?void 0:{...t,data:n}}};function Pg(e,t,n,r,o){if(!n&&t===Ti)return;const{ctx:i,hoverAmount:l,theme:s,rect:a,highlighted:u,hoverX:c,hoverY:f,cell:{contentAlign:p}}=e,{x:g,y:h,width:m,height:w}=a;let b=!1;if(o>0){let y=n?1-o+o*l:.4;if(t===Ti&&(y*=l),y===0)return;y<1&&(b=!0,i.globalAlpha=y)}Cl(i,s,t,g,h,m,w,u,c,f,r,p),b&&(i.globalAlpha=1)}const Og=It("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),Tg=e=>{const{bubbles:t}=e;return d.createElement(Og,null,t.map((n,r)=>d.createElement("div",{key:r,className:"boe-bubble"},n)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},Fg={getAccessibilityString:e=>Sc(e.data),kind:U.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>{const r=t.data.reduce((o,i)=>e.measureText(i).width+o+n.bubblePadding*2+n.bubbleMargin,0);return t.data.length===0?n.cellHorizontalPadding*2:r+2*n.cellHorizontalPadding-n.bubbleMargin},draw:e=>Hg(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(Tg,{bubbles:t.data})},onPaste:()=>{}};function Hg(e,t){const{rect:n,theme:r,ctx:o,highlighted:i}=e,{x:l,y:s,width:a,height:u}=n;let c=l+r.cellHorizontalPadding;const f=[];for(const p of t){if(c>l+a)break;const g=fn(p,o,r.baseFontFull).width;f.push({x:c,width:g}),c+=g+r.bubblePadding*2+r.bubbleMargin}o.beginPath();for(const p of f)An(o,p.x,s+(u-r.bubbleHeight)/2,p.width+r.bubblePadding*2,r.bubbleHeight,r.roundingRadius??r.bubbleHeight/2);o.fillStyle=i?r.bgBubbleSelected:r.bgBubble,o.fill();for(const[p,g]of f.entries())o.beginPath(),o.fillStyle=r.textBubble,o.fillText(t[p],g.x+r.bubblePadding,s+u/2+Yt(o,r))}const Lg=It("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),Ag=e=>{const{drilldowns:t}=e;return d.createElement(Lg,null,t.map((n,r)=>d.createElement("div",{key:r,className:"doe-bubble"},n.img!==void 0&&d.createElement("img",{src:n.img}),d.createElement("div",null,n.text))))},zg={getAccessibilityString:e=>Sc(e.data.map(t=>t.text)),kind:U.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,o)=>e.measureText(o.text).width+r+n.bubblePadding*2+n.bubbleMargin+(o.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>Vg(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(Ag,{drilldowns:t.data})},onPaste:()=>{}},Va={};function $g(e,t,n,r){const o=Math.ceil(window.devicePixelRatio),i=5,l=n-i*2,s=4,a=n*o,u=r+i,c=r*3,f=(c+i*2)*o,p=`${e},${t},${o},${n}`;if(Va[p]!==void 0)return{el:Va[p],height:a,width:f,middleWidth:s*o,sideWidth:u*o,padding:i*o,dpr:o};const g=document.createElement("canvas"),h=g.getContext("2d");return h===null?null:(g.width=f,g.height=a,h.scale(o,o),Va[p]=g,h.beginPath(),An(h,i,i,c,l,r),h.shadowColor="rgba(24, 25, 34, 0.4)",h.shadowBlur=1,h.fillStyle=e,h.fill(),h.shadowColor="rgba(24, 25, 34, 0.3)",h.shadowOffsetY=1,h.shadowBlur=5,h.fillStyle=e,h.fill(),h.shadowOffsetY=0,h.shadowBlur=0,h.shadowBlur=0,h.beginPath(),An(h,i+.5,i+.5,c,l,r),h.strokeStyle=t,h.lineWidth=1,h.stroke(),{el:g,height:a,width:f,sideWidth:u*o,middleWidth:r*o,padding:i*o,dpr:o})}function Vg(e,t){const{rect:n,theme:r,ctx:o,imageLoader:i,col:l,row:s}=e,{x:a,width:u}=n,c=r.baseFontFull,f=vl(o,c),p=Math.min(n.height,Math.max(16,Math.ceil(f*r.lineHeight)*2)),g=Math.floor(n.y+(n.height-p)/2),h=p-10,m=r.bubblePadding,w=r.bubbleMargin;let b=a+r.cellHorizontalPadding;const y=r.roundingRadius??6,C=$g(r.bgCell,r.drilldownBorder,p,y),D=[];for(const R of t){if(b>a+u)break;const x=fn(R.text,o,c).width;let k=0;R.img!==void 0&&i.loadOrGetImage(R.img,l,s)!==void 0&&(k=h-8+4);const S=x+k+m*2;D.push({x:b,width:S}),b+=S+w}if(C!==null){const{el:R,height:I,middleWidth:x,sideWidth:k,width:S,dpr:L,padding:$}=C,H=k/L,F=$/L;for(const T of D){const J=Math.floor(T.x),X=Math.floor(T.width),te=X-(H-F)*2;o.imageSmoothingEnabled=!1,o.drawImage(R,0,0,k,I,J-F,g,H,p),te>0&&o.drawImage(R,k,0,x,I,J+(H-F),g,te,p),o.drawImage(R,S-k,0,k,I,J+X-(H-F),g,H,p),o.imageSmoothingEnabled=!0}}o.beginPath();for(const[R,I]of D.entries()){const x=t[R];let k=I.x+m;if(x.img!==void 0){const S=i.loadOrGetImage(x.img,l,s);if(S!==void 0){const L=h-8;let $=0,H=0,F=S.width,T=S.height;F>T?($+=(F-T)/2,F=T):T>F&&(H+=(T-F)/2,T=F),o.beginPath(),An(o,k,g+p/2-L/2,L,L,r.roundingRadius??3),o.save(),o.clip(),o.drawImage(S,$,H,F,T,k,g+p/2-L/2,L,L),o.restore(),k+=L+4}}o.beginPath(),o.fillStyle=r.textBubble,o.fillText(x.text,k,g+p/2+Yt(o,r))}}const Bg={getAccessibilityString:e=>e.data.join(", "),kind:U.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>Ng(e,e.cell.displayData??e.cell.data,e.cell.rounding??e.theme.roundingRadius??4,e.cell.contentAlign),measure:(e,t)=>t.data.length*50,onDelete:e=>({...e,data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:r}=e,o=r??nf;return d.createElement(o,{urls:t.data,canWrite:t.readonly!==!0,onCancel:n,onChange:i=>{n({...t,data:[i]})}})},onPaste:(e,t)=>{e=e.trim();const r=e.split(",").map(o=>{try{return new URL(o),o}catch{return}}).filter(o=>o!==void 0);if(!(r.length===t.data.length&&r.every((o,i)=>o===t.data[i])))return{...t,data:r}}},Ba=4;function Ng(e,t,n,r){const{rect:o,col:i,row:l,theme:s,ctx:a,imageLoader:u}=e,{x:c,y:f,height:p,width:g}=o,h=p-s.cellVerticalPadding*2,m=[];let w=0;for(let y=0;y<t.length;y++){const C=t[y];if(C.length===0)continue;const D=u.loadOrGetImage(C,i,l);if(D!==void 0){m[y]=D;const R=D.width*(h/D.height);w+=R+Ba}}if(w===0)return;w-=Ba;let b=c+s.cellHorizontalPadding;r==="right"?b=Math.floor(c+g-s.cellHorizontalPadding-w):r==="center"&&(b=Math.floor(c+g/2-w/2));for(const y of m){if(y===void 0)continue;const C=y.width*(h/y.height);n>0&&(a.beginPath(),An(a,b,f+s.cellVerticalPadding,C,h,n),a.save(),a.clip()),a.drawImage(y,b,f+s.cellVerticalPadding,C,h),n>0&&a.restore(),b+=C+Ba}}function Wg(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const _g={getAccessibilityString:()=>"",kind:U.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{const{cell:t,col:n,row:r,ctx:o,rect:i,theme:l}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let s=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(s+=Math.round(Wg(n,r)*t.skeletonWidthVariability));const a=l.cellHorizontalPadding;s+a*2>=i.width&&(s=i.width-a*2-1);const u=t.skeletonHeight??Math.min(18,i.height-2*l.cellVerticalPadding);An(o,i.x+a,i.y+(i.height-u)/2,s,u,l.roundingRadius??3),o.fillStyle=zr(l.textDark,.1),o.fill()},onPaste:()=>{}},Gg=()=>e=>e.targetWidth,Ds=It("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[Gg(),"px"]}}),Xg=e=>{const{value:t,onChange:n,forceEditMode:r,createNode:o,targetRect:i,onFinish:l,validatedSelection:s}=e,a=t.data,u=t.readonly===!0,[c,f]=d.useState(a===""||r),p=d.useCallback(()=>{f(h=>!h)},[]),g=a?"gdg-ml-6":"";return c?d.createElement(Ds,{targetWidth:i.width-20},d.createElement($r,{autoFocus:!0,highlight:!1,validatedSelection:s,value:a,onKeyDown:h=>{h.key==="Enter"&&h.stopPropagation()},onChange:n}),d.createElement("div",{className:`gdg-edit-icon gdg-checkmark-hover ${g}`,onClick:()=>l(t)},d.createElement(jd,null))):d.createElement(Ds,{targetWidth:i.width},d.createElement(of,{contents:a,createNode:o}),!u&&d.createElement(d.Fragment,null,d.createElement("div",{className:"spacer"}),d.createElement("div",{className:`gdg-edit-icon gdg-edit-hover ${g}`,onClick:p},d.createElement(ml,null))),d.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},Ug={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:U.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:Ko,measure:(e,t,n)=>{const r=t.data.split(`
`)[0];return e.measureText(r).width+2*n.cellHorizontalPadding},draw:e=>Un(e,e.cell.data,e.cell.contentAlign),onDelete:e=>({...e,data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:r,onFinishedEditing:o,markdownDivCreateNode:i,forceEditMode:l,validatedSelection:s}=e;return d.createElement(Xg,{onFinish:o,targetRect:r,value:n,validatedSelection:s,onChange:a=>t({...n,data:a.target.value}),forceEditMode:l,createNode:i})},onPaste:(e,t)=>e===t.data?void 0:{...t,data:e}},Yg={getAccessibilityString:e=>e.row.toString(),kind:Mn.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:Kg,measure:()=>44,draw:e=>qg(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle,e.cell.checkboxStyle),onClick:e=>{const{bounds:t,cell:n,posX:r,posY:o}=e,{width:i,height:l}=t,s=n.drawHandle?7+(i-7)/2:i/2,a=l/2;if(Math.abs(r-s)<=10&&Math.abs(o-a)<=10)return{...n,checked:!n.checked}},onPaste:()=>{}};function Kg(e,t){const{ctx:n,theme:r}=e,o=r.markerFontFull,i=t??{};return(i==null?void 0:i.font)!==o&&(n.font=o,i.font=o),i.deprep=jg,n.textAlign="center",i}function jg(e){const{ctx:t}=e;t.textAlign="start"}function qg(e,t,n,r,o,i){const{ctx:l,rect:s,hoverAmount:a,theme:u}=e,{x:c,y:f,width:p,height:g}=s,h=n?1:r==="checkbox-visible"?.6+.4*a:a;if(r!=="number"&&h>0){l.globalAlpha=h;const m=7*(n?a:1);if(Cl(l,u,n,o?c+m:c,f,o?p-m:p,g,!0,void 0,void 0,u.checkboxMaxSize,"center",i),o){l.globalAlpha=a,l.beginPath();for(const w of[3,6])for(const b of[-5,-1,3])l.rect(c+w,f+g/2+b,2,2);l.fillStyle=u.textLight,l.fill(),l.beginPath()}l.globalAlpha=1}if(r==="number"||r==="both"&&!n){const m=t.toString(),w=u.markerFontFull,b=c+p/2;r==="both"&&a!==0&&(l.globalAlpha=1-a),l.fillStyle=u.textLight,l.font=w,l.fillText(m,b,f+g/2+Yt(l,w)),a!==0&&(l.globalAlpha=1)}}const Zg={getAccessibilityString:()=>"",kind:Mn.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>Jg(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function Jg(e,t,n){const{ctx:r,rect:o,hoverAmount:i,theme:l,spriteManager:s}=e,{x:a,y:u,width:c,height:f}=o;r.beginPath(),r.globalAlpha=i,r.rect(a+1,u+1,c,f-2),r.fillStyle=l.bgHeaderHovered,r.fill(),r.globalAlpha=1,r.beginPath();const p=t!=="";let g=0;if(n!==void 0){const m=f-8,w=a+8/2,b=u+8/2;s.drawSprite(n,"normal",r,w,b,m,l,p?1:i),g=m}else{g=24;const h=12,m=p?h:i*h,w=p?0:(1-i)*h*.5,b=l.cellHorizontalPadding+4;m>0&&(r.moveTo(a+b+w,u+f/2),r.lineTo(a+b+w+m,u+f/2),r.moveTo(a+b+w+m*.5,u+f/2-m*.5),r.lineTo(a+b+w+m*.5,u+f/2+m*.5),r.lineWidth=2,r.strokeStyle=l.bgIconHeader,r.lineCap="round",r.stroke())}r.fillStyle=l.textMedium,r.fillText(t,g+a+l.cellHorizontalPadding+.5,u+f/2+Yt(r,l)),r.beginPath()}function Zc(e,t,n,r,o,i,l){e.textBaseline="alphabetic";const s=Qg(e,o,r,t,(n==null?void 0:n.fullSize)??!1);e.beginPath(),An(e,s.x,s.y,s.width,s.height,t.roundingRadius??4),e.globalAlpha=i,e.fillStyle=(n==null?void 0:n.bgColor)??zr(t.textDark,.1),e.fill(),e.globalAlpha=1,e.fillStyle=t.textDark,e.textBaseline="middle",l==null||l("text")}function Qg(e,t,n,r,o){const i=r.cellHorizontalPadding,l=r.cellVerticalPadding;if(o)return{x:t.x+i/2,y:t.y+l/2+1,width:t.width-i,height:t.height-l-1};const s=fn(n,e,r.baseFontFull,"alphabetic"),a=t.height-l,u=Math.min(a,s.actualBoundingBoxAscent*2.5);return{x:t.x+i/2,y:t.y+(t.height-u)/2+1,width:s.width+i*3,height:u-1}}const e0=d.lazy(async()=>await fl(()=>import("./number-overlay-editor-UuX8qut-.js"),__vite__mapDeps([10,1,2,4,11]),import.meta.url)),t0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:U.Number,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,useLabel:!0,drawPrep:Ko,draw:e=>{const{hoverAmount:t,cell:n,ctx:r,theme:o,rect:i,overrideCursor:l}=e,{hoverEffect:s,displayData:a,hoverEffectTheme:u}=n;s===!0&&t>0&&Zc(r,o,u,a,i,t,l),Un(e,e.cell.displayData,e.cell.contentAlign)},measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:o}=e;return d.createElement(d.Suspense,{fallback:null},d.createElement(e0,{highlight:t,disabled:r.readonly===!0,value:r.data,fixedDecimals:r.fixedDecimals,allowNegative:r.allowNegative,thousandSeparator:r.thousandSeparator,decimalSeparator:r.decimalSeparator,validatedSelection:o,onChange:i=>n({...r,data:Number.isNaN(i.floatValue??0)?0:i.floatValue})}))},onPaste:(e,t,n)=>{const r=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(r)||t.data===r))return{...t,data:r,displayData:n.formattedString??t.displayData}}},n0={getAccessibilityString:()=>"",measure:()=>108,kind:U.Protected,needsHover:!1,needsHoverPosition:!1,draw:r0,onPaste:()=>{}};function r0(e){const{ctx:t,theme:n,rect:r}=e,{x:o,y:i,height:l}=r;t.beginPath();const s=2.5;let a=o+n.cellHorizontalPadding+s;const u=i+l/2,c=Math.cos(ss(30))*s,f=Math.sin(ss(30))*s;for(let p=0;p<12;p++)t.moveTo(a,u-s),t.lineTo(a,u+s),t.moveTo(a+c,u-f),t.lineTo(a-c,u+f),t.moveTo(a-c,u-f),t.lineTo(a+c,u+f),a+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const o0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:U.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>Ko(e,t,e.theme.textLight),draw:e=>Un(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:o}=e;return Mt.createElement($r,{highlight:t,autoFocus:r.readonly!==!0,disabled:r.readonly!==!1,value:r.data,validatedSelection:o,onChange:i=>n({...r,data:i.target.value})})},onPaste:()=>{}},i0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:U.Text,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!1,drawPrep:Ko,useLabel:!0,draw:e=>{const{cell:t,hoverAmount:n,hyperWrapping:r,ctx:o,rect:i,theme:l,overrideCursor:s}=e,{displayData:a,contentAlign:u,hoverEffect:c,allowWrapping:f,hoverEffectTheme:p}=t;c===!0&&n>0&&Zc(o,l,p,a,i,n,s),Un(e,a,u,f,r)},measure:(e,t,n)=>{const r=t.displayData.split(`
`,t.allowWrapping===!0?void 0:1);let o=0;for(const i of r)o=Math.max(o,e.measureText(i).width);return o+2*n.cellHorizontalPadding},onDelete:e=>({...e,data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:r,value:o,validatedSelection:i}=t;return d.createElement($r,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:o.readonly!==!0,disabled:o.readonly===!0,altNewline:!0,value:o.data,validatedSelection:i,onChange:l=>r({...o,data:l.target.value})})}}),onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},a0=It("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),l0=e=>{const{uri:t,onChange:n,forceEditMode:r,readonly:o,validatedSelection:i,preview:l}=e,[s,a]=d.useState(!o&&(t===""||r)),u=d.useCallback(()=>{a(!0)},[]);return s?d.createElement($r,{validatedSelection:i,highlight:!0,autoFocus:!0,value:t,onChange:n}):d.createElement(a0,null,d.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},l),!o&&d.createElement("div",{className:"gdg-edit-icon",onClick:u},d.createElement(ml,null)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function Jc(e,t,n,r){let o=n.cellHorizontalPadding;const i=t.height/2-e.actualBoundingBoxAscent/2,l=e.width,s=e.actualBoundingBoxAscent;return r==="right"?o=t.width-l-n.cellHorizontalPadding:r==="center"&&(o=t.width/2-l/2),{x:o,y:i,width:l,height:s}}function Ps(e){const{cell:t,bounds:n,posX:r,posY:o,theme:i}=e,l=t.displayData??t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return!1;const s=Ic(l,i.baseFontFull);if(s===void 0)return!1;const a=Jc(s,n,i,t.contentAlign);return Lr({x:a.x-4,y:a.y-4,width:a.width+8,height:a.height+8},r,o)}const s0={getAccessibilityString:e=>{var t;return((t=e.data)==null?void 0:t.toString())??""},kind:U.Uri,needsHover:e=>e.hoverEffect===!0,needsHoverPosition:!0,useLabel:!0,drawPrep:Ko,draw:e=>{const{cell:t,theme:n,overrideCursor:r,hoverX:o,hoverY:i,rect:l,ctx:s}=e,a=t.displayData??t.data,u=t.hoverEffect===!0;if(r!==void 0&&u&&o!==void 0&&i!==void 0){const c=fn(a,s,n.baseFontFull),f=Jc(c,l,n,t.contentAlign),{x:p,y:g,width:h,height:m}=f;if(o>=p-4&&o<=p-4+h+8&&i>=g-4&&i<=g-4+m+8){const w=Yt(s,n.baseFontFull);r("pointer");const b=5,y=g-w;s.beginPath(),s.moveTo(l.x+p,Math.floor(l.y+y+m+b)+.5),s.lineTo(l.x+p+h,Math.floor(l.y+y+m+b)+.5),s.strokeStyle=n.linkColor,s.stroke(),s.save(),s.fillStyle=e.cellFillColor,Un({...e,rect:{...l,x:l.x-1}},a,t.contentAlign),Un({...e,rect:{...l,x:l.x-2}},a,t.contentAlign),Un({...e,rect:{...l,x:l.x+1}},a,t.contentAlign),Un({...e,rect:{...l,x:l.x+2}},a,t.contentAlign),s.restore()}}s.fillStyle=u?n.linkColor:n.textDark,Un(e,a,t.contentAlign)},onSelect:e=>{Ps(e)&&e.preventDefault()},onClick:e=>{var r;const{cell:t}=e;Ps(e)&&((r=t.onClickUri)==null||r.call(t,e))},measure:(e,t,n)=>e.measureText(t.displayData??t.data).width+n.cellHorizontalPadding*2,onDelete:e=>({...e,data:""}),provideEditor:e=>t=>{const{onChange:n,value:r,forceEditMode:o,validatedSelection:i}=t;return d.createElement(l0,{forceEditMode:r.readonly!==!0&&(o||e.hoverEffect===!0&&e.onClickUri!==void 0),uri:r.data,preview:r.displayData??r.data,validatedSelection:i,readonly:r.readonly===!0,onChange:l=>n({...r,data:l.target.value})})},onPaste:(e,t,n)=>e===t.data?void 0:{...t,data:e,displayData:n.formattedString??t.displayData}},c0=[Yg,Zg,Dg,Fg,zg,Bg,_g,Ug,t0,n0,o0,i0,s0],Na=[];class u0 extends Pc{constructor(){super(...arguments);_e(this,"imageLoaded",()=>{});_e(this,"loadedLocations",[]);_e(this,"cache",{});_e(this,"sendLoaded",$d(()=>{this.imageLoaded(new Bo(this.loadedLocations)),this.loadedLocations=[]},20));_e(this,"clearOutOfWindow",()=>{const n=Object.keys(this.cache);for(const r of n){const o=this.cache[r];let i=!1;for(let l=0;l<o.cells.length;l++){const s=o.cells[l];if(this.isInWindow(s)){i=!0;break}}i?o.cells=o.cells.filter(this.isInWindow):(o.cancel(),delete this.cache[r])}})}setCallback(n){this.imageLoaded=n}loadImage(n,r,o,i){let l=!1;const s=Na.pop()??new Image;let a=!1;const u={img:void 0,cells:[Ln(r,o)],url:n,cancel:()=>{a||(a=!0,Na.length<12?Na.unshift(s):l||(s.src=""))}},c=new Promise(f=>s.addEventListener("load",()=>f(null)));requestAnimationFrame(async()=>{try{s.src=n,await c,await s.decode();const f=this.cache[i];if(f!==void 0&&!a){f.img=s;for(const p of f.cells)this.loadedLocations.push(yl(p));l=!0,this.sendLoaded()}}catch{u.cancel()}}),this.cache[i]=u}loadOrGetImage(n,r,o){const i=n,l=this.cache[i];if(l!==void 0){const s=Ln(r,o);return l.cells.includes(s)||l.cells.push(s),l.img}else this.loadImage(n,r,o,i)}}const d0=(e,t)=>{const n=d.useMemo(()=>({...oh,...e.headerIcons}),[e.headerIcons]),r=d.useMemo(()=>e.renderers??c0,[e.renderers]),o=d.useMemo(()=>e.imageWindowLoader??new u0,[e.imageWindowLoader]);return d.createElement(Rg,{...e,renderers:r,headerIcons:n,ref:t,imageWindowLoader:o})},Qc=d.forwardRef(d0),f0=[[50,5],[61.23,39.55],[97.55,39.55],[68.16,60.9],[79.39,95.45],[50,74.1],[20.61,95.45],[31.84,60.9],[2.45,39.55],[38.77,39.55]];function h0(e,t,n){let r=!1;for(const o of f0){const i=(o[0]-50)*(n/100)+t[0],l=(o[1]-50)*(n/100)+t[1];r?e.lineTo(i,l):(e.moveTo(i,l),r=!0)}e.closePath()}const g0=()=>d.createElement("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M47.1468 13.7811C48.0449 11.0172 51.9551 11.0172 52.8532 13.7812L60.5522 37.4762C60.9538 38.7123 62.1056 39.5491 63.4053 39.5491H88.3198C91.226 39.5491 92.4343 43.268 90.0831 44.9762L69.9269 59.6205C68.8755 60.3845 68.4355 61.7386 68.8371 62.9746L76.5361 86.6697C77.4342 89.4336 74.2707 91.732 71.9196 90.0238L51.7634 75.3794C50.7119 74.6155 49.2881 74.6155 48.2366 75.3795L28.0804 90.0238C25.7293 91.732 22.5659 89.4336 23.4639 86.6697L31.1629 62.9746C31.5645 61.7386 31.1245 60.3845 30.0731 59.6205L9.91686 44.9762C7.56572 43.268 8.77405 39.5491 11.6802 39.5491H36.5947C37.8944 39.5491 39.0462 38.7123 39.4478 37.4762L47.1468 13.7811Z",fill:"currentColor"})),m0=It("div")({name:"EditorWrap",class:"e8nv6xj",propsAsIs:!1}),p0={kind:U.Custom,isMatch:e=>e.data.kind==="star-cell",needsHover:!0,draw:(e,t)=>{const{ctx:n,theme:r,rect:o,hoverAmount:i}=e,{rating:l}=t.data,s=r.cellHorizontalPadding;let a=o.x+s;const u=Math.min(5,Math.ceil(l));a+=8,n.beginPath();for(let c=0;c<u;c++)h0(n,[a,o.y+o.height/2],16),a+=18;return n.fillStyle=r.textDark,n.globalAlpha=.6+.4*i,n.fill(),n.globalAlpha=1,!0},provideEditor:()=>e=>d.createElement(m0,null,[0,1,2,3,4].map(t=>d.createElement("div",{key:t,className:e.value.data.rating<t+1?"gdg-inactive":"gdg-active",onClick:()=>{e.onChange({...e.value,data:{...e.value.data,rating:t+1}})}},d.createElement(g0,null)))),onPaste:(e,t)=>{const n=Number.parseInt(e);return{...t,rating:Number.isNaN(n)?0:n}}},v0={kind:U.Custom,isMatch:e=>e.data.kind==="sparkline-cell",needsHover:!0,needsHoverPosition:!0,draw:(e,t)=>{const{ctx:n,theme:r,rect:o,hoverAmount:i,hoverX:l}=e;let{values:s,yAxis:a,color:u,graphKind:c="area",displayValues:f,hideAxis:p}=t.data;const[g,h]=a;if(s.length===0)return!0;s=s.map(I=>Math.min(1,Math.max(0,(I-g)/(h-g))));const m=r.cellHorizontalPadding,w=m+o.x,b=o.y+3,y=o.height-6,C=o.width-m*2,D=h-g,R=h<=0?b:g>=0?b+y:b+y*(h/D);if(!p&&g<=0&&h>=0&&(n.beginPath(),n.moveTo(w,R),n.lineTo(w+C,R),n.globalAlpha=.4,n.lineWidth=1,n.strokeStyle=r.textLight,n.stroke(),n.globalAlpha=1),c==="bar"){n.beginPath();const I=2,x=(s.length-1)*I,k=(C-x)/s.length;let S=w;for(const L of s){const $=b+y-L*y;n.moveTo(S,R),n.lineTo(S+k,R),n.lineTo(S+k,$),n.lineTo(S,$),S+=k+I}n.fillStyle=t.data.color??r.accentColor,n.fill()}else{s.length===1&&(s=[s[0],s[0]],f&&(f=[f[0],f[0]])),n.beginPath();const I=(o.width-16)/(s.length-1),x=s.map((S,L)=>({x:w+I*L,y:b+y-S*y}));n.moveTo(x[0].x,x[0].y);let k=0;if(x.length>2)for(k=1;k<x.length-2;k++){const S=(x[k].x+x[k+1].x)/2,L=(x[k].y+x[k+1].y)/2;n.quadraticCurveTo(x[k].x,x[k].y,S,L)}if(n.quadraticCurveTo(x[k].x,x[k].y,x[k+1].x,x[k+1].y),n.strokeStyle=u??r.accentColor,n.lineWidth=1+i*.5,n.stroke(),n.lineTo(o.x+o.width-m,R),n.lineTo(o.x+m,R),n.closePath(),c==="area"){n.globalAlpha=.2+.2*i;const S=n.createLinearGradient(0,b,0,b+y*1.4);S.addColorStop(0,u??r.accentColor);const[L,$,H]=Ar(u??r.accentColor);S.addColorStop(1,`rgba(${L}, ${$}, ${H}, 0)`),n.fillStyle=S,n.fill(),n.globalAlpha=1}if(l!==void 0&&(c==="line"||c==="area")&&f!==void 0){n.beginPath();const S=Math.min(s.length-1,Math.max(0,Math.round((l-m)/I)));n.moveTo(w+S*I,o.y+1),n.lineTo(w+S*I,o.y+o.height),n.lineWidth=1,n.strokeStyle=r.textLight,n.stroke(),n.save(),n.font=`8px ${r.fontFamily}`,n.fillStyle=r.textMedium,n.textBaseline="top",n.fillText(f[S],w,o.y+r.cellVerticalPadding),n.restore()}}return!0},provideEditor:()=>{},onPaste:(e,t)=>t};function Go(e,t,n,r,o,i){if(!(r<=0||o<=0)){if(typeof i=="number"&&i<=0){e.rect(t,n,r,o);return}typeof i=="number"&&(i={tl:i,tr:i,br:i,bl:i}),i={tl:Math.min(i.tl,o/2,r/2),tr:Math.min(i.tr,o/2,r/2),bl:Math.min(i.bl,o/2,r/2),br:Math.min(i.br,o/2,r/2)},i.tl=Math.max(0,i.tl),i.tr=Math.max(0,i.tr),i.br=Math.max(0,i.br),i.bl=Math.max(0,i.bl),e.moveTo(t+i.tl,n),e.arcTo(t+r,n,t+r,n+i.tr,i.tr),e.arcTo(t+r,n+o,t+r-i.br,n+o,i.br),e.arcTo(t,n+o,t,n+o-i.bl,i.bl),e.arcTo(t,n,t+i.tl,n,i.tl)}}const b0=()=>e=>e.tagHeight/2,w0=()=>e=>e.tagHeight,y0=()=>e=>e.innerPad,C0=It("div")({name:"EditorWrap",class:"e14vzbfa",propsAsIs:!1,vars:{"e14vzbfa-0":[b0(),"px"],"e14vzbfa-1":[w0(),"px"],"e14vzbfa-2":[y0(),"px"]}}),S0={kind:U.Custom,isMatch:e=>e.data.kind==="tags-cell",draw:(e,t)=>{var h;const{ctx:n,theme:r,rect:o}=e,{possibleTags:i,tags:l}=t.data,s={x:o.x+r.cellHorizontalPadding,y:o.y+r.cellVerticalPadding,width:o.width-2*r.cellHorizontalPadding,height:o.height-2*r.cellVerticalPadding},a=r.bubbleHeight,u=r.bubblePadding,c=Math.max(1,Math.floor(s.height/(a+u)));let f=s.x,p=1,g=s.y+(s.height-c*a-(c-1)*u)/2;for(const m of l){const w=((h=i.find(D=>D.tag===m))==null?void 0:h.color)??r.bgBubble;n.font=`12px ${r.fontFamily}`;const y=fn(m,n).width+u*2,C=a/2;if(f!==s.x&&f+y>s.x+s.width&&p<c&&(p++,g+=a+u,f=s.x),n.fillStyle=w,n.beginPath(),Go(n,f,g,y,a,r.roundingRadius??a/2),n.fill(),n.fillStyle=r.textDark,n.fillText(m,f+u,g+C+Yt(n,`12px ${r.fontFamily}`)),f+=y+8,f>s.x+s.width&&p>=c)break}return!0},provideEditor:()=>e=>{const{onChange:t,value:n,theme:r}=e,{readonly:o=!1}=n,{possibleTags:i,tags:l}=n.data;return d.createElement(C0,{tagHeight:r.bubbleHeight,innerPad:r.bubblePadding,className:o?"gdg-readonly":""},i.map(s=>{const a=l.indexOf(s.tag)!==-1;return d.createElement("label",{key:s.tag},!o&&d.createElement("input",{className:"gdg-input",type:"checkbox",checked:a,onChange:()=>{const u=a?l.filter(c=>c!==s.tag):[...l,s.tag];t({...e.value,data:{...n.data,tags:u}})}}),d.createElement("div",{className:"gdg-pill "+(a?"gdg-selected":"gdg-unselected"),style:{backgroundColor:a?s.color:void 0}},s.tag))}))},onPaste:(e,t)=>({...t,tags:t.possibleTags.map(n=>n.tag).filter(n=>e.split(",").map(r=>r.trim()).includes(n))})},x0={kind:U.Custom,isMatch:e=>e.data.kind==="user-profile-cell",draw:(e,t)=>{const{ctx:n,rect:r,theme:o,imageLoader:i,col:l,row:s}=e,{image:a,name:u,initial:c,tint:f}=t.data,p=o.cellHorizontalPadding,g=Math.min(12,r.height/2-o.cellVerticalPadding),h=r.x+p,m=i.loadOrGetImage(a,l,s);n.save(),n.beginPath(),n.arc(h+g,r.y+r.height/2,g,0,Math.PI*2),n.globalAlpha=.2,n.fillStyle=f,n.fill(),n.globalAlpha=1,n.font=`600 16px ${o.fontFamily}`;const w=fn(c[0],n);return n.fillText(c[0],h+g-w.width/2,r.y+r.height/2+Yt(n,`600 16px ${o.fontFamily}`)),m!==void 0&&(n.save(),n.beginPath(),n.arc(h+g,r.y+r.height/2,g,0,Math.PI*2),n.clip(),n.drawImage(m,h,r.y+r.height/2-g,g*2,g*2),n.restore()),u!==void 0&&(n.font=o.baseFontFull,n.fillStyle=o.textDark,n.fillText(u,h+g*2+p,r.y+r.height/2+Yt(n,o))),n.restore(),!0},provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r}=e;return d.createElement($r,{highlight:t,autoFocus:!0,value:r.data.name??"",disabled:r.readonly??!1,onChange:o=>n({...r,data:{...r.data,name:o.target.value}})})},onPaste:(e,t)=>({...t,name:e})};function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Os(Object(n),!0).forEach(function(r){Ao(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k0(e){if(Array.isArray(e))return e}function M0(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,l,s=[],a=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{if(!a&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return s}}function E0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lr(e,t){return k0(e)||M0(e,t)||Vd(e,t)||E0()}var I0=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function eu(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,o=r===void 0?!1:r,i=e.defaultValue,l=i===void 0?null:i,s=e.inputValue,a=e.menuIsOpen,u=e.onChange,c=e.onInputChange,f=e.onMenuClose,p=e.onMenuOpen,g=e.value,h=Kn(e,I0),m=d.useState(s!==void 0?s:n),w=lr(m,2),b=w[0],y=w[1],C=d.useState(a!==void 0?a:o),D=lr(C,2),R=D[0],I=D[1],x=d.useState(g!==void 0?g:l),k=lr(x,2),S=k[0],L=k[1],$=d.useCallback(function(he,ue){typeof u=="function"&&u(he,ue),L(he)},[u]),H=d.useCallback(function(he,ue){var Q;typeof c=="function"&&(Q=c(he,ue)),y(Q!==void 0?Q:he)},[c]),F=d.useCallback(function(){typeof p=="function"&&p(),I(!0)},[p]),T=d.useCallback(function(){typeof f=="function"&&f(),I(!1)},[f]),J=s!==void 0?s:b,X=a!==void 0?a:R,te=g!==void 0?g:S;return Se(Se({},h),{},{inputValue:J,menuIsOpen:X,onChange:$,onInputChange:H,onMenuClose:T,onMenuOpen:F,value:te})}function R0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bd(r.key),r)}}function D0(e,t,n){return t&&Ts(e.prototype,t),n&&Ts(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function al(e,t){return al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},al(e,t)}function P0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&al(e,t)}function $i(e){return $i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$i(e)}function tu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tu=function(){return!!e})()}function O0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T0(e,t){if(t&&(mc(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O0(e)}function F0(e){var t=tu();return function(){var n,r=$i(e);if(t){var o=$i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T0(this,n)}}function H0(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function L0(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var A0=function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(L0(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=H0(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e}(),en="-ms-",Vi="-moz-",st="-webkit-",nu="comm",kl="rule",Ml="decl",z0="@import",ru="@keyframes",$0="@layer",V0=Math.abs,Ki=String.fromCharCode,B0=Object.assign;function N0(e,t){return qt(e,0)^45?(((t<<2^qt(e,0))<<2^qt(e,1))<<2^qt(e,2))<<2^qt(e,3):0}function ou(e){return e.trim()}function W0(e,t){return(e=t.exec(e))?e[0]:e}function ct(e,t,n){return e.replace(t,n)}function ll(e,t){return e.indexOf(t)}function qt(e,t){return e.charCodeAt(t)|0}function Xo(e,t,n){return e.slice(t,n)}function _n(e){return e.length}function El(e){return e.length}function Si(e,t){return t.push(e),e}function _0(e,t){return e.map(t).join("")}var ji=1,wo=1,iu=0,hn=0,_t=0,yo="";function qi(e,t,n,r,o,i,l){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:ji,column:wo,length:l,return:""}}function Ho(e,t){return B0(qi("",null,null,"",null,null,0),e,{length:-e.length},t)}function G0(){return _t}function X0(){return _t=hn>0?qt(yo,--hn):0,wo--,_t===10&&(wo=1,ji--),_t}function bn(){return _t=hn<iu?qt(yo,hn++):0,wo++,_t===10&&(wo=1,ji++),_t}function Yn(){return qt(yo,hn)}function Ii(){return hn}function jo(e,t){return Xo(yo,e,t)}function Uo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function au(e){return ji=wo=1,iu=_n(yo=e),hn=0,[]}function lu(e){return yo="",e}function Ri(e){return ou(jo(hn-1,sl(e===91?e+2:e===40?e+1:e)))}function U0(e){for(;(_t=Yn())&&_t<33;)bn();return Uo(e)>2||Uo(_t)>3?"":" "}function Y0(e,t){for(;--t&&bn()&&!(_t<48||_t>102||_t>57&&_t<65||_t>70&&_t<97););return jo(e,Ii()+(t<6&&Yn()==32&&bn()==32))}function sl(e){for(;bn();)switch(_t){case e:return hn;case 34:case 39:e!==34&&e!==39&&sl(_t);break;case 40:e===41&&sl(e);break;case 92:bn();break}return hn}function K0(e,t){for(;bn()&&e+_t!==57;)if(e+_t===84&&Yn()===47)break;return"/*"+jo(t,hn-1)+"*"+Ki(e===47?e:bn())}function j0(e){for(;!Uo(Yn());)bn();return jo(e,hn)}function q0(e){return lu(Di("",null,null,null,[""],e=au(e),0,[0],e))}function Di(e,t,n,r,o,i,l,s,a){for(var u=0,c=0,f=l,p=0,g=0,h=0,m=1,w=1,b=1,y=0,C="",D=o,R=i,I=r,x=C;w;)switch(h=y,y=bn()){case 40:if(h!=108&&qt(x,f-1)==58){ll(x+=ct(Ri(y),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:x+=Ri(y);break;case 9:case 10:case 13:case 32:x+=U0(h);break;case 92:x+=Y0(Ii()-1,7);continue;case 47:switch(Yn()){case 42:case 47:Si(Z0(K0(bn(),Ii()),t,n),a);break;default:x+="/"}break;case 123*m:s[u++]=_n(x)*b;case 125*m:case 59:case 0:switch(y){case 0:case 125:w=0;case 59+c:b==-1&&(x=ct(x,/\f/g,"")),g>0&&_n(x)-f&&Si(g>32?Hs(x+";",r,n,f-1):Hs(ct(x," ","")+";",r,n,f-2),a);break;case 59:x+=";";default:if(Si(I=Fs(x,t,n,u,c,o,s,C,D=[],R=[],f),i),y===123)if(c===0)Di(x,t,I,I,D,i,f,s,R);else switch(p===99&&qt(x,3)===110?100:p){case 100:case 108:case 109:case 115:Di(e,I,I,r&&Si(Fs(e,I,I,0,0,o,s,C,o,D=[],f),R),o,R,f,s,r?D:R);break;default:Di(x,I,I,I,[""],R,0,s,R)}}u=c=g=0,m=b=1,C=x="",f=l;break;case 58:f=1+_n(x),g=h;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&X0()==125)continue}switch(x+=Ki(y),y*m){case 38:b=c>0?1:(x+="\f",-1);break;case 44:s[u++]=(_n(x)-1)*b,b=1;break;case 64:Yn()===45&&(x+=Ri(bn())),p=Yn(),c=f=_n(C=x+=j0(Ii())),y++;break;case 45:h===45&&_n(x)==2&&(m=0)}}return i}function Fs(e,t,n,r,o,i,l,s,a,u,c){for(var f=o-1,p=o===0?i:[""],g=El(p),h=0,m=0,w=0;h<r;++h)for(var b=0,y=Xo(e,f+1,f=V0(m=l[h])),C=e;b<g;++b)(C=ou(m>0?p[b]+" "+y:ct(y,/&\f/g,p[b])))&&(a[w++]=C);return qi(e,t,n,o===0?kl:s,a,u,c)}function Z0(e,t,n){return qi(e,t,n,nu,Ki(G0()),Xo(e,2,-2),0)}function Hs(e,t,n,r){return qi(e,t,n,Ml,Xo(e,0,r),Xo(e,r+1,-1),r)}function po(e,t){for(var n="",r=El(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function J0(e,t,n,r){switch(e.type){case $0:if(e.children.length)break;case z0:case Ml:return e.return=e.return||e.value;case nu:return"";case ru:return e.return=e.value+"{"+po(e.children,r)+"}";case kl:e.value=e.props.join(",")}return _n(n=po(e.children,r))?e.return=e.value+"{"+n+"}":""}function Q0(e){var t=El(e);return function(n,r,o,i){for(var l="",s=0;s<t;s++)l+=e[s](n,r,o,i)||"";return l}}function em(e){return function(t){t.root||(t=t.return)&&e(t)}}var tm=function(t,n,r){for(var o=0,i=0;o=i,i=Yn(),o===38&&i===12&&(n[r]=1),!Uo(i);)bn();return jo(t,hn)},nm=function(t,n){var r=-1,o=44;do switch(Uo(o)){case 0:o===38&&Yn()===12&&(n[r]=1),t[r]+=tm(hn-1,n,r);break;case 2:t[r]+=Ri(o);break;case 4:if(o===44){t[++r]=Yn()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Ki(o)}while(o=bn());return t},rm=function(t,n){return lu(nm(au(t),n))},Ls=new WeakMap,om=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Ls.get(r))&&!o){Ls.set(t,!0);for(var i=[],l=rm(n,i),s=r.props,a=0,u=0;a<l.length;a++)for(var c=0;c<s.length;c++,u++)t.props[u]=i[a]?l[a].replace(/&\f/g,s[c]):s[c]+" "+l[a]}}},im=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function su(e,t){switch(N0(e,t)){case 5103:return st+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return st+e+Vi+e+en+e+e;case 6828:case 4268:return st+e+en+e+e;case 6165:return st+e+en+"flex-"+e+e;case 5187:return st+e+ct(e,/(\w+).+(:[^]+)/,st+"box-$1$2"+en+"flex-$1$2")+e;case 5443:return st+e+en+"flex-item-"+ct(e,/flex-|-self/,"")+e;case 4675:return st+e+en+"flex-line-pack"+ct(e,/align-content|flex-|-self/,"")+e;case 5548:return st+e+en+ct(e,"shrink","negative")+e;case 5292:return st+e+en+ct(e,"basis","preferred-size")+e;case 6060:return st+"box-"+ct(e,"-grow","")+st+e+en+ct(e,"grow","positive")+e;case 4554:return st+ct(e,/([^-])(transform)/g,"$1"+st+"$2")+e;case 6187:return ct(ct(ct(e,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),e,"")+e;case 5495:case 3959:return ct(e,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return ct(ct(e,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+en+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+e+e;case 4095:case 3583:case 4068:case 2532:return ct(e,/(.+)-inline(.+)/,st+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_n(e)-1-t>6)switch(qt(e,t+1)){case 109:if(qt(e,t+4)!==45)break;case 102:return ct(e,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+Vi+(qt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ll(e,"stretch")?su(ct(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(qt(e,t+1)!==115)break;case 6444:switch(qt(e,_n(e)-3-(~ll(e,"!important")&&10))){case 107:return ct(e,":",":"+st)+e;case 101:return ct(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(qt(e,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+en+"$2box$3")+e}break;case 5936:switch(qt(e,t+11)){case 114:return st+e+en+ct(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return st+e+en+ct(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return st+e+en+ct(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return st+e+en+e+e}return e}var am=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case Ml:t.return=su(t.value,t.length);break;case ru:return po([Ho(t,{value:ct(t.value,"@","@"+st)})],o);case kl:if(t.length)return _0(t.props,function(i){switch(W0(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return po([Ho(t,{props:[ct(i,/:(read-\w+)/,":"+Vi+"$1")]})],o);case"::placeholder":return po([Ho(t,{props:[ct(i,/:(plac\w+)/,":"+st+"input-$1")]}),Ho(t,{props:[ct(i,/:(plac\w+)/,":"+Vi+"$1")]}),Ho(t,{props:[ct(i,/:(plac\w+)/,en+"input-$1")]})],o)}return""})}},lm=[am],sm=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var w=m.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var o=t.stylisPlugins||lm,i={},l,s=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var w=m.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)i[w[b]]=!0;s.push(m)});var a,u=[om,im];{var c,f=[J0,em(function(m){c.insert(m)})],p=Q0(u.concat(o,f)),g=function(w){return po(q0(w),p)};a=function(w,b,y,C){c=y,g(w?w+"{"+b.styles+"}":b.styles),C&&(h.inserted[b.name]=!0)}}var h={key:n,sheet:new A0({key:n,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:a};return h.sheet.hydrate(s),h},cu={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=typeof Symbol=="function"&&Symbol.for,Il=Kt?Symbol.for("react.element"):60103,Rl=Kt?Symbol.for("react.portal"):60106,Zi=Kt?Symbol.for("react.fragment"):60107,Ji=Kt?Symbol.for("react.strict_mode"):60108,Qi=Kt?Symbol.for("react.profiler"):60114,ea=Kt?Symbol.for("react.provider"):60109,ta=Kt?Symbol.for("react.context"):60110,Dl=Kt?Symbol.for("react.async_mode"):60111,na=Kt?Symbol.for("react.concurrent_mode"):60111,ra=Kt?Symbol.for("react.forward_ref"):60112,oa=Kt?Symbol.for("react.suspense"):60113,cm=Kt?Symbol.for("react.suspense_list"):60120,ia=Kt?Symbol.for("react.memo"):60115,aa=Kt?Symbol.for("react.lazy"):60116,um=Kt?Symbol.for("react.block"):60121,dm=Kt?Symbol.for("react.fundamental"):60117,fm=Kt?Symbol.for("react.responder"):60118,hm=Kt?Symbol.for("react.scope"):60119;function wn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Il:switch(e=e.type,e){case Dl:case na:case Zi:case Qi:case Ji:case oa:return e;default:switch(e=e&&e.$$typeof,e){case ta:case ra:case aa:case ia:case ea:return e;default:return t}}case Rl:return t}}}function uu(e){return wn(e)===na}ht.AsyncMode=Dl;ht.ConcurrentMode=na;ht.ContextConsumer=ta;ht.ContextProvider=ea;ht.Element=Il;ht.ForwardRef=ra;ht.Fragment=Zi;ht.Lazy=aa;ht.Memo=ia;ht.Portal=Rl;ht.Profiler=Qi;ht.StrictMode=Ji;ht.Suspense=oa;ht.isAsyncMode=function(e){return uu(e)||wn(e)===Dl};ht.isConcurrentMode=uu;ht.isContextConsumer=function(e){return wn(e)===ta};ht.isContextProvider=function(e){return wn(e)===ea};ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Il};ht.isForwardRef=function(e){return wn(e)===ra};ht.isFragment=function(e){return wn(e)===Zi};ht.isLazy=function(e){return wn(e)===aa};ht.isMemo=function(e){return wn(e)===ia};ht.isPortal=function(e){return wn(e)===Rl};ht.isProfiler=function(e){return wn(e)===Qi};ht.isStrictMode=function(e){return wn(e)===Ji};ht.isSuspense=function(e){return wn(e)===oa};ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zi||e===na||e===Qi||e===Ji||e===oa||e===cm||typeof e=="object"&&e!==null&&(e.$$typeof===aa||e.$$typeof===ia||e.$$typeof===ea||e.$$typeof===ta||e.$$typeof===ra||e.$$typeof===dm||e.$$typeof===fm||e.$$typeof===hm||e.$$typeof===um)};ht.typeOf=wn;cu.exports=ht;var gm=cu.exports,du=gm,mm={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pm={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fu={};fu[du.ForwardRef]=mm;fu[du.Memo]=pm;var vm=!0;function bm(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var hu=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||vm===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},wm=function(t,n,r){hu(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function ym(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Cm={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sm=/[A-Z]|^ms/g,xm=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gu=function(t){return t.charCodeAt(1)===45},As=function(t){return t!=null&&typeof t!="boolean"},Wa=Td(function(e){return gu(e)?e:e.replace(Sm,"-$&").toLowerCase()}),zs=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(xm,function(r,o,i){return Gn={name:o,styles:i,next:Gn},o})}return Cm[t]!==1&&!gu(t)&&typeof n=="number"&&n!==0?n+"px":n};function Yo(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Gn={name:n.name,styles:n.styles,next:Gn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Gn={name:r.name,styles:r.styles,next:Gn},r=r.next;var o=n.styles+";";return o}return km(e,t,n)}case"function":{if(e!==void 0){var i=Gn,l=n(e);return Gn=i,Yo(e,t,l)}break}}return n}function km(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Yo(e,t,n[o])+";";else for(var i in n){var l=n[i];if(typeof l!="object")As(l)&&(r+=Wa(i)+":"+zs(i,l)+";");else if(Array.isArray(l)&&typeof l[0]=="string"&&t==null)for(var s=0;s<l.length;s++)As(l[s])&&(r+=Wa(i)+":"+zs(i,l[s])+";");else{var a=Yo(e,t,l);switch(i){case"animation":case"animationName":{r+=Wa(i)+":"+a+";";break}default:r+=i+"{"+a+"}"}}}return r}var $s=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Gn,mu=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,i="";Gn=void 0;var l=t[0];l==null||l.raw===void 0?(o=!1,i+=Yo(r,n,l)):i+=l[0];for(var s=1;s<t.length;s++)i+=Yo(r,n,t[s]),o&&(i+=l[s]);$s.lastIndex=0;for(var a="",u;(u=$s.exec(i))!==null;)a+="-"+u[1];var c=ym(i)+a;return{name:c,styles:i,next:Gn}},Pl={}.hasOwnProperty,pu=d.createContext(typeof HTMLElement<"u"?sm({key:"css"}):null);pu.Provider;var Mm=function(t){return d.forwardRef(function(n,r){var o=d.useContext(pu);return t(n,o,r)})},Em=d.createContext({}),Im=d.useInsertionEffect?d.useInsertionEffect:function(t){t()};function Rm(e){Im(e)}var cl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Dm=function(t,n){var r={};for(var o in n)Pl.call(n,o)&&(r[o]=n[o]);return r[cl]=t,r},Pm=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return hu(n,r,o),Rm(function(){return wm(n,r,o)}),null},Om=Mm(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[cl],i=[r],l="";typeof e.className=="string"?l=bm(t.registered,i,e.className):e.className!=null&&(l=e.className+" ");var s=mu(i,void 0,d.useContext(Em));l+=t.key+"-"+s.name;var a={};for(var u in e)Pl.call(e,u)&&u!=="css"&&u!==cl&&(a[u]=e[u]);return a.ref=n,a.className=l,d.createElement(d.Fragment,null,d.createElement(Pm,{cache:t,serialized:s,isStringTag:typeof o=="string"}),d.createElement(o,a))}),xe=function(t,n){var r=arguments;if(n==null||!Pl.call(n,"css"))return d.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=Om,i[1]=Dm(t,n);for(var l=2;l<o;l++)i[l]=r[l];return d.createElement.apply(null,i)};function Ol(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mu(t)}var Tm=function(){var t=Ol.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Fm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Hm=Math.min,Lm=Math.max,Bi=Math.round,xi=Math.floor,Ni=e=>({x:e,y:e});function Am(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function vu(e){return wu(e)?(e.nodeName||"").toLowerCase():"#document"}function sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bu(e){var t;return(t=(wu(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wu(e){return e instanceof Node||e instanceof sr(e).Node}function zm(e){return e instanceof Element||e instanceof sr(e).Element}function Tl(e){return e instanceof HTMLElement||e instanceof sr(e).HTMLElement}function Vs(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sr(e).ShadowRoot}function yu(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Fl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function $m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vm(e){return["html","body","#document"].includes(vu(e))}function Fl(e){return sr(e).getComputedStyle(e)}function Bm(e){if(vu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vs(e)&&e.host||bu(e);return Vs(t)?t.host:t}function Cu(e){const t=Bm(e);return Vm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tl(t)&&yu(t)?t:Cu(t)}function Wi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Cu(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=sr(o);return i?t.concat(l,l.visualViewport||[],yu(o)?o:[],l.frameElement&&n?Wi(l.frameElement):[]):t.concat(o,Wi(o,[],n))}function Nm(e){const t=Fl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Tl(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,s=Bi(n)!==i||Bi(r)!==l;return s&&(n=i,r=l),{width:n,height:r,$:s}}function Hl(e){return zm(e)?e:e.contextElement}function Bs(e){const t=Hl(e);if(!Tl(t))return Ni(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Nm(t);let l=(i?Bi(n.width):n.width)/r,s=(i?Bi(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const Wm=Ni(0);function _m(e){const t=sr(e);return!$m()||!t.visualViewport?Wm:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gm(e,t,n){return!1}function Ns(e,t,n,r){t===void 0&&(t=!1);const o=e.getBoundingClientRect(),i=Hl(e);let l=Ni(1);t&&(l=Bs(e));const s=Gm()?_m(i):Ni(0);let a=(o.left+s.x)/l.x,u=(o.top+s.y)/l.y,c=o.width/l.x,f=o.height/l.y;if(i){const p=sr(i),g=r;let h=p.frameElement;for(;h&&r&&g!==p;){const m=Bs(h),w=h.getBoundingClientRect(),b=Fl(h),y=w.left+(h.clientLeft+parseFloat(b.paddingLeft))*m.x,C=w.top+(h.clientTop+parseFloat(b.paddingTop))*m.y;a*=m.x,u*=m.y,c*=m.x,f*=m.y,a+=y,u+=C,h=sr(h).frameElement}}return Am({width:c,height:f,x:a,y:u})}function Xm(e,t){let n=null,r;const o=bu(e);function i(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),i();const{left:u,top:c,width:f,height:p}=e.getBoundingClientRect();if(s||t(),!f||!p)return;const g=xi(c),h=xi(o.clientWidth-(u+f)),m=xi(o.clientHeight-(c+p)),w=xi(u),y={rootMargin:-g+"px "+-h+"px "+-m+"px "+-w+"px",threshold:Lm(0,Hm(1,a))||1};let C=!0;function D(R){const I=R[0].intersectionRatio;if(I!==a){if(!C)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},100)}C=!1}try{n=new IntersectionObserver(D,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(D,y)}n.observe(e)}return l(!0),i}function Um(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=Hl(e),c=o||i?[...u?Wi(u):[],...Wi(t)]:[];c.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&s?Xm(u,n):null;let p=-1,g=null;l&&(g=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(t)})),n()}),u&&!a&&g.observe(u),g.observe(t));let h,m=a?Ns(e):null;a&&w();function w(){const b=Ns(e);m&&(b.x!==m.x||b.y!==m.y||b.width!==m.width||b.height!==m.height)&&n(),m=b,h=requestAnimationFrame(w)}return n(),()=>{var b;c.forEach(y=>{o&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,a&&cancelAnimationFrame(h)}}var ul=d.useLayoutEffect,Ym=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],_i=function(){};function Km(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function jm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=[].concat(r);if(t&&e)for(var l in t)t.hasOwnProperty(l)&&t[l]&&i.push("".concat(Km(e,l)));return i.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var Gi=function(t){return op(t)?t.filter(Boolean):mc(t)==="object"&&t!==null?[t]:[]},Su=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Kn(t,Ym);return Se({},n)},Ht=function(t,n,r){var o=t.cx,i=t.getStyles,l=t.getClassNames,s=t.className;return{css:i(n,t),className:o(r??{},l(n,t),s)}};function la(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function qm(e){return la(e)?window.innerHeight:e.clientHeight}function xu(e){return la(e)?window.pageYOffset:e.scrollTop}function Xi(e,t){if(la(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Zm(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}function Jm(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function ki(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_i,o=xu(e),i=t-o,l=10,s=0;function a(){s+=l;var u=Jm(s,o,i,n);Xi(e,u),s<n?window.requestAnimationFrame(a):r(e)}a()}function Ws(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?Xi(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&Xi(e,Math.max(t.offsetTop-o,0))}function Qm(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function _s(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function ep(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ku=!1,tp={get passive(){return ku=!0}},Mi=typeof window<"u"?window:{};Mi.addEventListener&&Mi.removeEventListener&&(Mi.addEventListener("p",_i,tp),Mi.removeEventListener("p",_i,!1));var np=ku;function rp(e){return e!=null}function op(e){return Array.isArray(e)}function zo(e,t,n){return e?t:n}var ip=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=Object.entries(t).filter(function(l){var s=lr(l,1),a=s[0];return!r.includes(a)});return i.reduce(function(l,s){var a=lr(s,2),u=a[0],c=a[1];return l[u]=c,l},{})},ap=["children","innerProps"],lp=["children","innerProps"];function sp(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,i=e.shouldScroll,l=e.isFixedPosition,s=e.controlHeight,a=Zm(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c=a.getBoundingClientRect(),f=c.height,p=n.getBoundingClientRect(),g=p.bottom,h=p.height,m=p.top,w=n.offsetParent.getBoundingClientRect(),b=w.top,y=l?window.innerHeight:qm(a),C=xu(a),D=parseInt(getComputedStyle(n).marginBottom,10),R=parseInt(getComputedStyle(n).marginTop,10),I=b-R,x=y-m,k=I+C,S=f-C-m,L=g-y+C+D,$=C+m-R,H=160;switch(o){case"auto":case"bottom":if(x>=h)return{placement:"bottom",maxHeight:t};if(S>=h&&!l)return i&&ki(a,L,H),{placement:"bottom",maxHeight:t};if(!l&&S>=r||l&&x>=r){i&&ki(a,L,H);var F=l?x-D:S-D;return{placement:"bottom",maxHeight:F}}if(o==="auto"||l){var T=t,J=l?I:k;return J>=r&&(T=Math.min(J-D-s,t)),{placement:"top",maxHeight:T}}if(o==="bottom")return i&&Xi(a,L),{placement:"bottom",maxHeight:t};break;case"top":if(I>=h)return{placement:"top",maxHeight:t};if(k>=h&&!l)return i&&ki(a,$,H),{placement:"top",maxHeight:t};if(!l&&k>=r||l&&I>=r){var X=t;return(!l&&k>=r||l&&I>=r)&&(X=l?I-R:k-R),i&&ki(a,$,H),{placement:"top",maxHeight:X}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return u}function cp(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var Mu=function(t){return t==="auto"?"bottom":t},up=function(t,n){var r,o=t.placement,i=t.theme,l=i.borderRadius,s=i.spacing,a=i.colors;return Se((r={label:"menu"},Ao(r,cp(o),"100%"),Ao(r,"position","absolute"),Ao(r,"width","100%"),Ao(r,"zIndex",1),r),n?{}:{backgroundColor:a.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},Eu=d.createContext(null),dp=function(t){var n=t.children,r=t.minMenuHeight,o=t.maxMenuHeight,i=t.menuPlacement,l=t.menuPosition,s=t.menuShouldScrollIntoView,a=t.theme,u=d.useContext(Eu)||{},c=u.setPortalPlacement,f=d.useRef(null),p=d.useState(o),g=lr(p,2),h=g[0],m=g[1],w=d.useState(null),b=lr(w,2),y=b[0],C=b[1],D=a.spacing.controlHeight;return ul(function(){var R=f.current;if(R){var I=l==="fixed",x=s&&!I,k=sp({maxHeight:o,menuEl:R,minHeight:r,placement:i,shouldScroll:x,isFixedPosition:I,controlHeight:D});m(k.maxHeight),C(k.placement),c==null||c(k.placement)}},[o,i,l,s,r,c,D]),n({ref:f,placerProps:Se(Se({},t),{},{placement:y||Mu(i),maxHeight:h})})},fp=function(t){var n=t.children,r=t.innerRef,o=t.innerProps;return xe("div",Pe({},Ht(t,"menu",{menu:!0}),{ref:r},o),n)},hp=fp,gp=function(t,n){var r=t.maxHeight,o=t.theme.spacing.baseUnit;return Se({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:o,paddingTop:o})},mp=function(t){var n=t.children,r=t.innerProps,o=t.innerRef,i=t.isMulti;return xe("div",Pe({},Ht(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:o},r),n)},Iu=function(t,n){var r=t.theme,o=r.spacing.baseUnit,i=r.colors;return Se({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px")})},pp=Iu,vp=Iu,bp=function(t){var n=t.children,r=n===void 0?"No options":n,o=t.innerProps,i=Kn(t,ap);return xe("div",Pe({},Ht(Se(Se({},i),{},{children:r,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),r)},wp=function(t){var n=t.children,r=n===void 0?"Loading...":n,o=t.innerProps,i=Kn(t,lp);return xe("div",Pe({},Ht(Se(Se({},i),{},{children:r,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),r)},yp=function(t){var n=t.rect,r=t.offset,o=t.position;return{left:n.left,position:o,top:r,width:n.width,zIndex:1}},Cp=function(t){var n=t.appendTo,r=t.children,o=t.controlElement,i=t.innerProps,l=t.menuPlacement,s=t.menuPosition,a=d.useRef(null),u=d.useRef(null),c=d.useState(Mu(l)),f=lr(c,2),p=f[0],g=f[1],h=d.useMemo(function(){return{setPortalPlacement:g}},[]),m=d.useState(null),w=lr(m,2),b=w[0],y=w[1],C=d.useCallback(function(){if(o){var x=Qm(o),k=s==="fixed"?0:window.pageYOffset,S=x[p]+k;(S!==(b==null?void 0:b.offset)||x.left!==(b==null?void 0:b.rect.left)||x.width!==(b==null?void 0:b.rect.width))&&y({offset:S,rect:x})}},[o,s,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);ul(function(){C()},[C]);var D=d.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),o&&a.current&&(u.current=Um(o,a.current,C,{elementResize:"ResizeObserver"in window}))},[o,C]);ul(function(){D()},[D]);var R=d.useCallback(function(x){a.current=x,D()},[D]);if(!n&&s!=="fixed"||!b)return null;var I=xe("div",Pe({ref:R},Ht(Se(Se({},t),{},{offset:b.offset,position:s,rect:b.rect}),"menuPortal",{"menu-portal":!0}),i),r);return xe(Eu.Provider,{value:h},n?Nd.createPortal(I,n):I)},Sp=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},xp=function(t){var n=t.children,r=t.innerProps,o=t.isDisabled,i=t.isRtl;return xe("div",Pe({},Ht(t,"container",{"--is-disabled":o,"--is-rtl":i}),r),n)},kp=function(t,n){var r=t.theme.spacing,o=t.isMulti,i=t.hasValue,l=t.selectProps.controlShouldRenderValue;return Se({alignItems:"center",display:o&&i&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Mp=function(t){var n=t.children,r=t.innerProps,o=t.isMulti,i=t.hasValue;return xe("div",Pe({},Ht(t,"valueContainer",{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":i}),r),n)},Ep=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Ip=function(t){var n=t.children,r=t.innerProps;return xe("div",Pe({},Ht(t,"indicatorsContainer",{indicators:!0}),r),n)},Gs,Rp=["size"],Dp=["innerProps","isRtl","size"],Pp={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ru=function(t){var n=t.size,r=Kn(t,Rp);return xe("svg",Pe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Pp},r))},Ll=function(t){return xe(Ru,Pe({size:20},t),xe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Du=function(t){return xe(Ru,Pe({size:20},t),xe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Pu=function(t,n){var r=t.isFocused,o=t.theme,i=o.spacing.baseUnit,l=o.colors;return Se({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?l.neutral60:l.neutral20,padding:i*2,":hover":{color:r?l.neutral80:l.neutral40}})},Op=Pu,Tp=function(t){var n=t.children,r=t.innerProps;return xe("div",Pe({},Ht(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||xe(Du,null))},Fp=Pu,Hp=function(t){var n=t.children,r=t.innerProps;return xe("div",Pe({},Ht(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||xe(Ll,null))},Lp=function(t,n){var r=t.isDisabled,o=t.theme,i=o.spacing.baseUnit,l=o.colors;return Se({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:i*2,marginTop:i*2})},Ap=function(t){var n=t.innerProps;return xe("span",Pe({},n,Ht(t,"indicatorSeparator",{"indicator-separator":!0})))},zp=Tm(Gs||(Gs=Fm([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),$p=function(t,n){var r=t.isFocused,o=t.size,i=t.theme,l=i.colors,s=i.spacing.baseUnit;return Se({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?l.neutral60:l.neutral20,padding:s*2})},_a=function(t){var n=t.delay,r=t.offset;return xe("span",{css:Ol({animation:"".concat(zp," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Vp=function(t){var n=t.innerProps,r=t.isRtl,o=t.size,i=o===void 0?4:o,l=Kn(t,Dp);return xe("div",Pe({},Ht(Se(Se({},l),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),xe(_a,{delay:0,offset:r}),xe(_a,{delay:160,offset:!0}),xe(_a,{delay:320,offset:!r}))},Bp=function(t,n){var r=t.isDisabled,o=t.isFocused,i=t.theme,l=i.colors,s=i.borderRadius,a=i.spacing;return Se({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:o?l.primary:l.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:o?l.primary:l.neutral30}})},Np=function(t){var n=t.children,r=t.isDisabled,o=t.isFocused,i=t.innerRef,l=t.innerProps,s=t.menuIsOpen;return xe("div",Pe({ref:i},Ht(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":o,"control--menu-is-open":s}),l,{"aria-disabled":r||void 0}),n)},Wp=Np,_p=["data"],Gp=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Xp=function(t){var n=t.children,r=t.cx,o=t.getStyles,i=t.getClassNames,l=t.Heading,s=t.headingProps,a=t.innerProps,u=t.label,c=t.theme,f=t.selectProps;return xe("div",Pe({},Ht(t,"group",{group:!0}),a),xe(l,Pe({},s,{selectProps:f,theme:c,getStyles:o,getClassNames:i,cx:r}),u),xe("div",null,n))},Up=function(t,n){var r=t.theme,o=r.colors,i=r.spacing;return Se({label:"group",cursor:"default",display:"block"},n?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},Yp=function(t){var n=Su(t);n.data;var r=Kn(n,_p);return xe("div",Pe({},Ht(t,"groupHeading",{"group-heading":!0}),r))},Kp=Xp,jp=["innerRef","isDisabled","isHidden","inputClassName"],qp=function(t,n){var r=t.isDisabled,o=t.value,i=t.theme,l=i.spacing,s=i.colors;return Se(Se({visibility:r?"hidden":"visible",transform:o?"translateZ(0)":""},Zp),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:s.neutral80})},Ou={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Zp={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Se({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Ou)},Jp=function(t){return Se({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},Ou)},Qp=function(t){var n=t.cx,r=t.value,o=Su(t),i=o.innerRef,l=o.isDisabled,s=o.isHidden,a=o.inputClassName,u=Kn(o,jp);return xe("div",Pe({},Ht(t,"input",{"input-container":!0}),{"data-value":r||""}),xe("input",Pe({className:n({input:!0},a),ref:i,style:Jp(s),disabled:l},u)))},e1=Qp,t1=function(t,n){var r=t.theme,o=r.spacing,i=r.borderRadius,l=r.colors;return Se({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:i/2,margin:o.baseUnit/2})},n1=function(t,n){var r=t.theme,o=r.borderRadius,i=r.colors,l=t.cropWithEllipsis;return Se({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:o/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},r1=function(t,n){var r=t.theme,o=r.spacing,i=r.borderRadius,l=r.colors,s=t.isFocused;return Se({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:s?l.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},Tu=function(t){var n=t.children,r=t.innerProps;return xe("div",r,n)},o1=Tu,i1=Tu;function a1(e){var t=e.children,n=e.innerProps;return xe("div",Pe({role:"button"},n),t||xe(Ll,{size:14}))}var l1=function(t){var n=t.children,r=t.components,o=t.data,i=t.innerProps,l=t.isDisabled,s=t.removeProps,a=t.selectProps,u=r.Container,c=r.Label,f=r.Remove;return xe(u,{data:o,innerProps:Se(Se({},Ht(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),i),selectProps:a},xe(c,{data:o,innerProps:Se({},Ht(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},n),xe(f,{data:o,innerProps:Se(Se({},Ht(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:a}))},s1=l1,c1=function(t,n){var r=t.isDisabled,o=t.isFocused,i=t.isSelected,l=t.theme,s=l.spacing,a=l.colors;return Se({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?a.primary:o?a.primary25:"transparent",color:r?a.neutral20:i?a.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?a.primary:a.primary50}})},u1=function(t){var n=t.children,r=t.isDisabled,o=t.isFocused,i=t.isSelected,l=t.innerRef,s=t.innerProps;return xe("div",Pe({},Ht(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":o,"option--is-selected":i}),{ref:l,"aria-disabled":r},s),n)},d1=u1,f1=function(t,n){var r=t.theme,o=r.spacing,i=r.colors;return Se({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},h1=function(t){var n=t.children,r=t.innerProps;return xe("div",Pe({},Ht(t,"placeholder",{placeholder:!0}),r),n)},g1=h1,m1=function(t,n){var r=t.isDisabled,o=t.theme,i=o.spacing,l=o.colors;return Se({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?l.neutral40:l.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},p1=function(t){var n=t.children,r=t.isDisabled,o=t.innerProps;return xe("div",Pe({},Ht(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),o),n)},v1=p1,Al={ClearIndicator:Hp,Control:Wp,DropdownIndicator:Tp,DownChevron:Du,CrossIcon:Ll,Group:Kp,GroupHeading:Yp,IndicatorsContainer:Ip,IndicatorSeparator:Ap,Input:e1,LoadingIndicator:Vp,Menu:hp,MenuList:mp,MenuPortal:Cp,LoadingMessage:wp,NoOptionsMessage:bp,MultiValue:s1,MultiValueContainer:o1,MultiValueLabel:i1,MultiValueRemove:a1,Option:d1,Placeholder:g1,SelectContainer:xp,SingleValue:v1,ValueContainer:Mp},b1=function(t){return Se(Se({},Al),t.components)},Xs=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function w1(e,t){return!!(e===t||Xs(e)&&Xs(t))}function y1(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!w1(e[n],t[n]))return!1;return!0}function C1(e,t){t===void 0&&(t=y1);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var l=e.apply(this,o);return n={lastResult:l,lastArgs:o,lastThis:this},l}return r.clear=function(){n=null},r}var S1={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},x1=function(t){return xe("span",Pe({css:S1},t))},Us=x1,k1={guidance:function(t){var n=t.isSearchable,r=t.isMulti,o=t.tabSelectsValue,i=t.context,l=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,o=r===void 0?"":r,i=t.labels,l=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return l?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,o=t.options,i=t.label,l=i===void 0?"":i,s=t.selectValue,a=t.isDisabled,u=t.isSelected,c=t.isAppleDevice,f=function(m,w){return m&&m.length?"".concat(m.indexOf(w)+1," of ").concat(m.length):""};if(n==="value"&&s)return"value ".concat(l," focused, ").concat(f(s,r),".");if(n==="menu"&&c){var p=a?" disabled":"",g="".concat(u?" selected":"").concat(p);return"".concat(l).concat(g,", ").concat(f(o,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},M1=function(t){var n=t.ariaSelection,r=t.focusedOption,o=t.focusedValue,i=t.focusableOptions,l=t.isFocused,s=t.selectValue,a=t.selectProps,u=t.id,c=t.isAppleDevice,f=a.ariaLiveMessages,p=a.getOptionLabel,g=a.inputValue,h=a.isMulti,m=a.isOptionDisabled,w=a.isSearchable,b=a.menuIsOpen,y=a.options,C=a.screenReaderStatus,D=a.tabSelectsValue,R=a.isLoading,I=a["aria-label"],x=a["aria-live"],k=d.useMemo(function(){return Se(Se({},k1),f||{})},[f]),S=d.useMemo(function(){var J="";if(n&&k.onChange){var X=n.option,te=n.options,he=n.removedValue,ue=n.removedValues,Q=n.value,j=function(le){return Array.isArray(le)?null:le},ae=he||X||j(Q),Z=ae?p(ae):"",se=te||ue||void 0,Oe=se?se.map(p):[],K=Se({isDisabled:ae&&m(ae,s),label:Z,labels:Oe},n);J=k.onChange(K)}return J},[n,k,m,s,p]),L=d.useMemo(function(){var J="",X=r||o,te=!!(r&&s&&s.includes(r));if(X&&k.onFocus){var he={focused:X,label:p(X),isDisabled:m(X,s),isSelected:te,options:i,context:X===r?"menu":"value",selectValue:s,isAppleDevice:c};J=k.onFocus(he)}return J},[r,o,p,m,k,i,s,c]),$=d.useMemo(function(){var J="";if(b&&y.length&&!R&&k.onFilter){var X=C({count:i.length});J=k.onFilter({inputValue:g,resultsMessage:X})}return J},[i,g,b,k,y,C,R]),H=(n==null?void 0:n.action)==="initial-input-focus",F=d.useMemo(function(){var J="";if(k.guidance){var X=o?"value":b?"menu":"input";J=k.guidance({"aria-label":I,context:X,isDisabled:r&&m(r,s),isMulti:h,isSearchable:w,tabSelectsValue:D,isInitialFocus:H})}return J},[I,r,o,h,m,w,b,k,s,D,H]),T=xe(d.Fragment,null,xe("span",{id:"aria-selection"},S),xe("span",{id:"aria-focused"},L),xe("span",{id:"aria-results"},$),xe("span",{id:"aria-guidance"},F));return xe(d.Fragment,null,xe(Us,{id:u},H&&T),xe(Us,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!H&&T))},E1=M1,dl=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],I1=new RegExp("["+dl.map(function(e){return e.letters}).join("")+"]","g"),Fu={};for(var Ga=0;Ga<dl.length;Ga++)for(var Xa=dl[Ga],Ua=0;Ua<Xa.letters.length;Ua++)Fu[Xa.letters[Ua]]=Xa.base;var Hu=function(t){return t.replace(I1,function(n){return Fu[n]})},R1=C1(Hu),Ys=function(t){return t.replace(/^\s+|\s+$/g,"")},D1=function(t){return"".concat(t.label," ").concat(t.value)},P1=function(t){return function(n,r){if(n.data.__isNew__)return!0;var o=Se({ignoreCase:!0,ignoreAccents:!0,stringify:D1,trim:!0,matchFrom:"any"},t),i=o.ignoreCase,l=o.ignoreAccents,s=o.stringify,a=o.trim,u=o.matchFrom,c=a?Ys(r):r,f=a?Ys(s(n)):s(n);return i&&(c=c.toLowerCase(),f=f.toLowerCase()),l&&(c=R1(c),f=Hu(f)),u==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},O1=["innerRef"];function T1(e){var t=e.innerRef,n=Kn(e,O1),r=ip(n,"onExited","in","enter","exit","appear");return xe("input",Pe({ref:t},r,{css:Ol({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var F1=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function H1(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,i=e.onTopLeave,l=d.useRef(!1),s=d.useRef(!1),a=d.useRef(0),u=d.useRef(null),c=d.useCallback(function(w,b){if(u.current!==null){var y=u.current,C=y.scrollTop,D=y.scrollHeight,R=y.clientHeight,I=u.current,x=b>0,k=D-R-C,S=!1;k>b&&l.current&&(r&&r(w),l.current=!1),x&&s.current&&(i&&i(w),s.current=!1),x&&b>k?(n&&!l.current&&n(w),I.scrollTop=D,S=!0,l.current=!0):!x&&-b>C&&(o&&!s.current&&o(w),I.scrollTop=0,S=!0,s.current=!0),S&&F1(w)}},[n,r,o,i]),f=d.useCallback(function(w){c(w,w.deltaY)},[c]),p=d.useCallback(function(w){a.current=w.changedTouches[0].clientY},[]),g=d.useCallback(function(w){var b=a.current-w.changedTouches[0].clientY;c(w,b)},[c]),h=d.useCallback(function(w){if(w){var b=np?{passive:!1}:!1;w.addEventListener("wheel",f,b),w.addEventListener("touchstart",p,b),w.addEventListener("touchmove",g,b)}},[g,p,f]),m=d.useCallback(function(w){w&&(w.removeEventListener("wheel",f,!1),w.removeEventListener("touchstart",p,!1),w.removeEventListener("touchmove",g,!1))},[g,p,f]);return d.useEffect(function(){if(t){var w=u.current;return h(w),function(){m(w)}}},[t,h,m]),function(w){u.current=w}}var Ks=["boxSizing","height","overflow","paddingRight","position"],js={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function qs(e){e.cancelable&&e.preventDefault()}function Zs(e){e.stopPropagation()}function Js(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Qs(){return"ontouchstart"in window||navigator.maxTouchPoints}var ec=!!(typeof window<"u"&&window.document&&window.document.createElement),Lo=0,lo={capture:!1,passive:!1};function L1(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,o=d.useRef({}),i=d.useRef(null),l=d.useCallback(function(a){if(ec){var u=document.body,c=u&&u.style;if(r&&Ks.forEach(function(h){var m=c&&c[h];o.current[h]=m}),r&&Lo<1){var f=parseInt(o.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+f||0;Object.keys(js).forEach(function(h){var m=js[h];c&&(c[h]=m)}),c&&(c.paddingRight="".concat(g,"px"))}u&&Qs()&&(u.addEventListener("touchmove",qs,lo),a&&(a.addEventListener("touchstart",Js,lo),a.addEventListener("touchmove",Zs,lo))),Lo+=1}},[r]),s=d.useCallback(function(a){if(ec){var u=document.body,c=u&&u.style;Lo=Math.max(Lo-1,0),r&&Lo<1&&Ks.forEach(function(f){var p=o.current[f];c&&(c[f]=p)}),u&&Qs()&&(u.removeEventListener("touchmove",qs,lo),a&&(a.removeEventListener("touchstart",Js,lo),a.removeEventListener("touchmove",Zs,lo)))}},[r]);return d.useEffect(function(){if(t){var a=i.current;return l(a),function(){s(a)}}},[t,l,s]),function(a){i.current=a}}var A1=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},z1={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function $1(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=r===void 0?!0:r,i=e.onBottomArrive,l=e.onBottomLeave,s=e.onTopArrive,a=e.onTopLeave,u=H1({isEnabled:o,onBottomArrive:i,onBottomLeave:l,onTopArrive:s,onTopLeave:a}),c=L1({isEnabled:n}),f=function(g){u(g),c(g)};return xe(d.Fragment,null,n&&xe("div",{onClick:A1,css:z1}),t(f))}var V1={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},B1=function(t){var n=t.name,r=t.onFocus;return xe("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:V1,value:"",onChange:function(){}})},N1=B1;function zl(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function W1(){return zl(/^iPhone/i)}function Lu(){return zl(/^Mac/i)}function _1(){return zl(/^iPad/i)||Lu()&&navigator.maxTouchPoints>1}function G1(){return W1()||_1()}function X1(){return Lu()||G1()}var U1=function(t){return t.label},Au=function(t){return t.label},zu=function(t){return t.value},Y1=function(t){return!!t.isDisabled},K1={clearIndicator:Fp,container:Sp,control:Bp,dropdownIndicator:Op,group:Gp,groupHeading:Up,indicatorsContainer:Ep,indicatorSeparator:Lp,input:qp,loadingIndicator:$p,loadingMessage:vp,menu:up,menuList:gp,menuPortal:yp,multiValue:t1,multiValueLabel:n1,multiValueRemove:r1,noOptionsMessage:pp,option:c1,placeholder:f1,singleValue:m1,valueContainer:kp},j1={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},q1=4,$u=4,Z1=38,J1=$u*2,Q1={baseUnit:$u,controlHeight:Z1,menuGutter:J1},Ya={borderRadius:q1,colors:j1,spacing:Q1},ev={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:_s(),captureMenuScroll:!_s(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:P1(),formatGroupLabel:U1,getOptionLabel:Au,getOptionValue:zu,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Y1,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!ep(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function tc(e,t,n,r){var o=Nu(e,t,n),i=Wu(e,t,n),l=Bu(e,t),s=Ui(e,t);return{type:"option",data:t,isDisabled:o,isSelected:i,label:l,value:s,index:r}}function Pi(e,t){return e.options.map(function(n,r){if("options"in n){var o=n.options.map(function(l,s){return tc(e,l,t,s)}).filter(function(l){return rc(e,l)});return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var i=tc(e,n,t,r);return rc(e,i)?i:void 0}).filter(rp)}function Vu(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,mo(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function nc(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,mo(r.options.map(function(o){return{data:o.data,id:"".concat(t,"-").concat(r.index,"-").concat(o.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function tv(e,t){return Vu(Pi(e,t))}function rc(e,t){var n=e.inputValue,r=n===void 0?"":n,o=t.data,i=t.isSelected,l=t.label,s=t.value;return(!Gu(e)||!i)&&_u(e,{label:l,value:s,data:o},r)}function nv(e,t){var n=e.focusedValue,r=e.selectValue,o=r.indexOf(n);if(o>-1){var i=t.indexOf(n);if(i>-1)return n;if(o<t.length)return t[o]}return null}function rv(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var Ka=function(t,n){var r,o=(r=t.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return o||null},Bu=function(t,n){return t.getOptionLabel(n)},Ui=function(t,n){return t.getOptionValue(n)};function Nu(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function Wu(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Ui(e,t);return n.some(function(o){return Ui(e,o)===r})}function _u(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var Gu=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},ov=1,$l=function(e){P0(n,e);var t=F0(n);function n(r){var o;if(R0(this,n),o=t.call(this,r),o.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=X1(),o.controlRef=null,o.getControlRef=function(a){o.controlRef=a},o.focusedOptionRef=null,o.getFocusedOptionRef=function(a){o.focusedOptionRef=a},o.menuListRef=null,o.getMenuListRef=function(a){o.menuListRef=a},o.inputRef=null,o.getInputRef=function(a){o.inputRef=a},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(a,u){var c=o.props,f=c.onChange,p=c.name;u.name=p,o.ariaOnChange(a,u),f(a,u)},o.setValue=function(a,u,c){var f=o.props,p=f.closeMenuOnSelect,g=f.isMulti,h=f.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:h}),p&&(o.setState({inputIsHiddenAfterUpdate:!g}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(a,{action:u,option:c})},o.selectOption=function(a){var u=o.props,c=u.blurInputOnSelect,f=u.isMulti,p=u.name,g=o.state.selectValue,h=f&&o.isOptionSelected(a,g),m=o.isOptionDisabled(a,g);if(h){var w=o.getOptionValue(a);o.setValue(g.filter(function(b){return o.getOptionValue(b)!==w}),"deselect-option",a)}else if(!m)f?o.setValue([].concat(mo(g),[a]),"select-option",a):o.setValue(a,"select-option");else{o.ariaOnChange(a,{action:"select-option",option:a,name:p});return}c&&o.blurInput()},o.removeValue=function(a){var u=o.props.isMulti,c=o.state.selectValue,f=o.getOptionValue(a),p=c.filter(function(h){return o.getOptionValue(h)!==f}),g=zo(u,p,p[0]||null);o.onChange(g,{action:"remove-value",removedValue:a}),o.focusInput()},o.clearValue=function(){var a=o.state.selectValue;o.onChange(zo(o.props.isMulti,[],null),{action:"clear",removedValues:a})},o.popValue=function(){var a=o.props.isMulti,u=o.state.selectValue,c=u[u.length-1],f=u.slice(0,u.length-1),p=zo(a,f,f[0]||null);c&&o.onChange(p,{action:"pop-value",removedValue:c})},o.getFocusedOptionId=function(a){return Ka(o.state.focusableOptionsWithIds,a)},o.getFocusableOptionsWithIds=function(){return nc(Pi(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return jm.apply(void 0,[o.props.classNamePrefix].concat(u))},o.getOptionLabel=function(a){return Bu(o.props,a)},o.getOptionValue=function(a){return Ui(o.props,a)},o.getStyles=function(a,u){var c=o.props.unstyled,f=K1[a](u,c);f.boxSizing="border-box";var p=o.props.styles[a];return p?p(f,u):f},o.getClassNames=function(a,u){var c,f;return(c=(f=o.props.classNames)[a])===null||c===void 0?void 0:c.call(f,u)},o.getElementId=function(a){return"".concat(o.state.instancePrefix,"-").concat(a)},o.getComponents=function(){return b1(o.props)},o.buildCategorizedOptions=function(){return Pi(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return Vu(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(a,u){o.setState({ariaSelection:Se({value:a},u)})},o.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(a){o.blockOptionHover=!1},o.onControlMouseDown=function(a){if(!a.defaultPrevented){var u=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&o.onMenuClose():u&&o.openMenu("first"):(u&&(o.openAfterFocus=!0),o.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},o.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!o.props.isDisabled){var u=o.props,c=u.isMulti,f=u.menuIsOpen;o.focusInput(),f?(o.setState({inputIsHiddenAfterUpdate:!c}),o.onMenuClose()):o.openMenu("first"),a.preventDefault()}},o.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(o.clearValue(),a.preventDefault(),o.openAfterFocus=!1,a.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(a){typeof o.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&la(a.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(a)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(a){var u=a.touches,c=u&&u.item(0);c&&(o.initialTouchX=c.clientX,o.initialTouchY=c.clientY,o.userIsDragging=!1)},o.onTouchMove=function(a){var u=a.touches,c=u&&u.item(0);if(c){var f=Math.abs(c.clientX-o.initialTouchX),p=Math.abs(c.clientY-o.initialTouchY),g=5;o.userIsDragging=f>g||p>g}},o.onTouchEnd=function(a){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(a.target)&&o.menuListRef&&!o.menuListRef.contains(a.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(a){o.userIsDragging||o.onControlMouseDown(a)},o.onClearIndicatorTouchEnd=function(a){o.userIsDragging||o.onClearIndicatorMouseDown(a)},o.onDropdownIndicatorTouchEnd=function(a){o.userIsDragging||o.onDropdownIndicatorMouseDown(a)},o.handleInputChange=function(a){var u=o.props.inputValue,c=a.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(c,{action:"input-change",prevInputValue:u}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(a){o.props.onFocus&&o.props.onFocus(a),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(a){var u=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(a),o.onInputChange("",{action:"input-blur",prevInputValue:u}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(a){if(!(o.blockOptionHover||o.state.focusedOption===a)){var u=o.getFocusableOptions(),c=u.indexOf(a);o.setState({focusedOption:a,focusedOptionId:c>-1?o.getFocusedOptionId(a):null})}},o.shouldHideSelectedOptions=function(){return Gu(o.props)},o.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),o.focus()},o.onKeyDown=function(a){var u=o.props,c=u.isMulti,f=u.backspaceRemovesValue,p=u.escapeClearsValue,g=u.inputValue,h=u.isClearable,m=u.isDisabled,w=u.menuIsOpen,b=u.onKeyDown,y=u.tabSelectsValue,C=u.openMenuOnFocus,D=o.state,R=D.focusedOption,I=D.focusedValue,x=D.selectValue;if(!m&&!(typeof b=="function"&&(b(a),a.defaultPrevented))){switch(o.blockOptionHover=!0,a.key){case"ArrowLeft":if(!c||g)return;o.focusValue("previous");break;case"ArrowRight":if(!c||g)return;o.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(I)o.removeValue(I);else{if(!f)return;c?o.popValue():h&&o.clearValue()}break;case"Tab":if(o.isComposing||a.shiftKey||!w||!y||!R||C&&o.isOptionSelected(R,x))return;o.selectOption(R);break;case"Enter":if(a.keyCode===229)break;if(w){if(!R||o.isComposing)return;o.selectOption(R);break}return;case"Escape":w?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:g}),o.onMenuClose()):h&&p&&o.clearValue();break;case" ":if(g)return;if(!w){o.openMenu("first");break}if(!R)return;o.selectOption(R);break;case"ArrowUp":w?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":w?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!w)return;o.focusOption("pageup");break;case"PageDown":if(!w)return;o.focusOption("pagedown");break;case"Home":if(!w)return;o.focusOption("first");break;case"End":if(!w)return;o.focusOption("last");break;default:return}a.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++ov),o.state.selectValue=Gi(r.value),r.menuIsOpen&&o.state.selectValue.length){var i=o.getFocusableOptionsWithIds(),l=o.buildFocusableOptions(),s=l.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=i,o.state.focusedOption=l[s],o.state.focusedOptionId=Ka(i,l[s])}return o}return D0(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Ws(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(o){var i=this.props,l=i.isDisabled,s=i.menuIsOpen,a=this.state.isFocused;(a&&!l&&o.isDisabled||a&&s&&!o.menuIsOpen)&&this.focusInput(),a&&l&&!o.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!l&&o.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ws(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,i){this.props.onInputChange(o,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var i=this,l=this.state,s=l.selectValue,a=l.isFocused,u=this.buildFocusableOptions(),c=o==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(s[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(o){var i=this.state,l=i.selectValue,s=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=l.indexOf(s);s||(a=-1);var u=l.length-1,c=-1;if(l.length){switch(o){case"previous":a===0?c=0:a===-1?c=u:c=a-1;break;case"next":a>-1&&a<u&&(c=a+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:l[c]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,l=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var a=0,u=s.indexOf(l);l||(u=-1),o==="up"?a=u>0?u-1:s.length-1:o==="down"?a=(u+1)%s.length:o==="pageup"?(a=u-i,a<0&&(a=0)):o==="pagedown"?(a=u+i,a>s.length-1&&(a=s.length-1)):o==="last"&&(a=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ya):Se(Se({},Ya),this.props.theme):Ya}},{key:"getCommonProps",value:function(){var o=this.clearValue,i=this.cx,l=this.getStyles,s=this.getClassNames,a=this.getValue,u=this.selectOption,c=this.setValue,f=this.props,p=f.isMulti,g=f.isRtl,h=f.options,m=this.hasValue();return{clearValue:o,cx:i,getStyles:l,getClassNames:s,getValue:a,hasValue:m,isMulti:p,isRtl:g,options:h,selectOption:u,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,i=o.isClearable,l=o.isMulti;return i===void 0?l:i}},{key:"isOptionDisabled",value:function(o,i){return Nu(this.props,o,i)}},{key:"isOptionSelected",value:function(o,i){return Wu(this.props,o,i)}},{key:"filterOption",value:function(o,i){return _u(this.props,o,i)}},{key:"formatOptionLabel",value:function(o,i){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(o,{context:i,inputValue:l,selectValue:s})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,i=o.isDisabled,l=o.isSearchable,s=o.inputId,a=o.inputValue,u=o.tabIndex,c=o.form,f=o.menuIsOpen,p=o.required,g=this.getComponents(),h=g.Input,m=this.state,w=m.inputIsHidden,b=m.ariaSelection,y=this.commonProps,C=s||this.getElementId("input"),D=Se(Se(Se({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?d.createElement(h,Pe({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:i,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:a},D)):d.createElement(T1,Pe({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:_i,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:c,value:""},D))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,i=this.getComponents(),l=i.MultiValue,s=i.MultiValueContainer,a=i.MultiValueLabel,u=i.MultiValueRemove,c=i.SingleValue,f=i.Placeholder,p=this.commonProps,g=this.props,h=g.controlShouldRenderValue,m=g.isDisabled,w=g.isMulti,b=g.inputValue,y=g.placeholder,C=this.state,D=C.selectValue,R=C.focusedValue,I=C.isFocused;if(!this.hasValue()||!h)return b?null:d.createElement(f,Pe({},p,{key:"placeholder",isDisabled:m,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),y);if(w)return D.map(function(k,S){var L=k===R,$="".concat(o.getOptionLabel(k),"-").concat(o.getOptionValue(k));return d.createElement(l,Pe({},p,{components:{Container:s,Label:a,Remove:u},isFocused:L,isDisabled:m,key:$,index:S,removeProps:{onClick:function(){return o.removeValue(k)},onTouchEnd:function(){return o.removeValue(k)},onMouseDown:function(F){F.preventDefault()}},data:k}),o.formatOptionLabel(k,"value"))});if(b)return null;var x=D[0];return d.createElement(c,Pe({},p,{data:x,isDisabled:m}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),i=o.ClearIndicator,l=this.commonProps,s=this.props,a=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!this.isClearable()||!i||a||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(i,Pe({},l,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),i=o.LoadingIndicator,l=this.commonProps,s=this.props,a=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!i||!u)return null;var f={"aria-hidden":"true"};return d.createElement(i,Pe({},l,{innerProps:f,isDisabled:a,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),i=o.DropdownIndicator,l=o.IndicatorSeparator;if(!i||!l)return null;var s=this.commonProps,a=this.props.isDisabled,u=this.state.isFocused;return d.createElement(l,Pe({},s,{isDisabled:a,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),i=o.DropdownIndicator;if(!i)return null;var l=this.commonProps,s=this.props.isDisabled,a=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(i,Pe({},l,{innerProps:u,isDisabled:s,isFocused:a}))}},{key:"renderMenu",value:function(){var o=this,i=this.getComponents(),l=i.Group,s=i.GroupHeading,a=i.Menu,u=i.MenuList,c=i.MenuPortal,f=i.LoadingMessage,p=i.NoOptionsMessage,g=i.Option,h=this.commonProps,m=this.state.focusedOption,w=this.props,b=w.captureMenuScroll,y=w.inputValue,C=w.isLoading,D=w.loadingMessage,R=w.minMenuHeight,I=w.maxMenuHeight,x=w.menuIsOpen,k=w.menuPlacement,S=w.menuPosition,L=w.menuPortalTarget,$=w.menuShouldBlockScroll,H=w.menuShouldScrollIntoView,F=w.noOptionsMessage,T=w.onMenuScrollToTop,J=w.onMenuScrollToBottom;if(!x)return null;var X=function(Z,se){var Oe=Z.type,K=Z.data,ne=Z.isDisabled,le=Z.isSelected,He=Z.label,Ve=Z.value,qe=m===K,at=ne?void 0:function(){return o.onOptionHover(K)},Me=ne?void 0:function(){return o.selectOption(K)},Le="".concat(o.getElementId("option"),"-").concat(se),Te={id:Le,onClick:Me,onMouseMove:at,onMouseOver:at,tabIndex:-1,role:"option","aria-selected":o.isAppleDevice?void 0:le};return d.createElement(g,Pe({},h,{innerProps:Te,data:K,isDisabled:ne,isSelected:le,key:Le,label:He,type:Oe,value:Ve,isFocused:qe,innerRef:qe?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(Z.data,"menu"))},te;if(this.hasOptions())te=this.getCategorizedOptions().map(function(ae){if(ae.type==="group"){var Z=ae.data,se=ae.options,Oe=ae.index,K="".concat(o.getElementId("group"),"-").concat(Oe),ne="".concat(K,"-heading");return d.createElement(l,Pe({},h,{key:K,data:Z,options:se,Heading:s,headingProps:{id:ne,data:ae.data},label:o.formatGroupLabel(ae.data)}),ae.options.map(function(le){return X(le,"".concat(Oe,"-").concat(le.index))}))}else if(ae.type==="option")return X(ae,"".concat(ae.index))});else if(C){var he=D({inputValue:y});if(he===null)return null;te=d.createElement(f,h,he)}else{var ue=F({inputValue:y});if(ue===null)return null;te=d.createElement(p,h,ue)}var Q={minMenuHeight:R,maxMenuHeight:I,menuPlacement:k,menuPosition:S,menuShouldScrollIntoView:H},j=d.createElement(dp,Pe({},h,Q),function(ae){var Z=ae.ref,se=ae.placerProps,Oe=se.placement,K=se.maxHeight;return d.createElement(a,Pe({},h,Q,{innerRef:Z,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove},isLoading:C,placement:Oe}),d.createElement($1,{captureEnabled:b,onTopArrive:T,onBottomArrive:J,lockEnabled:$},function(ne){return d.createElement(u,Pe({},h,{innerRef:function(He){o.getMenuListRef(He),ne(He)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:o.getElementId("listbox")},isLoading:C,maxHeight:K,focusedOption:m}),te)}))});return L||S==="fixed"?d.createElement(c,Pe({},h,{appendTo:L,controlElement:this.controlRef,menuPlacement:k,menuPosition:S}),j):j}},{key:"renderFormField",value:function(){var o=this,i=this.props,l=i.delimiter,s=i.isDisabled,a=i.isMulti,u=i.name,c=i.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!s)return d.createElement(N1,{name:u,onFocus:this.onValueInputFocus});if(!(!u||s))if(a)if(l){var p=f.map(function(m){return o.getOptionValue(m)}).join(l);return d.createElement("input",{name:u,type:"hidden",value:p})}else{var g=f.length>0?f.map(function(m,w){return d.createElement("input",{key:"i-".concat(w),name:u,type:"hidden",value:o.getOptionValue(m)})}):d.createElement("input",{name:u,type:"hidden",value:""});return d.createElement("div",null,g)}else{var h=f[0]?this.getOptionValue(f[0]):"";return d.createElement("input",{name:u,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,i=this.state,l=i.ariaSelection,s=i.focusedOption,a=i.focusedValue,u=i.isFocused,c=i.selectValue,f=this.getFocusableOptions();return d.createElement(E1,Pe({},o,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:s,focusedValue:a,isFocused:u,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var o=this.getComponents(),i=o.Control,l=o.IndicatorsContainer,s=o.SelectContainer,a=o.ValueContainer,u=this.props,c=u.className,f=u.id,p=u.isDisabled,g=u.menuIsOpen,h=this.state.isFocused,m=this.commonProps=this.getCommonProps();return d.createElement(s,Pe({},m,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:h}),this.renderLiveRegion(),d.createElement(i,Pe({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:h,menuIsOpen:g}),d.createElement(a,Pe({},m,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),d.createElement(l,Pe({},m,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,i){var l=i.prevProps,s=i.clearFocusValueOnUpdate,a=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,c=i.isFocused,f=i.prevWasFocused,p=i.instancePrefix,g=o.options,h=o.value,m=o.menuIsOpen,w=o.inputValue,b=o.isMulti,y=Gi(h),C={};if(l&&(h!==l.value||g!==l.options||m!==l.menuIsOpen||w!==l.inputValue)){var D=m?tv(o,y):[],R=m?nc(Pi(o,y),"".concat(p,"-option")):[],I=s?nv(i,y):null,x=rv(i,D),k=Ka(R,x);C={selectValue:y,focusedOption:x,focusedOptionId:k,focusableOptionsWithIds:R,focusedValue:I,clearFocusValueOnUpdate:!1}}var S=a!=null&&o!==l?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},L=u,$=c&&f;return c&&!$&&(L={value:zo(b,y,y[0]||null),options:y,action:"initial-input-focus"},$=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(L=null),Se(Se(Se({},C),S),{},{prevProps:o,ariaSelection:L,prevWasFocused:$})}}]),n}(d.Component);$l.defaultProps=ev;var iv=d.forwardRef(function(e,t){var n=eu(e);return d.createElement($l,Pe({ref:t},n))}),Xu=iv;const av=e=>{const{Menu:t}=Al,{children:n,...r}=e;return d.createElement(t,{...r},n)},lv=It("div")({name:"Wrap",class:"wg6ppx4",propsAsIs:!1}),sv=It("div")({name:"PortalWrap",class:"p7jnwoo",propsAsIs:!1}),cv=It("div")({name:"ReadOnlyWrap",class:"raz52dj",propsAsIs:!1}),uv=e=>{const{value:t,onFinishedEditing:n,initialValue:r,portalElementRef:o}=e,{allowedValues:i,value:l}=t.data,[s,a]=d.useState(l),[u,c]=d.useState(r??""),f=Hc(),p=d.useMemo(()=>i.map(g=>typeof g=="string"||g===null||g===void 0?{value:g,label:(g==null?void 0:g.toString())??""}:g),[i]);return t.readonly?d.createElement(cv,null,d.createElement($r,{highlight:!0,autoFocus:!1,disabled:!0,value:s??"",onChange:()=>{}})):d.createElement(lv,null,d.createElement(Xu,{className:"glide-select",inputValue:u,onInputChange:c,menuPlacement:"auto",value:p.find(g=>g.value===s),styles:{control:g=>({...g,border:0,boxShadow:"none"}),option:(g,{isFocused:h})=>({...g,fontSize:f.editorFontSize,fontFamily:f.fontFamily,cursor:h?"pointer":void 0,paddingLeft:f.cellHorizontalPadding,paddingRight:f.cellHorizontalPadding,":active":{...g[":active"],color:f.accentFg},":empty::after":{content:'"&nbsp;"',visibility:"hidden"}})},theme:g=>({...g,colors:{...g.colors,neutral0:f.bgCell,neutral5:f.bgCell,neutral10:f.bgCell,neutral20:f.bgCellMedium,neutral30:f.bgCellMedium,neutral40:f.bgCellMedium,neutral50:f.textLight,neutral60:f.textMedium,neutral70:f.textMedium,neutral80:f.textDark,neutral90:f.textDark,neutral100:f.textDark,primary:f.accentColor,primary75:f.accentColor,primary50:f.accentColor,primary25:f.accentLight}}),menuPortalTarget:(o==null?void 0:o.current)??document.getElementById("portal"),autoFocus:!0,openMenuOnFocus:!0,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,Menu:g=>d.createElement(sv,null,d.createElement(av,{className:"click-outside-ignore",...g}))},options:p,onChange:async g=>{g!==null&&(a(g.value),await new Promise(h=>window.requestAnimationFrame(h)),n({...t,data:{...t.data,value:g.value}}))}}))},Uu={kind:U.Custom,isMatch:e=>e.data.kind==="dropdown-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{value:i}=t.data,l=t.data.allowedValues.find(a=>typeof a=="string"||a===null||a===void 0?a===i:a.value===i),s=typeof l=="string"?l:(l==null?void 0:l.label)??"";return s&&(n.fillStyle=r.textDark,n.fillText(s,o.x+r.cellHorizontalPadding,o.y+o.height/2+Yt(n,r))),!0},measure:(e,t,n)=>{const{value:r}=t.data;return(r?e.measureText(r).width:0)+n.cellHorizontalPadding*2},provideEditor:()=>({editor:uv,disablePadding:!0,deletedValue:e=>({...e,copyData:"",data:{...e.data,value:""}})}),onPaste:(e,t)=>({...t,value:t.allowedValues.some(n=>n==null?!1:typeof n=="string"?n===e:n.value===e)?e:t.value})},dv=d.lazy(async()=>await fl(()=>import("./article-cell-editor-BzMcExxA.js"),__vite__mapDeps([12,1,2,4,13]),import.meta.url)),fv={kind:U.Custom,isMatch:e=>e.data.kind==="article-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{markdown:i}=t.data;let l=i;l.includes(`
`)&&(l=l.split(/\r?\n/)[0]);const s=o.width/4;return l.length>s&&(l=l.slice(0,s)),n.fillStyle=r.textDark,n.fillText(l,o.x+r.cellHorizontalPadding,o.y+o.height/2+Yt(n,r)),!0},provideEditor:()=>({editor:e=>d.createElement(d.Suspense,{fallback:null},d.createElement(dv,{...e})),styleOverride:{position:"fixed",left:"12.5vw",top:"12.5vh",width:"75vw",borderRadius:"9px",maxWidth:"unset",maxHeight:"unset"},disablePadding:!0}),onPaste:(e,t)=>({...t,markdown:e})};function hv(e,t){const n=/(\d+\.?\d*)\s*(px|rem|em|%|pt)/,r=e.match(n);if(r){const o=parseFloat(r[1]),i=r[2],l=o*t;return e.replace(n,`${Number(l.toPrecision(3))}${i}`)}return e}const gv={marginRight:8},mv={display:"flex",alignItems:"center",flexGrow:1},pv={kind:U.Custom,isMatch:e=>e.data.kind==="range-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o}=e,{min:i,max:l,value:s,label:a,measureLabel:u}=t.data,c=o.x+r.cellHorizontalPadding,f=o.y+o.height/2,p=l-i,g=(s-i)/p,h=`${hv(r.baseFontStyle,.9)} ${r.fontFamily}`,w=vl(n,h)/2;n.save();let b=0;a!==void 0&&(n.font=h,b=fn(u??a,n,h).width+r.cellHorizontalPadding);const y=o.width-r.cellHorizontalPadding*2-b;if(y>=w){const C=n.createLinearGradient(c,f,c+y,f);C.addColorStop(0,r.accentColor),C.addColorStop(g,r.accentColor),C.addColorStop(g,r.bgBubble),C.addColorStop(1,r.bgBubble),n.beginPath(),n.fillStyle=C,Go(n,c,f-w/2,y,w,w/2),n.fill(),n.beginPath(),Go(n,c+.5,f-w/2+.5,y-1,w-1,(w-1)/2),n.strokeStyle=r.accentLight,n.lineWidth=1,n.stroke()}return a!==void 0&&(n.textAlign="right",n.fillStyle=r.textDark,n.fillText(a,o.x+o.width-r.cellHorizontalPadding,f+Yt(n,h))),n.restore(),!0},provideEditor:()=>e=>{const{data:t,readonly:n}=e.value,r=t.value.toString(),o=t.min.toString(),i=t.max.toString(),l=t.step.toString(),s=a=>{e.onChange({...e.value,data:{...t,value:Number(a.target.value)}})};return d.createElement("label",{style:mv},d.createElement("input",{style:gv,type:"range",value:r,min:o,max:i,step:l,onChange:s,disabled:n}),r)},onPaste:(e,t)=>{let n=Number.parseFloat(e);return n=Number.isNaN(n)?t.value:Math.max(t.min,Math.min(t.max,n)),{...t,value:n}}},vv={kind:U.Custom,isMatch:e=>e.data.kind==="spinner-cell",draw:e=>{const{ctx:t,theme:n,rect:r,requestAnimationFrame:o}=e,i=window.performance.now()%1e3/1e3,l=r.x+r.width/2,s=r.y+r.height/2;return t.beginPath(),t.arc(l,s,Math.min(12,r.height/6),Math.PI*2*i,Math.PI*2*i+Math.PI*1.5),t.strokeStyle=n.textMedium,t.lineWidth=1.5,t.stroke(),t.lineWidth=1,o(),!0},provideEditor:()=>{}},bv=It("input")({name:"StyledInputBox",class:"s1b2b8y4",propsAsIs:!1}),ja=(e,t,n)=>{if(t==null)return"";n&&(t=new Date(t.getTime()+n));const r=t.toISOString();switch(e){case"date":return r.split("T")[0];case"datetime-local":return r.replace("Z","");case"time":return r.split("T")[1].replace("Z","");default:throw new Error(`Unknown date kind ${e}`)}},wv=e=>{const t=e.value.data,{format:n,displayDate:r}=t,o=t.step!==void 0&&!Number.isNaN(Number(t.step))?Number(t.step):void 0,i=t.timezoneOffset?t.timezoneOffset*60*1e3:0,l=t.min instanceof Date?ja(n,t.min,i):t.min,s=t.max instanceof Date?ja(n,t.max,i):t.max,a=ja(n,t.date,i);return e.value.readonly?Mt.createElement($r,{highlight:!0,autoFocus:!1,disabled:!0,value:r??"",onChange:()=>{}}):Mt.createElement(bv,{"data-testid":"date-picker-cell",required:!0,type:n,defaultValue:a,min:l,max:s,step:o,autoFocus:!0,onChange:u=>{isNaN(u.target.valueAsNumber)?e.onChange({...e.value,data:{...e.value.data,date:void 0}}):e.onChange({...e.value,data:{...e.value.data,date:new Date(u.target.valueAsNumber-i)}})}})},yv={kind:U.Custom,isMatch:e=>e.data.kind==="date-picker-cell",draw:(e,t)=>{const{displayDate:n}=t.data;return Cf(e,n,t.contentAlign),!0},measure:(e,t,n)=>{const{displayDate:r}=t.data;return e.measureText(r).width+n.cellHorizontalPadding*2},provideEditor:()=>({editor:wv}),onPaste:(e,t)=>{let n=NaN;return e&&(n=Number(e).valueOf(),Number.isNaN(n)&&(n=Date.parse(e),t.format==="time"&&Number.isNaN(n)&&(n=Date.parse(`1970-01-01T${e}Z`)))),{...t,date:Number.isNaN(n)?void 0:new Date(n)}}};function oc(e){if(e.cell.data.navigateOn!=="click"!==e.ctrlKey)return;const r=document.createElement("canvas").getContext("2d",{alpha:!1});if(r===null)return;const{posX:o,bounds:i,cell:l,theme:s}=e,a=s.baseFontFull;r.font=a;const{links:u}=l.data,c=s.cellHorizontalPadding;let f=i.x+c;const p=i.x+o;for(const[g,h]of u.entries()){const m=g<u.length-1,w=fn(h.title,r),b=m?fn(h.title+",",r,a):w;if(p>f&&p<f+w.width)return h;f+=b.width+4}}const Cv={kind:U.Custom,needsHover:!0,needsHoverPosition:!0,isMatch:e=>e.data.kind==="links-cell",onSelect:e=>{oc(e)!==void 0&&e.preventDefault()},onClick:e=>{var n;const t=oc(e);t!==void 0&&((n=t.onClick)==null||n.call(t),e.preventDefault())},draw:(e,t)=>{var m;const{ctx:n,rect:r,theme:o,hoverX:i=-100,highlighted:l}=e,{links:s,underlineOffset:a=5}=t.data,u=o.cellHorizontalPadding;let c=r.x+u;const f=r.x+i,p=o.baseFontFull,g=Yt(n,p),h=r.y+r.height/2+g;for(const[w,b]of s.entries()){const y=w<s.length-1,C=fn(b.title,n,p),D=y?fn(b.title+",",n,p):C;f>c&&f<c+C.width&&((m=e.overrideCursor)==null||m.call(e,"pointer"),n.moveTo(c,Math.floor(h+a)+.5),n.lineTo(c+C.width,Math.floor(h+a)+.5),n.strokeStyle=o.textDark,n.stroke(),n.fillStyle=l?dn(o.accentLight,o.bgCell):o.bgCell,n.fillText(y?b.title+",":b.title,c-1,h),n.fillText(y?b.title+",":b.title,c+1,h),n.fillText(y?b.title+",":b.title,c-2,h),n.fillText(y?b.title+",":b.title,c+2,h)),n.fillStyle=o.textDark,n.fillText(y?b.title+",":b.title,c,h),c+=D.width+4}return!0},provideEditor:()=>e=>{const{value:t,onChange:n}=e,{links:r,maxLinks:o=Number.MAX_SAFE_INTEGER}=t.data;return d.createElement(Sv,{onKeyDown:xv},r.map((i,l)=>d.createElement(kv,{key:l,link:i.href??"",title:i.title,focus:l===0,onDelete:r.length>1?()=>{const s=[...r];s.splice(l,1),n({...t,data:{...t.data,links:s}})}:void 0,onChange:(s,a)=>{const u=[...r];u[l]={href:s,title:a},n({...t,data:{...t.data,links:u}})}})),d.createElement("button",{disabled:r.length>=o,className:"add-link",onClick:()=>{const i=[...r,{title:""}];n({...t,data:{...t.data,links:i}})}},"Add link"))},onPaste:(e,t)=>{const n=e.split(",");if(!t.links.some((r,o)=>n[o]!==r.title))return{...t,links:n.map(r=>({title:r}))}}},Sv=It("div")({name:"LinksCellEditorStyle",class:"lld219p",propsAsIs:!1});function xv(e){e.key==="Tab"&&e.stopPropagation()}const kv=e=>{const{link:t,onChange:n,title:r,onDelete:o,focus:i}=e;return d.createElement("div",{className:"gdg-link-title-editor"},d.createElement("input",{className:"gdg-title-input",value:r,placeholder:"Title",autoFocus:i,onChange:l=>{n(t,l.target.value)}}),d.createElement("input",{className:"gdg-link-input",value:t,placeholder:"URL",onChange:l=>{n(l.target.value,r)}}),o!==void 0&&d.createElement("button",{onClick:o},d.createElement("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",id:"icon-import",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M3 6L5 6L21 6",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M17.9019 6C18.491 6 18.9525 6.50676 18.8975 7.09334L17.67 20.1867C17.5736 21.2144 16.711 22 15.6787 22H8.32127C7.28902 22 6.42635 21.2144 6.33 20.1867L5.1025 7.09334C5.04751 6.50676 5.50898 6 6.09813 6H17.9019Z",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M14.4499 10.211L13.9949 17",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M9.55499 10.211L10.0049 17",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}),d.createElement("path",{d:"M7.5 2.25H16.5",stroke:"currentColor",strokeWidth:"1px",strokeLinecap:"round",strokeLinejoin:"round"}))))};function qa(e,t,n){if(typeof e=="string")return t[e]!==void 0?t[e]:e;let[r,o]=e;return t[r]!==void 0&&(r=t[r]),t[o]!==void 0&&(o=t[o]),uf(r,o,n)}function ic(e,t,n,r){const o=Math.floor(e.x+r.cellHorizontalPadding+1),i=Math.floor(e.y+r.cellVerticalPadding+1),l=Math.ceil(e.width-r.cellHorizontalPadding*2-1),s=Math.ceil(e.height-r.cellVerticalPadding*2-1);return t!==void 0&&n!==void 0&&t+e.x>=o&&t+e.x<o+l&&n+e.y>=i&&n+e.y<i+s}const Mv={kind:U.Custom,isMatch:e=>e.data.kind==="button-cell",needsHoverPosition:!0,needsHover:!0,onSelect:e=>e.preventDefault(),onClick:e=>{var l,s;const{cell:t,theme:n,bounds:r,posX:o,posY:i}=e;ic(r,o,i,n)&&((s=(l=t.data).onClick)==null||s.call(l))},drawPrep:e=>{const{ctx:t}=e;return t.textAlign="center",{deprep:n=>{n.ctx.textAlign="start"}}},draw:(e,t)=>{var x,k;const{ctx:n,theme:r,rect:o,hoverX:i,hoverY:l,frameTime:s,drawState:a}=e,{title:u,backgroundColor:c,color:f,borderColor:p,borderRadius:g}=t.data,h=Math.floor(o.x+r.cellHorizontalPadding+1),m=Math.floor(o.y+r.cellVerticalPadding+1),w=Math.ceil(o.width-r.cellHorizontalPadding*2-1),b=Math.ceil(o.height-r.cellVerticalPadding*2-1);if(w<=0||b<=0)return!0;const y=ic(o,i,l,r);let[C,D]=a;y&&((x=e.overrideCursor)==null||x.call(e,"pointer")),C??(C={hovered:!1,animationStartTime:0}),y!==C.hovered&&(C={...C,hovered:y,animationStartTime:s},D(C));const R=Math.min(1,(s-C.animationStartTime)/200),I=y?R:1-R;return R<1&&((k=e.requestAnimationFrame)==null||k.call(e)),c!==void 0&&(n.beginPath(),Go(n,h,m,w,b,g??r.roundingRadius??0),n.fillStyle=qa(c,r,I),n.fill()),p!==void 0&&(n.beginPath(),Go(n,h+.5,m+.5,w-1,b-1,g??r.roundingRadius??0),n.strokeStyle=qa(p,r,I),n.lineWidth=1,n.stroke()),n.fillStyle=qa(f??r.accentColor,r,I),n.fillText(u,h+w/2,m+b/2+Yt(n,r.baseFontFull)),!0},provideEditor:void 0},Za=16;function ac(e,t,n,r,o){return e>=n+r.cellHorizontalPadding-4&&e<=n+r.cellHorizontalPadding+18&&t>=o/2-9&&t<=o/2+9}const Ev={kind:U.Custom,isMatch:e=>e.data.kind==="tree-view-cell",needsHover:!0,needsHoverPosition:!0,onClick:e=>{const{theme:t,bounds:n,posX:r,posY:o,cell:i}=e,{height:l}=n,{canOpen:s,depth:a,onClickOpener:u}=i.data;return!s||u===void 0?void 0:ac(r,o,a*Za,t,l)?u(i):void 0},measure:(e,t,n)=>{const{text:r,depth:o}=t.data;return e.measureText(r).width+n.cellHorizontalPadding*2+(o+2)*Za},draw:(e,t)=>{var b;const{ctx:n,theme:r,rect:o,hoverX:i=0,hoverY:l=0}=e,{x:s,y:a,height:u}=o,{canOpen:c,depth:f,text:p,isOpen:g}=t.data,h=Yt(n,r),m=f*Za,w=a+u/2;if(c){const y=ac(i,l,m,r,u);g?(n.moveTo(m+s+r.cellHorizontalPadding,w-2.5),n.lineTo(m+s+r.cellHorizontalPadding+5,w+2.5),n.lineTo(m+s+r.cellHorizontalPadding+10,w-2.5)):(n.moveTo(m+s+r.cellHorizontalPadding+2.5,w-5),n.lineTo(m+s+r.cellHorizontalPadding+2.5+5,w),n.lineTo(m+s+r.cellHorizontalPadding+2.5,w+5)),n.strokeStyle=y?r.textMedium:r.textLight,n.lineWidth=2,n.stroke(),y&&((b=e.overrideCursor)==null||b.call(e,"pointer"))}return n.fillStyle=r.textDark,n.fillText(p,16+s+m+r.cellHorizontalPadding+.5,a+u/2+h),!0},provideEditor:void 0};var Iv=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],lc=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=String(t).toLowerCase(),i=String(r.getOptionValue(n)).toLowerCase(),l=String(r.getOptionLabel(n)).toLowerCase();return i===o||l===o},Ja={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,r,o){return!(!t||n.some(function(i){return lc(t,i,o)})||r.some(function(i){return lc(t,i,o)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function Rv(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,o=r===void 0?"last":r,i=e.formatCreateLabel,l=i===void 0?Ja.formatCreateLabel:i,s=e.isValidNewOption,a=s===void 0?Ja.isValidNewOption:s,u=e.getNewOptionData,c=u===void 0?Ja.getNewOptionData:u,f=e.onCreateOption,p=e.options,g=p===void 0?[]:p,h=e.onChange,m=Kn(e,Iv),w=m.getOptionValue,b=w===void 0?zu:w,y=m.getOptionLabel,C=y===void 0?Au:y,D=m.inputValue,R=m.isLoading,I=m.isMulti,x=m.value,k=m.name,S=d.useMemo(function(){return a(D,Gi(x),g,{getOptionValue:b,getOptionLabel:C})?c(D,l(D)):void 0},[l,c,C,b,D,a,g,x]),L=d.useMemo(function(){return(n||!R)&&S?o==="first"?[S].concat(mo(g)):[].concat(mo(g),[S]):g},[n,o,R,S,g]),$=d.useCallback(function(H,F){if(F.action!=="select-option")return h(H,F);var T=Array.isArray(H)?H:[H];if(T[T.length-1]===S){if(f)f(D);else{var J=c(D,D),X={action:"create-option",name:k,option:J};h(zo(I,[].concat(mo(Gi(x)),[J]),J),X)}return}h(H,F)},[c,D,I,k,S,f,h,x]);return Se(Se({},m),{},{options:L,onChange:$})}var Dv=d.forwardRef(function(e,t){var n=eu(e),r=Rv(n);return d.createElement($l,Pe({ref:t},r))}),Pv=Dv;const Vl="__value",Ov=new RegExp(`^${Vl}\\d+__`),Tv=It("div")({name:"Wrap",class:"w18ots60",propsAsIs:!1}),Fv=It("div")({name:"PortalWrap",class:"p2ix37",propsAsIs:!1}),Oi=e=>e.map(t=>typeof t=="string"||t===null||t===void 0?{value:t,label:t??"",color:void 0}:{value:t.value,label:t.label??t.value??"",color:t.color??void 0}),Yu=(e,t,n)=>e==null?[]:e.map((r,o)=>{const i=n?`${Vl}${o}__`:"",l=t.find(s=>s.value===r);return l?{...l,value:`${i}${l.value}`}:{value:`${i}${r}`,label:r}}),Hv=e=>{const{Menu:t}=Al,{children:n,...r}=e;return d.createElement(t,{...r},n)},Lv=e=>{const{value:t,initialValue:n,onChange:r,onFinishedEditing:o,portalElementRef:i}=e,{options:l,values:s,allowCreation:a,allowDuplicates:u}=t.data,c=Hc(),[f,p]=d.useState(s),[g,h]=d.useState(!0),[m,w]=d.useState(n??""),b=d.useMemo(()=>Oi(l??[]),[l]),y=a&&u&&b.length===0,C=d.useCallback(k=>{g&&k.stopPropagation()},[g]),D={control:(k,S)=>({...k,border:0,boxShadow:"none",backgroundColor:c.bgCell,pointerEvents:S.isDisabled?"auto":k.pointerEvents,cursor:S.isDisabled?"default":k.cursor}),valueContainer:k=>({...k,flexWrap:k.flexWrap??"wrap",overflowX:"auto",overflowY:"hidden"}),menu:k=>({...k,backgroundColor:c.bgCell}),option:(k,S)=>({...k,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textDark,...S.isFocused?{backgroundColor:c.accentLight,cursor:"pointer"}:{},":active":{...k[":active"],color:c.accentFg,backgroundColor:c.accentColor}}),input:(k,{isDisabled:S})=>S?{display:"none"}:{...k,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textDark},placeholder:k=>({...k,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textLight}),noOptionsMessage:k=>({...k,fontSize:c.editorFontSize,fontFamily:c.fontFamily,color:c.textLight}),clearIndicator:k=>({...k,color:c.textLight,":hover":{color:c.textDark,cursor:"pointer"}}),multiValue:(k,{data:S})=>({...k,backgroundColor:S.color??c.bgBubble,borderRadius:`${c.roundingRadius??c.bubbleHeight/2}px`,flexShrink:0,whiteSpace:"nowrap"}),multiValueLabel:(k,{data:S,isDisabled:L})=>({...k,paddingRight:L?c.bubblePadding:0,paddingLeft:c.bubblePadding,paddingTop:0,paddingBottom:0,color:S.color?el(S.color)>.5?"black":"white":c.textBubble,fontSize:c.editorFontSize,fontFamily:c.fontFamily,justifyContent:"center",alignItems:"center",display:"flex",height:c.bubbleHeight,whiteSpace:"nowrap"}),multiValueRemove:(k,{data:S,isDisabled:L,isFocused:$})=>L?{display:"none"}:{...k,color:S.color?el(S.color)>.5?"black":"white":c.textBubble,backgroundColor:void 0,borderRadius:$?`${c.roundingRadius??c.bubbleHeight/2}px`:void 0,":hover":{cursor:"pointer"}}},R=d.useCallback(k=>{const S=k.map(L=>u&&L.startsWith(Vl)?L.replace(new RegExp(Ov),""):L);p(S),r({...t,data:{...t.data,values:S}})},[t,r,u]),I=k=>{if(!k.nativeEvent.isComposing)switch(k.key){case"Enter":case"Tab":if(!m){o(t,[0,1]);return}u&&a&&(w(""),R([...f??[],m]),h(!1),k.preventDefault())}},x=a?Pv:Xu;return d.createElement(Tv,{onKeyDown:C,"data-testid":"multi-select-cell"},d.createElement(x,{className:"gdg-multi-select",isMulti:!0,isDisabled:t.readonly,isClearable:!0,isSearchable:!0,inputValue:m,onInputChange:w,options:b,placeholder:t.readonly?"":a?"Add...":void 0,noOptionsMessage:k=>a&&u&&k.inputValue?`Create "${k.inputValue}"`:void 0,menuIsOpen:t.readonly?!1:g,onMenuOpen:()=>h(!0),onMenuClose:()=>h(!1),value:Yu(f,b,u),onKeyDown:t.readonly?void 0:I,menuPlacement:"auto",menuPortalTarget:(i==null?void 0:i.current)??document.getElementById("portal"),autoFocus:!0,openMenuOnFocus:!0,openMenuOnClick:!0,closeMenuOnSelect:!0,backspaceRemovesValue:!0,escapeClearsValue:!1,styles:D,components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null,Menu:k=>y?null:d.createElement(Fv,null,d.createElement(Hv,{className:"click-outside-ignore",...k}))},onChange:async k=>{k!==null&&R(k.map(S=>S.value))}}))},Ku={kind:U.Custom,isMatch:e=>e.data.kind==="multi-select-cell",draw:(e,t)=>{const{ctx:n,theme:r,rect:o,highlighted:i}=e,{values:l,options:s}=t.data;if(l==null)return!0;const a=Oi(s??[]),u={x:o.x+r.cellHorizontalPadding,y:o.y+r.cellVerticalPadding,width:o.width-2*r.cellHorizontalPadding,height:o.height-2*r.cellVerticalPadding},c=Math.max(1,Math.floor(u.height/(r.bubbleHeight+r.bubblePadding)));let{x:f}=u,p=1,g=c===1?u.y+(u.height-r.bubbleHeight)/2:u.y+(u.height-c*r.bubbleHeight-(c-1)*r.bubblePadding)/2;for(const h of l){const m=a.find(R=>R.value===h),w=(m==null?void 0:m.color)??(i?r.bgBubbleSelected:r.bgBubble),b=(m==null?void 0:m.label)??h,C=fn(b,n).width+r.bubblePadding*2,D=r.bubbleHeight/2;if(f!==u.x&&f+C>u.x+u.width&&p<c&&(p++,g+=r.bubbleHeight+r.bubblePadding,f=u.x),n.fillStyle=w,n.beginPath(),An(n,f,g,C,r.bubbleHeight,r.roundingRadius??r.bubbleHeight/2),n.fill(),n.fillStyle=m!=null&&m.color?el(w)>.5?"#000000":"#ffffff":r.textBubble,n.fillText(b,f+r.bubblePadding,g+D+Yt(n,r)),f+=C+r.bubbleMargin,f>u.x+u.width+r.cellHorizontalPadding&&p>=c)break}return!0},measure:(e,t,n)=>{const{values:r,options:o}=t.data;if(!r)return n.cellHorizontalPadding*2;const i=Yu(r,Oi(o??[]),t.data.allowDuplicates).map(s=>s.label??s.value),l=i.reduce((s,a)=>e.measureText(a).width+s+n.bubblePadding*2+n.bubbleMargin,0);return i.length===0?n.cellHorizontalPadding*2:l+2*n.cellHorizontalPadding-n.bubbleMargin},provideEditor:()=>({editor:Lv,disablePadding:!0,deletedValue:e=>({...e,copyData:"",data:{...e.data,values:[]}})}),onPaste:(e,t)=>{if(!e||!e.trim())return{...t,values:[]};let n=e.split(",").map(r=>r.trim());if(t.allowDuplicates||(n=n.filter((r,o)=>n.indexOf(r)===o)),!t.allowCreation){const r=Oi(t.options??[]);n=n.filter(o=>r.find(i=>i.value===o))}if(n.length!==0)return{...t,values:n}}},ju=[p0,v0,S0,x0,Uu,fv,vv,pv,yv,Cv,Mv,Ev,Ku],Av=(e,t,n,r)=>{switch(t){case"debounce":return Gd(e,n,r);case"throttle":return _d(e,n,r);default:return e}},zv=e=>{const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])},$v=e=>{const[t,n]=d.useState((e==null?void 0:e.current)||null);return e&&setTimeout(()=>{e.current!==t&&n(e.current)},0),{refProxy:d.useMemo(()=>new Proxy(o=>{o!==t&&n(o)},{get(o,i){return i==="current"?t:o[i]},set(o,i,l){return i==="current"?n(l):o[i]=l,!0}}),[t]),refElement:t,setRefElement:n}},Vv=(e,t)=>{var n,r;const o=(n=e.borderBoxSize)===null||n===void 0?void 0:n[0],i=(r=e.contentBoxSize)===null||r===void 0?void 0:r[0];return t==="border-box"&&o?{width:o.inlineSize,height:o.blockSize}:t==="content-box"&&i?{width:i.inlineSize,height:i.blockSize}:{width:e.contentRect.width,height:e.contentRect.height}};function Bv({skipOnMount:e=!1,refreshMode:t,refreshRate:n=1e3,refreshOptions:r,handleWidth:o=!0,handleHeight:i=!0,targetRef:l,observerOptions:s,onResize:a,disableRerender:u=!1}={}){const c=d.useRef(e),f=zv(a),[p,g]=d.useState({width:void 0,height:void 0}),h=d.useRef({width:void 0,height:void 0}),{refProxy:m,refElement:w}=$v(l),{box:b}=s||{},y=d.useCallback(D=>{if(!o&&!i)return;if(c.current){c.current=!1;return}const R=(I,x)=>o&&I.width!==x.width||i&&I.height!==x.height;D.forEach(I=>{const x=Vv(I,b);u?R(h.current,x)&&(h.current.width=x.width,h.current.height=x.height,f==null||f({width:x.width,height:x.height,entry:I})):g(k=>R(k,x)?(f==null||f({width:x.width,height:x.height,entry:I}),x):k)})},[o,i,c,b,u]),C=d.useCallback(Av(y,t,n,r),[y,t,n,r]);return d.useEffect(()=>{let D;if(w)try{D=new window.ResizeObserver(C),D.observe(w,s)}catch(R){console.warn("ResizeObserver not supported or failed to initialize:",R)}else(p.width||p.height)&&(f==null||f({width:null,height:null,entry:null}),h.current.width=void 0,h.current.height=void 0,u||g({width:void 0,height:void 0}));return()=>{var R,I,x;(R=D==null?void 0:D.disconnect)===null||R===void 0||R.call(D),(x=(I=C).cancel)===null||x===void 0||x.call(I)}},[C,w]),Object.assign({ref:m},u?h.current:p)}const Nv=It("div")({name:"SimpleWrapper",class:"s1wvhs74",propsAsIs:!1}),Wv=e=>d.createElement(Nv,null,d.createElement("div",{className:"content"},e.children)),_v={title:"Extra Packages/Cells",decorators:[e=>d.createElement(Wv,null,d.createElement(e,null))]},Gv=It("div")({name:"BeautifulStyle",class:"b16aqpip",propsAsIs:!1}),qu=e=>{const{title:t,children:n,description:r}=e,{ref:o,width:i,height:l}=Bv();return d.createElement(Gv,null,d.createElement("h1",null,t),r,d.createElement("div",{className:"sizer"},d.createElement("div",{className:"sizer-clip",ref:o},d.createElement("div",{style:{position:"relative",width:i??100,height:l??100}},n))))},Zu=It("p")({name:"Description",class:"d1npx1y",propsAsIs:!1}),Ju={smoothScrollX:!0,smoothScrollY:!0,isDraggable:!1,rowMarkers:"none",width:"100%"};let tn=1;function Gt(){return(tn=tn*16807%2147483647)/2147483647}const ir=[{tag:"Bug",color:"#ff4d4d35"},{tag:"Feature",color:"#35f8ff35"},{tag:"Enhancement",color:"#48ff5735"},{tag:"First Issue",color:"#436fff35"},{tag:"PR",color:"#e0ff3235"},{tag:"Assigned",color:"#ff1eec35"}],ho=()=>d.createElement(qu,{title:"Custom cells",description:d.createElement(Zu,null,"Some of our extension cells.")},d.createElement(Qc,{...Ju,customRenderers:ju,onPaste:!0,onCellEdited:(...e)=>console.log("Edit Cell",...e),getCellsForSelection:!0,getCellContent:e=>{const[t,n]=e;if(t===0)return{kind:U.Custom,allowOverlay:!0,copyData:"4",data:{kind:"star-cell",label:"Test",rating:4}};if(t===1){tn=n+1;const r=Xn(0,15).map(()=>Gt()*100-50);return{kind:U.Custom,allowOverlay:!1,copyData:"4",data:{kind:"sparkline-cell",values:r,displayValues:r.map(o=>Math.round(o).toString()),color:n%2===0?"#77c4c4":"#D98466",yAxis:[-50,50]}}}else if(t===2){tn=n+1;const r=Xn(0,15).map(()=>Gt()*100-50);return{kind:U.Custom,allowOverlay:!1,copyData:"4",data:{kind:"sparkline-cell",values:r,displayValues:r.map(o=>Math.round(o).toString()),color:n%2===0?"#77c4c4":"#D98466",graphKind:"line",hideAxis:!0,yAxis:[-50,50]}}}else{if(t===3)return tn=n+1,{kind:U.Custom,allowOverlay:!1,copyData:"4",data:{kind:"sparkline-cell",values:Xn(0,15).map(()=>Gt()*100-50),color:n%2===0?"#77c4c4":"#D98466",graphKind:"bar",yAxis:[-50,50]}};if(t===4)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"tags-cell",possibleTags:ir,tags:pc([ir[Math.round(Gt()*1e3)%ir.length].tag,ir[Math.round(Gt()*1e3)%ir.length].tag,ir[Math.round(Gt()*1e3)%ir.length].tag,ir[Math.round(Gt()*1e3)%ir.length].tag])}};if(t===5)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"user-profile-cell",image:n%2?void 0:"https://i.redd.it/aqc1hwhalsz71.jpg",initial:"B",tint:"#F1D86E",name:n%5?void 0:"Bee bb"}};if(t===6)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"dropdown-cell",allowedValues:[null,"Good","Better",{value:"best",label:"Best"}],value:"Good"}};if(t===7){tn=n+1,Gt();const r=Gt();return{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"range-cell",min:10,max:30,value:10+Math.round(r*20),step:1,label:`${Math.round(r*100)}%`,measureLabel:"100%"}}}else{if(t===8)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"article-cell",markdown:"## This is a test"}};if(t===9)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",data:{kind:"spinner-cell"}};if(t===10)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"date-picker-cell",date:new Date,displayDate:new Date().toISOString(),format:"datetime-local"}};if(t===11)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"date-picker-cell",date:new Date,displayDate:new Date().toISOString().split("T")[0],format:"date"}};if(t===12)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:n%2===0,data:{kind:"date-picker-cell",date:new Date,displayDate:new Date().toISOString().split("T")[1].replace("Z",""),format:"time"}};if(t===13)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",data:{kind:"links-cell",underlineOffset:6,links:[{title:"Linky phone",onClick:()=>alert("Click 1")},{title:"Click the linky dinky",onClick:()=>alert("Click 2")}]}};if(t===14)return tn=n+1,Gt(),{kind:U.Custom,allowOverlay:!0,copyData:"4",readonly:!0,data:{kind:"button-cell",backgroundColor:["transparent","#6572ffee"],color:["accentColor","accentFg"],borderColor:"#6572ffa0",borderRadius:9,title:"View Details",onClick:()=>window.alert("Button clicked")},themeOverride:{baseFontStyle:"700 12px"}};if(t===15)return{kind:U.Custom,allowOverlay:!1,copyData:"4",data:{canOpen:!0,depth:n%3,isOpen:n%7===0,kind:"tree-view-cell",text:"Row "+n,onClickOpener:()=>{alert("Open")}},readonly:!0};if(t===16)return{kind:U.Custom,allowOverlay:!0,copyData:["glide","data","grid"].join(","),readonly:n%2===0,data:{kind:"multi-select-cell",values:["glide","data","grid"],options:[{value:"glide",color:"#ffc38a"},{value:"data",color:"#ebfdea"},{value:"grid",color:"teal"}],allowDuplicates:!1,allowCreation:!0}}}}throw new Error("Fail")},columns:[{title:"Stars",width:100},{title:"Sparkline (area)",width:150},{title:"Sparkline (line)",width:150},{title:"Sparkline (bars)",width:150},{title:"Tags",width:250},{title:"Profile",width:150},{id:"dropdown",title:"Dropdown"},{title:"Range",width:150},{title:"Article",width:150},{title:"Spinner",width:150},{id:"datetime-picker",title:"Datetime Picker"},{id:"date-picker",title:"Date Picker"},{id:"time-picker",title:"Time Picker"},{title:"Links",width:150},{title:"Button",width:120},{id:"treeview",title:"TreeView"},{id:"multiselect",title:"Multiselect"}],rows:500}));ho.parameters={options:{showPanel:!1}};const go=()=>{const e=d.useRef([[]]);return d.createElement(qu,{title:"Custom cell editing",description:d.createElement(Zu,null,"Cells can be edited and responding to copy/paste using the copyData attribute.")},d.createElement(Qc,{...Ju,customRenderers:ju,onPaste:!0,fillHandle:!0,onCellEdited:(t,n)=>{var i;const[r,o]=t;n.kind===U.Custom&&(((i=e.current)==null?void 0:i[r])==null&&(e.current[r]=[]),Uu.isMatch(n)&&r===0?e.current[r][o]=n.data.value??"":Ku.isMatch(n)&&(r===1||r===2)&&(e.current[r][o]=n.data.values??[]))},getCellsForSelection:!0,getCellContent:t=>{var o,i,l,s,a,u;const[n,r]=t;if(n===0){const c=((i=(o=e.current)==null?void 0:o[n])==null?void 0:i[r])??"한글";return{kind:U.Custom,allowOverlay:!0,copyData:c,data:{kind:"dropdown-cell",allowedValues:["한글","영어","일어"],value:c}}}else if(n===1){const c=((s=(l=e.current)==null?void 0:l[n])==null?void 0:s[r])??["glide"];return{kind:U.Custom,allowOverlay:!0,copyData:c==null?void 0:c.join(","),data:{kind:"multi-select-cell",values:c,options:[{value:"glide",color:"#ffc38a",label:"Glide"},{value:"data",color:"#ebfdea",label:"Data"},{value:"grid",color:"teal",label:"Grid"}],allowDuplicates:!1,allowCreation:!0}}}else if(n===2){const c=((u=(a=e.current)==null?void 0:a[n])==null?void 0:u[r])??["glide data grid"];return{kind:U.Custom,allowOverlay:!0,copyData:c==null?void 0:c.join(","),data:{kind:"multi-select-cell",values:c,allowDuplicates:!0,allowCreation:!0}}}throw new Error("Fail")},columns:[{title:"Dropdown",width:150},{title:"Multi Select",width:200,themeOverride:{roundingRadius:4}},{title:"Multi Select (no options)",width:200}],rows:500}))};go.parameters={options:{showPanel:!1}};var sc,cc,uc;ho.parameters={...ho.parameters,docs:{...(sc=ho.parameters)==null?void 0:sc.docs,source:{originalSource:`() => {
  return <BeautifulWrapper title="Custom cells" description={<Description>Some of our extension cells.</Description>}>
            <DataEditor {...defaultProps} customRenderers={allCells} onPaste={true}
    // eslint-disable-next-line no-console
    onCellEdited={(...args) => console.log("Edit Cell", ...args)} getCellsForSelection={true} getCellContent={cell => {
      const [col, row] = cell;
      if (col === 0) {
        return {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          data: {
            kind: "star-cell",
            label: "Test",
            rating: 4
          }
        } as StarCell;
      } else if (col === 1) {
        num = row + 1;
        const values = range(0, 15).map(() => rand() * 100 - 50);
        return {
          kind: GridCellKind.Custom,
          allowOverlay: false,
          copyData: "4",
          data: {
            kind: "sparkline-cell",
            values,
            displayValues: values.map(x => Math.round(x).toString()),
            color: row % 2 === 0 ? "#77c4c4" : "#D98466",
            yAxis: [-50, 50]
          }
        } as SparklineCell;
      } else if (col === 2) {
        num = row + 1;
        const values = range(0, 15).map(() => rand() * 100 - 50);
        return {
          kind: GridCellKind.Custom,
          allowOverlay: false,
          copyData: "4",
          data: {
            kind: "sparkline-cell",
            values,
            displayValues: values.map(x => Math.round(x).toString()),
            color: row % 2 === 0 ? "#77c4c4" : "#D98466",
            graphKind: "line",
            hideAxis: true,
            yAxis: [-50, 50]
          }
        } as SparklineCell;
      } else if (col === 3) {
        num = row + 1;
        return {
          kind: GridCellKind.Custom,
          allowOverlay: false,
          copyData: "4",
          data: {
            kind: "sparkline-cell",
            values: range(0, 15).map(() => rand() * 100 - 50),
            color: row % 2 === 0 ? "#77c4c4" : "#D98466",
            graphKind: "bar",
            yAxis: [-50, 50]
          }
        } as SparklineCell;
      } else if (col === 4) {
        num = row + 1;
        rand();
        return {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "tags-cell",
            possibleTags: possibleTags,
            tags: uniq([possibleTags[Math.round(rand() * 1000) % possibleTags.length].tag, possibleTags[Math.round(rand() * 1000) % possibleTags.length].tag, possibleTags[Math.round(rand() * 1000) % possibleTags.length].tag, possibleTags[Math.round(rand() * 1000) % possibleTags.length].tag])
          }
        } as TagsCell;
      } else if (col === 5) {
        num = row + 1;
        rand();
        return {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "user-profile-cell",
            image: row % 2 ? undefined : "https://i.redd.it/aqc1hwhalsz71.jpg",
            initial: "B",
            tint: "#F1D86E",
            name: row % 5 ? undefined : "Bee bb"
          }
        } as UserProfileCell;
      } else if (col === 6) {
        num = row + 1;
        rand();
        const d: DropdownCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "dropdown-cell",
            allowedValues: [null, "Good", "Better", {
              value: "best",
              label: "Best"
            }],
            value: "Good"
          }
        };
        return d;
      } else if (col === 7) {
        num = row + 1;
        rand();
        const v = rand();
        const d: RangeCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "range-cell",
            min: 10,
            max: 30,
            value: 10 + Math.round(v * 20),
            step: 1,
            label: \`\${Math.round(v * 100)}%\`,
            measureLabel: "100%"
          }
        };
        return d;
      } else if (col === 8) {
        num = row + 1;
        rand();
        const d: ArticleCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "article-cell",
            markdown: "## This is a test"
          }
        };
        return d;
      } else if (col === 9) {
        num = row + 1;
        rand();
        const d: SpinnerCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          data: {
            kind: "spinner-cell"
          }
        };
        return d;
      } else if (col === 10) {
        num = row + 1;
        rand();
        const d: DatePickerCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "date-picker-cell",
            date: new Date(),
            displayDate: new Date().toISOString(),
            format: "datetime-local"
          }
        };
        return d;
      } else if (col === 11) {
        num = row + 1;
        rand();
        const d: DatePickerCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "date-picker-cell",
            date: new Date(),
            displayDate: new Date().toISOString().split("T")[0],
            format: "date"
          }
        };
        return d;
      } else if (col === 12) {
        num = row + 1;
        rand();
        const d: DatePickerCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: row % 2 === 0,
          data: {
            kind: "date-picker-cell",
            date: new Date(),
            displayDate: new Date().toISOString().split("T")[1].replace("Z", ""),
            format: "time"
          }
        };
        return d;
      } else if (col === 13) {
        num = row + 1;
        rand();
        const d: LinksCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          data: {
            kind: "links-cell",
            underlineOffset: 6,
            links: [{
              title: "Linky phone",
              onClick: () => alert("Click 1")
            }, {
              title: "Click the linky dinky",
              onClick: () => alert("Click 2")
            }]
          }
        };
        return d;
      } else if (col === 14) {
        num = row + 1;
        rand();
        const d: ButtonCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: "4",
          readonly: true,
          data: {
            kind: "button-cell",
            backgroundColor: ["transparent", "#6572ffee"],
            color: ["accentColor", "accentFg"],
            borderColor: "#6572ffa0",
            borderRadius: 9,
            title: "View Details",
            onClick: () => window.alert("Button clicked")
          },
          themeOverride: {
            baseFontStyle: "700 12px"
          }
        };
        return d;
      } else if (col === 15) {
        const t: TreeViewCell = {
          kind: GridCellKind.Custom,
          allowOverlay: false,
          copyData: "4",
          data: {
            canOpen: true,
            depth: row % 3,
            isOpen: row % 7 === 0,
            kind: "tree-view-cell",
            text: "Row " + row,
            onClickOpener: () => {
              alert("Open");
              return undefined;
            }
          },
          readonly: true
        };
        return t;
      } else if (col === 16) {
        const t: MultiSelectCell = {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: ["glide", "data", "grid"].join(","),
          readonly: row % 2 === 0,
          data: {
            kind: "multi-select-cell",
            values: ["glide", "data", "grid"],
            options: [{
              value: "glide",
              color: "#ffc38a"
            }, {
              value: "data",
              color: "#ebfdea"
            }, {
              value: "grid",
              color: "teal"
            }],
            allowDuplicates: false,
            allowCreation: true
          }
        };
        return t;
      }
      throw new Error("Fail");
    }} columns={[{
      title: "Stars",
      width: 100
    }, {
      title: "Sparkline (area)",
      width: 150
    }, {
      title: "Sparkline (line)",
      width: 150
    }, {
      title: "Sparkline (bars)",
      width: 150
    }, {
      title: "Tags",
      width: 250
    }, {
      title: "Profile",
      width: 150
    }, {
      id: "dropdown",
      title: "Dropdown"
    }, {
      title: "Range",
      width: 150
    }, {
      title: "Article",
      width: 150
    }, {
      title: "Spinner",
      width: 150
    }, {
      id: "datetime-picker",
      title: "Datetime Picker"
    }, {
      id: "date-picker",
      title: "Date Picker"
    }, {
      id: "time-picker",
      title: "Time Picker"
    }, {
      title: "Links",
      width: 150
    }, {
      title: "Button",
      width: 120
    }, {
      id: "treeview",
      title: "TreeView"
    }, {
      id: "multiselect",
      title: "Multiselect"
    }]} rows={500} />
        </BeautifulWrapper>;
}`,...(uc=(cc=ho.parameters)==null?void 0:cc.docs)==null?void 0:uc.source}}};var dc,fc,hc;go.parameters={...go.parameters,docs:{...(dc=go.parameters)==null?void 0:dc.docs,source:{originalSource:`() => {
  const data = React.useRef<any[][]>([[]]);
  return <BeautifulWrapper title="Custom cell editing" description={<Description>
                    Cells can be edited and responding to copy/paste using the copyData attribute.
                </Description>}>
            <DataEditor {...defaultProps} customRenderers={allCells} onPaste={true} fillHandle={true} onCellEdited={(cell, newVal) => {
      const [col, row] = cell;
      if (newVal.kind !== GridCellKind.Custom) {
        return;
      }
      if (data.current?.[col] == null) {
        data.current[col] = [];
      }
      if (DropdownRenderer.isMatch(newVal) && col === 0) {
        data.current[col][row] = newVal.data.value ?? "";
      } else if (MultiSelectRenderer.isMatch(newVal) && (col === 1 || col === 2)) {
        data.current[col][row] = newVal.data.values ?? [];
      }
    }} getCellsForSelection={true} getCellContent={cell => {
      const [col, row] = cell;
      if (col === 0) {
        const val = data.current?.[col]?.[row] ?? "한글";
        return {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: val,
          data: {
            kind: "dropdown-cell",
            allowedValues: ["한글", "영어", "일어"],
            value: val
          }
        } as DropdownCell;
      } else if (col === 1) {
        const val = data.current?.[col]?.[row] ?? ["glide"];
        return {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: val?.join(","),
          data: {
            kind: "multi-select-cell",
            values: val,
            options: [{
              value: "glide",
              color: "#ffc38a",
              label: "Glide"
            }, {
              value: "data",
              color: "#ebfdea",
              label: "Data"
            }, {
              value: "grid",
              color: "teal",
              label: "Grid"
            }],
            allowDuplicates: false,
            allowCreation: true
          }
        } as MultiSelectCell;
      } else if (col === 2) {
        const val = data.current?.[col]?.[row] ?? ["glide data grid"];
        return {
          kind: GridCellKind.Custom,
          allowOverlay: true,
          copyData: val?.join(","),
          data: {
            kind: "multi-select-cell",
            values: val,
            allowDuplicates: true,
            allowCreation: true
          }
        } as MultiSelectCell;
      }
      throw new Error("Fail");
    }} columns={[{
      title: "Dropdown",
      width: 150
    }, {
      title: "Multi Select",
      width: 200,
      themeOverride: {
        roundingRadius: 4
      }
    }, {
      title: "Multi Select (no options)",
      width: 200
    }]} rows={500} />
        </BeautifulWrapper>;
}`,...(hc=(fc=go.parameters)==null?void 0:fc.docs)==null?void 0:hc.source}}};const Xv=["CustomCells","CustomCellEditing"],nb=Object.freeze(Object.defineProperty({__proto__:null,CustomCellEditing:go,CustomCells:ho,__namedExportsOrder:Xv,default:_v},Symbol.toStringTag,{value:"Module"}));export{jh as C,Fc as T,uo as a,Ud as b,nb as c,so as i,If as m};
